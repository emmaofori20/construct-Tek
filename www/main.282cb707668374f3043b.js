(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,c=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,c),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mrSG"),s=n("q/0M"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.L)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.F)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),g=new s.b("@firebase/database"),m=(u=1,function(){return u++}),b=function(t){var e=Object(i.K)(t),n=new i.d;n.update(e);var r=n.digest();return i.h.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=v.apply(null,o):n+="object"==typeof o?Object(i.L)(o):o,n+=" "}return n},y=null,_=!0,w=function(t,e){Object(i.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.a.VERBOSE,y=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,t);y(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw g.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",T="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===I||e===T)return-1;if(e===I||t===T)return 1;var n=V(t),r=V(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},j=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.L)(e))},M=function(t){if("object"!=typeof t||null===t)return Object(i.L)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.L)(e[o]),r+=":",r+=M(t[e[o]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){var e,n,r,o,s;Object(i.f)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),V=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},F=function(t){try{t()}catch(e){setTimeout((function(){throw S("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},W=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){return this.appCheck?this.appCheck.getToken(t):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),q=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),B=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z="websocket",K="long_polling",G=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function $(t,e,n){var r;if(Object(i.f)("string"==typeof e,"typeof type must == string"),Object(i.f)("object"==typeof n,"typeof params must == object"),e===z)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return N(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var Q=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.n)(this.counters_)},t}(),Y={},X={};function J(t){var e=t.toString();return Y[e]||(Y[e]=new Q),Y[e]}var Z=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&F((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),tt="start",et="close",nt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=J(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),$(e,K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.B)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new rt((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===tt)n.id=s,n.password=a;else{if(i!==et)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.B)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.L)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.i)(e),r=R(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.B)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.L)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),rt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.B)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){O("frame writing exception"),c.stack&&O(c.stack),O(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.B)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),it=null;"undefined"!=typeof MozWebSocket?it=MozWebSocket:"undefined"!=typeof WebSocket&&(it=WebSocket);var ot=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=J(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.B)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),$(t,z,o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.B)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?r.headers.Authorization=this.authToken||"":r.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new it(this.connURL,[],r)}else this.mySock=new it(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==it&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.F)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.L)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),st=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[nt,ot]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ot&&ot.isAvailable(),s=i&&!ot.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ot];else{var a=this.transports_=[];try{for(var c=Object(o.g)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),at=function(){function t(t,e,n,r,i,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new st(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=j("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ct=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ut=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),lt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.z)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ut),ht=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function dt(){return new ht("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pt(t){return t.pieces_.length-t.pieceNum_}function gt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ht(t.pieces_,e)}function mt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function bt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ht(e,0)}function yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ht)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){var n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return wt(gt(t),gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ot(t,e){for(var n=bt(t,0),r=bt(e,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ct(t,e){if(pt(t)!==pt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pt(t)>pt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var kt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=bt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.J)(this.parts_[n]);St(this)}}();function St(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Et(t))}function Et(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var It,Tt,Pt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ut),At=1e3,jt=function(t){function e(n,r,o,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=At,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.B)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),Pt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&lt.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.L)(o)),Object(i.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new i.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.f)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.k)(t,"w")){var n=Object(i.I)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.s)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.E)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.L)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+Object(i.L)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=At),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,s,a,c,u,l,h,d,f,p,g,m=this;return Object(o.d)(this,(function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,r())},sendRequest:function(t){Object(i.f)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.e.apply(void 0,[b.sent(),2]),f=d[0],p=d[1],c?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,u=new at(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){S(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return g=b.sent(),this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&S(g),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.w)(this.interruptReasons_)&&(this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return M(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ht(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.g)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.B)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.z)()?t["framework.cordova"]=1:Object(i.C)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=lt.getInstance().currentlyOnline();return Object(i.w)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ct),Mt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Rt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Mt(I,t),r=new Mt(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Mt.MIN},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return It},set:function(t){It=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(T,It)},e.prototype.makePost=function(t,e){return Object(i.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Mt(t,It)},e.prototype.toString=function(){return".key"},e}(Rt),Dt=new Nt,Lt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Vt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ut.EMPTY_NODE,this.right=null!=o?o:Ut.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ut.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ut.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Vt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ut=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}();function Wt(t,e){return P(t.name,e.name)}function qt(t,e){return P(t,e)}var Bt,Ht,zt,Kt,Gt,$t=function(t){return"number"==typeof t?"number:"+D(t):"string:"+t},Qt=function(t){if(t.isLeafNode()){var e=t.val();Object(i.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.k)(e,".sv"),"Priority must be a string or number.")}else Object(i.f)(t===Tt||t.isEmpty(),"priority of unexpected type.");Object(i.f)(t===Tt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Yt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Bt},set:function(t){Bt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _t(e)?this:".priority"===ft(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ft(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.f)(".priority"!==r||1===pt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+$t(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.f)(o>=0,"Unknown leaf type: "+n),Object(i.f)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Xt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(T,new Yt("[PRIORITY-POST]",zt))},e.prototype.makePost=function(t,e){var n=Ht(t);return new Mt(e,new Yt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Rt)),Jt=Math.log(2),Zt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Jt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),te=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Vt(s,o.node,Vt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Vt(s,o.node,Vt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Vt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Vt.BLACK):(a(h,Vt.BLACK),a(h,Vt.RED))}return o}(new Zt(t.length));return new Ut(r||e,o)},ee={},ne=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.f)(ee&&Xt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":ee},{".priority":Xt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.I)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ut?e:null},t.prototype.hasIndex=function(t){return Object(i.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.f)(e!==Dt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(Mt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?te(s,e.getCompare()):ee;var l=e.toString(),h=Object(o.a)({},this.indexSet_);h[l]=e;var d=Object(o.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.G)(this.indexes_,(function(t,o){var s=Object(i.I)(r.indexSet_,o);if(Object(i.f)(s,"Missing index implementation for "+o),t===ee){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Mt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),te(a,s.getCompare())}return ee}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Mt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.G)(this.indexes_,(function(t){if(t===ee)return t;var r=n.get(e.name);return r?t.remove(new Mt(e.name,r)):t})),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qt(this.priorityNode_),this.children_.isEmpty()&&Object(i.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gt||(Gt=new t(new Ut(qt),null,ne.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gt:e},t.prototype.getChild=function(t){var e=ft(t);return null===e?this:this.getImmediateChild(e).getChild(gt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Mt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Gt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ft(t);if(null===n)return e;Object(i.f)(".priority"!==ft(t)||1===pt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(gt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Xt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+$t(this.getPriority().val())+":"),this.forEachChild(Xt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Mt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===Dt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Dt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Xt),r=e.getIterator(Xt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Dt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Ut(qt),re.EMPTY_NODE,ne.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function oe(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yt(t,oe(e));if(t instanceof Array){var n=re.EMPTY_NODE;return N(t,(function(e,r){if(Object(i.k)(t,e)&&"."!==e.substring(0,1)){var o=oe(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(oe(e))}var r=[],o=!1;if(N(t,(function(t,e){if("."!==t.substring(0,1)){var n=oe(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Mt(t,n)))}})),0===r.length)return re.EMPTY_NODE;var s=te(r,Wt,(function(t){return t.name}),qt);if(o){var a=te(r,Xt.getCompare());return new re(s,oe(e),new ne({".priority":a},{".priority":Xt}))}return new re(s,oe(e),ne.Default)}Object.defineProperties(Mt,{MIN:{value:new Mt(I,re.EMPTY_NODE)},MAX:{value:new Mt(T,ie)}}),Nt.__EMPTY_NODE=re.EMPTY_NODE,Yt.__childrenNodeConstructor=re,Tt=ie,zt=ie,Ht=oe;var se,ae,ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.f)(!_t(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=oe(t),r=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new Mt(e,r)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Mt(T,t)},e.prototype.toString=function(){return bt(this.indexPath_,0).join("/")},e}(Rt),ue=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return Mt.MAX},e.prototype.makePost=function(t,e){var n=oe(t);return new Mt(e,n)},e.prototype.toString=function(){return".value"},e}(Rt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",he=(se=0,ae=[],function(t){var e,n=t===se;se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(i.f)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ae[e];e--)ae[e]=0;ae[e]++}else for(e=0;e<12;e++)ae[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=le.charAt(ae[e]);return Object(i.f)(20===o.length,"nextPushId: Length should be 20."),o}),de=function(t){if("2147483647"===t)return"-";var e=V(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},fe=function(t){if("-2147483648"===t)return I;var e=V(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function ge(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function me(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function be(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(me(e,a)):Object(i.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ge(e,n)):s.trackChildChange(be(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Xt,(function(t,r){e.hasChild(t)||n.trackChildChange(me(t,r))})),e.isLeafNode()||e.forEachChild(Xt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(be(e,r,i))}else n.trackChildChange(ge(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Mt(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);var i=this;return e.forEachChild(Xt,(function(t,e){i.matches(new Mt(t,e))||(r=r.updateImmediateChild(t,re.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Mt(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(i.f)(c.numChildren()===this.limit_,"");var u=new Mt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(be(e,n,d)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(me(e,d));var g=c.updateImmediateChild(e,re.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(ge(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=o&&(o.trackChildChange(me(l.name,l.node)),o.trackChildChange(ge(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,re.EMPTY_NODE)):t},t}(),we=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Oe(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ce(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xe(t,e){var n=t.copy();return n.index_=e,n}function ke(t){var e,n={};return t.isDefault()||(t.index_===Xt?e="$priority":t.index_===ue?e="$value":t.index_===Dt?e="$key":(Object(i.f)(t.index_ instanceof ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.L)(e),t.startSet_&&(n.startAt=Object(i.L)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.L)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.L)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.L)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Se(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Xt&&(e.i=t.index_.toString()),e}var Ee=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.f)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=ke(t._queryParams);this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.I)(s.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=ke(t._queryParams),r=t._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(s){var a=Object(o.e)(s,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.H)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.F)(h.responseText)}catch(e){S("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},e}(ct),Ie=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Te(){return{value:null,children:new Map}}function Pe(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ft(e);t.children.has(r)||t.children.set(r,Te()),Pe(t.children.get(r),e=gt(e),n)}}function Ae(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Ae(r,new ht(e.toString()+"/"+t),n)}))}var je=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&N(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new je(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;N(e,(function(e,o){o>0&&Object(i.k)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Re=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ne(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var De,Le=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Re.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(i.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ht(e));return new t(dt(),n,this.revert)}return Object(i.f)(ft(this.path)===e,"operationForChild called for unrelated child."),new t(gt(this.path),this.affectedTree,this.revert)},t}(),Ve=function(){function t(t,e){this.source=t,this.path=e,this.type=Re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt()):new t(this.source,gt(this.path))},t}(),Fe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Re.OVERWRITE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt(),this.snap.getImmediateChild(e)):new t(this.source,gt(this.path),this.snap)},t}(),Ue=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Re.MERGE}return t.prototype.operationForChild=function(e){if(_t(this.path)){var n=this.children.subtree(new ht(e));return n.isEmpty()?null:n.value?new Fe(this.source,dt(),n.value):new t(this.source,dt(),n)}return Object(i.f)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,gt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),We=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;var e=ft(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),qe=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Be(t,e,n,r,o,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.g)("Should only compare child_ events.");var r=new Mt(e.childName,e.snapshotNode),o=new Mt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function He(t,e){return{eventCache:t,serverCache:e}}function ze(t,e,n,r){return He(new We(e,n,r),t.serverCache)}function Ke(t,e,n,r){return He(t.eventCache,new We(e,n,r))}function Ge(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $e(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Qe=function(){function t(t,e){void 0===e&&(De||(De=new Ut(A)),e=De),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return N(e,(function(t,e){n=n.set(new ht(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(_t(t))return null;var n=ft(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(gt(t),e);return null!=i?{path:yt(new ht(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(_t(e))return this;var n=ft(e),r=this.children.get(n);return null!==r?r.subtree(gt(e)):new t(null)},t.prototype.set=function(e,n){if(_t(e))return new t(n,this.children);var r=ft(e),i=(this.children.get(r)||new t(null)).set(gt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(_t(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ft(e),r=this.children.get(n);if(r){var i=r.remove(gt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_t(t))return this.value;var e=ft(t),n=this.children.get(e);return n?n.get(gt(t)):null},t.prototype.setTree=function(e,n){if(_t(e))return n;var r,i=ft(e),o=(this.children.get(i)||new t(null)).setTree(gt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(dt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(yt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,dt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_t(t))return null;var i=ft(t),o=this.children.get(i);return o?o.findOnPath_(gt(t),yt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,dt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_t(e))return this;this.value&&r(n,this.value);var i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(gt(e),yt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(dt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(yt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Ye=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Qe(null))},t}();function Xe(t,e,n){if(_t(e))return new Ye(new Qe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=wt(i,e);return o=o.updateChild(s,n),new Ye(t.writeTree_.set(i,o))}var a=new Qe(n),c=t.writeTree_.setTree(e,a);return new Ye(c)}function Je(t,e,n){var r=t;return N(n,(function(t,n){r=Xe(r,yt(e,t),n)})),r}function Ze(t,e){if(_t(e))return Ye.empty();var n=t.writeTree_.setTree(e,new Qe(null));return new Ye(n)}function tn(t,e){return null!=en(t,e)}function en(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function nn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xt,(function(t,n){e.push(new Mt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Mt(t,n.value))})),e}function rn(t,e){if(_t(e))return t;var n=en(t,e);return new Ye(null!=n?new Qe(n):t.writeTree_.subtree(e))}function on(t){return t.writeTree_.isEmpty()}function sn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(i.f)(null!==s.value,"Priority writes must always be leaf nodes"),o=s.value):r=t(yt(e,n),s,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(yt(e,".priority"),o)),r}(dt(),t.writeTree_,e)}function an(t,e){return vn(e,t)}function cn(t,e){if(t.snap)return xt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&xt(yt(t.path,n),e))return!0;return!1}function un(t){return t.visible}function ln(t,e,n){for(var r=Ye.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)xt(n,a)?r=Xe(r,c=wt(n,a),s.snap):xt(a,n)&&(c=wt(a,n),r=Xe(r,dt(),s.snap.getChild(c)));else{if(!s.children)throw Object(i.g)("WriteRecord should have .snap or .children");if(xt(n,a))r=Je(r,c=wt(n,a),s.children);else if(xt(a,n))if(_t(c=wt(a,n)))r=Je(r,dt(),s.children);else{var u=Object(i.I)(s.children,ft(c));if(u){var l=u.getChild(gt(c));r=Xe(r,dt(),l)}}}}}return r}function hn(t,e,n,r,i){if(r||i){var o=rn(t.visibleWrites,e);return!i&&on(o)?n:i||null!=n||tn(o,dt())?sn(ln(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(xt(t.path,e)||xt(e,t.path))}),e),n||re.EMPTY_NODE):null}var s=en(t.visibleWrites,e);if(null!=s)return s;var a=rn(t.visibleWrites,e);return on(a)?n:null!=n||tn(a,dt())?sn(a,n||re.EMPTY_NODE):null}function dn(t,e,n,r){return hn(t.writeTree,t.treePath,e,n,r)}function fn(t,e){return function(t,e,n){var r=re.EMPTY_NODE,i=en(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xt,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=rn(t.visibleWrites,e);return n.forEachChild(Xt,(function(t,e){var n=sn(rn(o,new ht(t)),e);r=r.updateImmediateChild(t,n)})),nn(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return nn(rn(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function pn(t,e,n,r){return function(t,e,n,r,o){Object(i.f)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=yt(e,n);if(tn(t.visibleWrites,s))return null;var a=rn(t.visibleWrites,s);return on(a)?o.getChild(n):sn(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function gn(t,e){return function(t,e){return en(t.visibleWrites,e)}(t.writeTree,yt(t.treePath,e))}function mn(t,e,n){return function(t,e,n,r){var i=yt(e,n),o=en(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(rn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function bn(t,e){return vn(yt(t.treePath,e),t.writeTree)}function vn(t,e){return{treePath:t,writeTree:e}}var yn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,be(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,me(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ge(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,be(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),_n=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),wn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new We(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$e(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=rn(t.visibleWrites,e),u=en(c,dt());if(null!=u)a=u;else{if(null==n)return[];a=sn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function On(t,e,n,r,o,s){var a=e.eventCache;if(null!=gn(r,n))return e;var c=void 0,u=void 0;if(_t(n))if(Object(i.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=$e(e),h=fn(r,l instanceof re?l:re.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=dn(r,$e(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=ft(n);if(".priority"===f){Object(i.f)(1===pt(n),"Can't have a priority with additional path components");var p=a.getNode(),g=pn(r,n,p,u=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=gt(n),b=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var v=pn(r,n,a.getNode(),u);b=null!=v?a.getNode().getImmediateChild(f).updateChild(m,v):a.getNode().getImmediateChild(f)}else b=mn(r,f,e.serverCache);c=null!=b?t.filter.updateChild(a.getNode(),f,b,m,o,s):a.getNode()}}return ze(e,c,a.isFullyInitialized()||_t(n),t.filter.filtersNodes())}function Cn(t,e,n,r,i,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(_t(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ft(n);if(!u.isCompleteForPath(n)&&pt(n)>1)return e;var f=gt(n),p=u.getNode().getImmediateChild(d).updateChild(f,r);c=".priority"===d?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),d,p,f,_n,null)}var g=Ke(e,c,u.isFullyInitialized()||_t(n),l.filtersNodes());return On(t,g,n,i,new wn(i,g,o),a)}function xn(t,e,n,r,i,o,s){var a,c,u=e.eventCache,l=new wn(i,e,o);if(_t(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=ze(e,c,!0,t.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=ze(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=gt(n),f=u.getNode().getImmediateChild(h),p=void 0;if(_t(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===mt(d)&&g.getChild(vt(d)).isEmpty()?g:g.updateChild(d,r):re.EMPTY_NODE}a=f.equals(p)?e:ze(e,t.filter.updateChild(u.getNode(),h,p,d,l,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function kn(t,e){return t.eventCache.isCompleteForChild(e)}function Sn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function En(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=_t(n)?r:new Qe(null).setTree(n,r);var l=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=Sn(0,e.serverCache.getNode().getImmediateChild(n),r);u=Cn(t,u,new ht(n),c,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=Sn(0,e.serverCache.getNode().getImmediateChild(n),r);u=Cn(t,u,new ht(n),h,i,o,s,a)}})),u}var In,Tn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ve(r.getIndex()),o=(n=r).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new _e(n):new ye(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(re.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(re.EMPTY_NODE,a.getNode(),null),l=new We(c,s.isFullyInitialized(),i.filtersNodes()),h=new We(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=He(h,l),this.eventGenerator_=new qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Pn(t,e){var n=$e(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_t(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function An(t){return 0===t.eventRegistrations_.length}function jn(t,e,n){var r=[];if(n){Object(i.f)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Mn(t,e,n,r){e.type===Re.MERGE&&null!==e.source.queryId&&(Object(i.f)($e(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.f)(Ge(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,r,o){var s,a,c=new yn;if(n.type===Re.OVERWRITE){var u=n;u.source.fromUser?s=xn(t,e,u.path,u.snap,r,o,c):(Object(i.f)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!_t(u.path),s=Cn(t,e,u.path,u.snap,r,o,a,c))}else if(n.type===Re.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,c){var u=yt(n,r);kn(e,ft(u))&&(a=xn(t,a,u,c,i,o,s))})),r.foreach((function(r,c){var u=yt(n,r);kn(e,ft(u))||(a=xn(t,a,u,c,i,o,s))})),a}(t,e,l.path,l.children,r,o,c):(Object(i.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=En(t,e,l.path,l.children,r,o,a,c))}else if(n.type===Re.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,o,s){var a;if(null!=gn(r,n))return e;var c=new wn(r,e,o),u=e.eventCache.getNode(),l=void 0;if(_t(n)||".priority"===ft(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=dn(r,$e(e));else{var d=e.serverCache.getNode();Object(i.f)(d instanceof re,"serverChildren would be complete if leaf node"),h=fn(r,d)}l=t.filter.updateFullNode(u,h=h,s)}else{var f=ft(n),p=mn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(u,f,p,gt(n),c,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,re.EMPTY_NODE,gt(n),c,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=dn(r,$e(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=gn(r,dt()),ze(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,o,c):function(t,e,n,r,i,o,s){if(null!=gn(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(_t(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Cn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(_t(n)){var u=new Qe(null);return c.getNode().forEachChild(Dt,(function(t,e){u=u.set(new ht(t),e)})),En(t,e,n,u,i,o,a,s)}return e}var l=new Qe(null);return r.foreach((function(t,e){var r=yt(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))})),En(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,o,c)}else{if(n.type!==Re.LISTEN_COMPLETE)throw Object(i.g)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return On(t,Ke(e,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered()),n,r,_n,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ge(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe(Ge(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return o=t.processor_,s=c.viewCache,Object(i.f)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.f)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.f)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Rn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Rn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Be(t,i,"child_removed",e,r,n),Be(t,i,"child_added",e,r,n),Be(t,i,"child_moved",o,r,n),Be(t,i,"child_changed",e,r,n),Be(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Nn,Dn=function(){return function(){this.views=new Map}}();function Ln(t,e,n,r){var s,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(i.f)(null!=u,"SyncTree gave us an op for an invalid query."),Mn(u,e,n,r)}var l=[];try{for(var h=Object(o.g)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Mn(u=d.value,e,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Vn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=dn(n,i?r:null),a=!1;s?a=!0:r instanceof re?(s=fn(n,r),a=!1):(s=re.EMPTY_NODE,a=!1);var c=He(new We(s,a,!1),new We(r,i,!1));return new Tn(e,c)}return o}function Fn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Un(t,e){var n,r,i=null;try{for(var s=Object(o.g)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||Pn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function Wn(t,e){return e._queryParams.loadsAllData()?Hn(t):t.views.get(e._queryIdentifier)}function qn(t,e){return null!=Wn(t,e)}function Bn(t){return null!=Hn(t)}function Hn(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var zn=1,Kn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Qe(null),this.pendingWriteTree_={visibleWrites:Ye.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Gn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.f)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?Zn(t,new Fe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function $n(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(i.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&cn(c,r.path)?o=!1:xt(r.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=ln(t.allWrites,un,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ze(t.visibleWrites,r.path):N(r.children,(function(e){t.visibleWrites=Ze(t.visibleWrites,yt(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var o=new Qe(null);return null!=r.snap?o=o.set(dt(),!0):N(r.children,(function(t){o=o.set(new ht(t),!0)})),Zn(t,new Le(r.path,o,n))}return[]}function Qn(t,e,n){return Zn(t,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Yn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||qn(a,e))){var u=function(t,e,n,r){var s,a,c=e._queryIdentifier,u=[],l=[],h=Bn(t);if("default"===c)try{for(var d=Object(o.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(o.e)(f.value,2),m=g[0];l=l.concat(jn(p=g[1],n,r)),An(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(b){s={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(c))&&(l=l.concat(jn(p,n,r)),An(p)&&(t.views.delete(c),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Bn(t)&&u.push(new(Object(i.f)(In,"Reference.ts has not been loaded"),In)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=u.removed;c=u.events;var h=-1!==l.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(s,(function(t,e){return Bn(e)}));if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Bn(e))return[Hn(e)];var r=[];return e&&(r=Fn(e)),N(n,(function(t,e){r=r.concat(e)})),r}))}(f),g=0;g<p.length;++g){var m=p[g],b=m.query,v=tr(t,m);t.listenProvider_.startListening(sr(b),er(t,b),v.hashFn,v.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(sr(e),null):l.forEach((function(e){var n=t.queryToTagMap.get(nr(e));t.listenProvider_.stopListening(sr(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=nr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return c}function Xn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=wt(t,r);o=o||Un(e,n),s=s||Bn(e)}));var a,c=t.syncPointTree_.get(r);c?(s=s||Bn(c),o=o||Un(c,dt())):(c=new Dn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=o?a=!0:(a=!1,o=re.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Un(e,dt());n&&(o=o.updateImmediateChild(t,n))})));var u=qn(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=nr(e);Object(i.f)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=zn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Vn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xt,(function(t,e){r.push(ge(t,e))})),n.isFullyInitialized()&&r.push(pe(n.getNode())),Rn(t,r,n.getNode(),e)}(s,n)}(c,e,n,an(t.pendingWriteTree_,r),o,a);if(!u&&!s){var f=Wn(c,e);d=d.concat(function(t,e,n){var r=e._path,o=er(t,e),s=tr(t,n),a=t.listenProvider_.startListening(sr(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)Object(i.f)(!Bn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!_t(t)&&e&&Bn(e))return[Hn(e).query];var r=[];return e&&(r=r.concat(Fn(e).map((function(t){return t.query})))),N(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(sr(h),er(t,h))}return a}(t,e,f))}return d}function Jn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Un(n,wt(t,e));if(r)return r}));return hn(r,e,i,n,!0)}function Zn(t,e){return function t(e,n,r,i){if(_t(e.path))return function t(e,n,r,i){var o=n.get(dt());null==r&&null!=o&&(r=Un(o,dt()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,c=bn(i,n),u=e.operationForChild(n);u&&(s=s.concat(t(u,o,a,c)))})),o&&(s=s.concat(Ln(o,e,i,r))),s}(e,n,r,i);var o=n.get(dt());null==r&&null!=o&&(r=Un(o,dt()));var s=[],a=ft(e.path),c=e.operationForChild(a),u=n.children.get(a);if(u&&c){var l=r?r.getImmediateChild(a):null,h=bn(i,a);s=s.concat(t(c,u,l,h))}return o&&(s=s.concat(Ln(o,e,i,r))),s}(e,t.syncPointTree_,null,an(t.pendingWriteTree_,dt()))}function tr(t,e){var n=e.query,r=er(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=rr(t,n);if(r){var i=ir(r),o=i.path,s=i.queryId,a=wt(o,e);return or(t,o,new Ve(Ne(s),a))}return[]}(t,n._path,r):function(t,e){return Zn(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Yn(t,n,null,i)}}}function er(t,e){var n=nr(e);return t.queryToTagMap.get(n)}function nr(t){return t._path.toString()+"$"+t._queryIdentifier}function rr(t,e){return t.tagToQueryMap.get(e)}function ir(t){var e=t.indexOf("$");return Object(i.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ht(t.substr(0,e))}}function or(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.f)(r,"Missing sync point for query tag that we're tracking"),Ln(r,n,an(t.pendingWriteTree_,e),null)}function sr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.f)(Nn,"Reference.ts has not been loaded"),Nn)(t._repo,t._path):t}var ar=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),cr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Jn(this.syncTree_,this.path_)},t}(),ur=function(t,e,n){return t&&"object"==typeof t?(Object(i.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?lr(t[".sv"],e,n):"object"==typeof t[".sv"]?hr(t[".sv"],e):void Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},lr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.f)(!1,"Unexpected server value: "+t)}},hr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.f)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.f)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},dr=function(t,e,n,r){return pr(e,new cr(n,t),r)},fr=function(t,e,n){return pr(t,new ar(e),n)};function pr(t,e,n){var r,i=t.getPriority().val(),o=ur(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ur(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Yt(a,oe(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Yt(o))),c.forEachChild(Xt,(function(t,i){var o=pr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var gr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function mr(t,e){for(var n=e instanceof ht?e:new ht(e),r=t,o=ft(n);null!==o;){var s=Object(i.I)(r.node.children,o)||{children:{},childCount:0};r=new gr(o,r,s),o=ft(n=gt(n))}return r}function br(t){return t.node.value}function vr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var o=function(t){return void 0===br(t)&&!yr(t)}(r),s=Object(i.k)(e.node.children,n);o&&s?(delete e.node.children[n],e.node.childCount--,t(e)):o||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function yr(t){return t.node.childCount>0}function _r(t,e){N(t.node.children,(function(n,r){e(new gr(n,t,r))}))}function wr(t){return new ht(null===t.parent?t.name:wr(t.parent)+"/"+t.name)}var Or=/[\[\].#$\/\u0000-\u001F\u007F]/,Cr=/[\[\].#$\u0000-\u001F\u007F]/,xr=10485760,kr=function(t){return"string"==typeof t&&0!==t.length&&!Or.test(t)},Sr=function(t){return"string"==typeof t&&0!==t.length&&!Cr.test(t)},Er=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(i.k)(t,".sv")},Ir=function(t,e,n,r){r&&void 0===e||Tr(Object(i.p)(t,"value"),e,n)},Tr=function(t,e,n){var r=n instanceof ht?new kt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Et(r));if("function"==typeof e)throw new Error(t+"contains a function "+Et(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+Et(r));if("string"==typeof e&&e.length>xr/3&&Object(i.J)(e)>xr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Et(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(N(e,(function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!kr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Et(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.J)(e),St(t)}(r,e),Tr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(i.J)(c),a.parts_.length>0&&(a.byteLength_-=1)})),o&&s)throw new Error(t+' contains ".value" child '+Et(r)+" in addition to actual children.")}},Pr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.p)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];N(e,(function(t,e){var r=new ht(t);if(Tr(o,e,yt(n,r)),".priority"===mt(r)&&!Er(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=bt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!kr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ot);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&xt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Ar=function(t,e,n){if(!n||void 0!==e){if(E(e))throw new Error(Object(i.p)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Er(e))throw new Error(Object(i.p)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.p)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Mr=function(t,e,n,r){if(!(r&&void 0===n||kr(n)))throw new Error(Object(i.p)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rr=function(t,e,n,r){if(!(r&&void 0===n||Sr(n)))throw new Error(Object(i.p)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Nr=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},Dr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!kr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Sr(t)}(n))throw new Error(Object(i.p)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Lr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.p)(t,e)+"must be a boolean.")},Vr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Fr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ct(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ur(t,e,n){Fr(t,n),qr(t,(function(t){return Ct(t,e)}))}function Wr(t,e,n){Fr(t,n),qr(t,(function(t){return xt(t,e)||xt(e,t)}))}function qr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Br(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Br(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&O("event: "+n.toString()),F(r)}}}var Hr="repo_interrupt",zr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Te(),this.transactionQueueTree_=new gr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Kr(t){var e=t.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gr(t){return(e=(e={timestamp:Kr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function $r(t,e,n,r,o){t.dataUpdateCount++;var s=new ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var c=Object(i.G)(n,(function(t){return oe(t)}));a=function(t,e,n,r){var i=rr(t,r);if(i){var o=ir(i),s=o.path,a=o.queryId,c=wt(s,e),u=Qe.fromObject(n);return or(t,s,new Ue(Ne(a),c,u))}return[]}(t.serverSyncTree_,s,c,o)}else{var u=oe(n);a=function(t,e,n,r){var i=rr(t,r);if(null!=i){var o=ir(i),s=o.path,a=o.queryId,c=wt(s,e);return or(t,s,new Fe(Ne(a),c,n))}return[]}(t.serverSyncTree_,s,u,o)}else if(r){var l=Object(i.G)(n,(function(t){return oe(t)}));a=function(t,e,n){var r=Qe.fromObject(n);return Zn(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=oe(n);a=Qn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=si(t,s)),Wr(t.eventQueue_,d,a)}function Qr(t,e){Yr(t,"connected",e),!1===e&&function(t){ni(t,"onDisconnectEvents");var e=Gr(t),n=Te();Ae(t.onDisconnect_,dt(),(function(r,i){var o=dr(r,i,t.serverSyncTree_,e);Pe(n,r,o)}));var r=[];Ae(n,dt(),(function(e,n){r=r.concat(Qn(t.serverSyncTree_,e,n));var i=li(t,e);si(t,i)})),t.onDisconnect_=Te(),Wr(t.eventQueue_,dt(),r)}(t)}function Yr(t,e,n){var r=new ht("/.info/"+e),i=oe(n);t.infoData_.updateSnapshot(r,i);var o=Qn(t.infoSyncTree_,r,i);Wr(t.eventQueue_,r,o)}function Xr(t){return t.nextWriteId_++}function Jr(t,e,n,r,i){ni(t,"set",{path:e.toString(),value:n,priority:r});var o=Gr(t),s=oe(n,r),a=Jn(t.serverSyncTree_,e),c=fr(s,a,o),u=Xr(t),l=Gn(t.serverSyncTree_,e,c,u,!0);Fr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var s=$n(t.serverSyncTree_,u,!o);Wr(t.eventQueue_,e,s),ri(0,i,n,r)}));var h=li(t,e);si(t,h),Wr(t.eventQueue_,h,[])}function Zr(t,e,n,r){var i=oe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Pe(t.onDisconnect_,e,i),ri(0,r,n,o)}))}function ti(t,e,n){var r;r=".info"===ft(e._path)?Yn(t.infoSyncTree_,e,n):Yn(t.serverSyncTree_,e,n),Ur(t.eventQueue_,e._path,r)}function ei(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Hr)}function ni(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function ri(t,e,n,r){e&&F((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function ii(t,e,n){return Jn(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function oi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ui(t,e),br(e)){var n=ci(t,e);Object(i.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),o=ii(t,e,r),s=o,a=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(i.f)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=wt(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){ni(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat($n(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(ui(t,mr(t.transactionQueueTree_,e)),oi(t,t.transactionQueueTree_),Wr(t.eventQueue_,e,i),a=0;a<o.length;a++)F(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(S("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;si(t,e)}}),a)}(t,wr(e),n)}else yr(e)&&_r(e,(function(e){oi(t,e)}))}function si(t,e){var n=ai(t,e),r=wr(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var c,u=e[a],l=wt(n,u.path),h=!1;if(Object(i.f)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat($n(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat($n(t.serverSyncTree_,u.currentWriteId,!0));else{var d=ii(t,u.path,s);u.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Tr("transaction failed: Data returned ",f,u.path);var p=oe(f);"object"==typeof f&&null!=f&&Object(i.k)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=u.currentWriteId,m=Gr(t),b=fr(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=Xr(t),s.splice(s.indexOf(g),1),o=(o=o.concat(Gn(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally))).concat($n(t.serverSyncTree_,g,!0))}else h=!0,c="nodata",o=o.concat($n(t.serverSyncTree_,u.currentWriteId,!0))}Wr(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(ui(t,t.transactionQueueTree_),c=0;c<r.length;c++)F(r[c]);oi(t,t.transactionQueueTree_)}}(t,ci(t,n),r),r}function ai(t,e){var n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===br(r);)r=mr(r,n),n=ft(e=gt(e));return r}function ci(t,e){var n=[];return function t(e,n,r){var i=br(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);_r(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ui(t,e){var n=br(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vr(e,n.length>0?n:void 0)}_r(e,(function(e){ui(t,e)}))}function li(t,e){var n=wr(ai(t,e)),r=mr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){hi(t,e)})),hi(t,r),function t(e,n,r,i){r&&!i&&n(e),_r(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){hi(t,e)})),n}function hi(t,e){var n=br(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.f)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.f)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat($n(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?vr(e,void 0):n.length=s+1,Wr(t.eventQueue_,wr(e),o),a=0;a<r.length;a++)F(r[a])}}var di=function(t,e){var n=fi(t),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ht(n.pathString)}},fi=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}},pi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.L)(this.snapshot.exportVal())},t}(),gi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),mi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),bi=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t,e,n,r=new i.a;return t=this._repo,e=this._path,n=r.wrapCallback((function(){})),t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(_t(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Xt,(function(t,n){Pe(e,new ht(t),n)})),t(e,n)}if(e.children.size>0){var i=ft(n);return n=gt(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),ri(0,n,r,i)})),r.promise},t.prototype.remove=function(){Nr("OnDisconnect.remove",this._path);var t=new i.a;return Zr(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Nr("OnDisconnect.set",this._path),Ir("OnDisconnect.set",t,this._path,!1);var e=new i.a;return Zr(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Nr("OnDisconnect.setWithPriority",this._path),Ir("OnDisconnect.setWithPriority",t,this._path,!1),Ar("OnDisconnect.setWithPriority",e,!1);var n=new i.a;return function(t,e,n,r,i){var o=oe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Pe(t.onDisconnect_,e,o),ri(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Nr("OnDisconnect.update",this._path),Pr("OnDisconnect.update",t,this._path,!1);var e=new i.a;return function(t,e,n,r){if(Object(i.w)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void ri(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&N(n,(function(n,r){var i=oe(r);Pe(t.onDisconnect_,yt(e,n),i)})),ri(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),vi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return _t(this._path)?null:mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Oi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Se(this._queryParams),e=M(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Se(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.q)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Ct(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function yi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function _i(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Dt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Xt){if(null!=e&&!Er(e)||null!=n&&!Er(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.f)(t.getIndex()instanceof ce||t.getIndex()===ue,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Oi=function(t){function e(e,n){return t.call(this,e,n,new we,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(vi),Ci=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ht(e),r=Si(this.ref,e);return new t(this._node.getChild(n),r,Xt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,Si(n.ref,r),Xt))}))},t.prototype.hasChild=function(t){var e=new ht(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function xi(t,e){return(t=Object(i.q)(t))._checkNotDeleted("ref"),void 0!==e?Si(t._root,e):t._root}function ki(t,e){(t=Object(i.q)(t))._checkNotDeleted("refFromURL");var n=di(e,t._repo.repoInfo_.nodeAdmin);Dr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),xi(t,n.path.toString())}function Si(t,e){var n;return null===ft((t=Object(i.q)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rr("child","path",n,!1)):Rr("child","path",e,!1),new Oi(t._repo,yt(t._path,e))}function Ei(t,e){t=Object(i.q)(t),Nr("push",t._path),Ir("push",e,t._path,!0);var n,r=Kr(t._repo),o=he(r),s=Si(t,o),a=Si(t,o);return n=null!=e?Ti(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Ii(t){return Nr("remove",t._path),Ti(t,null)}function Ti(t,e){t=Object(i.q)(t),Nr("set",t._path),Ir("set",e,t._path,!1);var n=new i.a;return Jr(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Pi(t,e){t=Object(i.q)(t),Nr("setPriority",t._path),Ar("setPriority",e,!1);var n=new i.a;return Jr(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ai(t,e,n){if(Nr("setWithPriority",t._path),Ir("setWithPriority",e,t._path,!1),Ar("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.a;return Jr(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function ji(t,e){Pr("update",e,t._path,!1);var n=new i.a;return function(t,e,n,r){ni(t,"update",{path:e.toString(),value:n});var o=!0,s=Gr(t),a={};if(N(n,(function(n,r){o=!1,a[n]=dr(yt(e,n),oe(r),t.serverSyncTree_,s)})),o)O("update() called with empty data.  Don't do anything."),ri(0,r,"ok",void 0);else{var c=Xr(t),u=function(t,e,n,r){!function(t,e,n,r){Object(i.f)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Je(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=Qe.fromObject(n);return Zn(t,new Ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Fr(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var s=$n(t.serverSyncTree_,c,!o),a=s.length>0?si(t,e):e;Wr(t.eventQueue_,a,s),ri(0,r,n,i)})),N(n,(function(n){var r=li(t,yt(e,n));si(t,r)})),Wr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}var Mi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new pi("value",this,new Ci(t.snapshotNode,new Oi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new gi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Ri=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new gi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.f)(null!=t.childName,"Child events should have a childName.");var n=Si(new Oi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new pi(t.type,this,new Ci(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Ni(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){s(e,n),ti(t._repo,t,u)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new mi(n,o||void 0),u="value"===e?new Mi(c):new Ri(e,c);return function(t,e,n){var r;r=".info"===ft(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Ur(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return ti(t._repo,t,u)}}function Di(t,e,n,r){return Ni(t,"value",e,n,r)}function Li(t,e,n,r){return Ni(t,"child_added",e,n,r)}function Vi(t,e,n,r){return Ni(t,"child_changed",e,n,r)}function Fi(t,e,n,r){return Ni(t,"child_moved",e,n,r)}function Ui(t,e,n,r){return Ni(t,"child_removed",e,n,r)}function Wi(t,e,n){var r=null,i=n?new mi(n):null;"value"===e?r=new Mi(i):e&&(r=new Ri(e,i)),ti(t._repo,t,r)}var qi=function(){return function(){}}(),Bi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Ir("endAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(wi(e),_i(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(t._repo,t._path,e,t._orderByCalled)},e}(qi);function Hi(t,e){return Mr("endAt","key",e,!0),new Bi(t,e)}var zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Ir("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Dt?("string"==typeof n&&(n=fe(n)),i=Ce(e,n,r)):i=Ce(e,n,null==r?I:fe(r)),i.endBeforeSet_=!0,i);if(wi(o),_i(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(t._repo,t._path,o,t._orderByCalled)},e}(qi);function Ki(t,e){return Mr("endBefore","key",e,!0),new zi(t,e)}var Gi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Ir("startAt",this._value,t._path,!0);var e=Oe(t._queryParams,this._value,this._key);if(wi(e),_i(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vi(t._repo,t._path,e,t._orderByCalled)},e}(qi);function $i(t,e){return void 0===t&&(t=null),Mr("startAt","key",e,!0),new Gi(t,e)}var Qi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Ir("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Dt?("string"==typeof n&&(n=de(n)),i=Oe(e,n,r)):i=Oe(e,n,null==r?T:de(r)),i.startAfterSet_=!0,i);if(wi(o),_i(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vi(t._repo,t._path,o,t._orderByCalled)},e}(qi);function Yi(t,e){return Mr("startAfter","key",e,!0),new Qi(t,e)}var Xi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(qi);function Ji(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xi(t)}var Zi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(qi);function to(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Zi(t)}var eo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){yi(t,"orderByChild");var e=new ht(this._path);if(_t(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ce(e),r=xe(t._queryParams,n);return _i(r),new vi(t._repo,t._path,r,!0)},e}(qi);function no(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rr("orderByChild","path",t,!1),new eo(t)}var ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){yi(t,"orderByKey");var e=xe(t._queryParams,Dt);return _i(e),new vi(t._repo,t._path,e,!0)},e}(qi);function io(){return new ro}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){yi(t,"orderByPriority");var e=xe(t._queryParams,Xt);return _i(e),new vi(t._repo,t._path,e,!0)},e}(qi);function so(){return new oo}var ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){yi(t,"orderByValue");var e=xe(t._queryParams,ue);return _i(e),new vi(t._repo,t._path,e,!0)},e}(qi);function co(){return new ao}var uo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(Ir("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bi(this._value,this._key)._apply(new Gi(this._value,this._key)._apply(t))},e}(qi);function lo(t,e){return Mr("equalTo","key",e,!0),new uo(t,e)}function ho(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.q)(t);try{for(var c=Object(o.g)(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(i.f)(!In,"__referenceConstructor has already been defined"),In=t}(Oi),function(t){Object(i.f)(!Nn,"__referenceConstructor has already been defined"),Nn=t}(Oi);var fo={},po=!1;function go(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=di(o,i),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,c=(a=di(o="http://"+u+"?ns="+c.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new B(B.OWNER):new q(t.name,t.options,e);Dr("Invalid Firebase Database URL",a),_t(a.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=fo[e.name];i||(fo[e.name]=i={});var o=i[t.toURLString()];return o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zr(t,po,n,r),i[t.toURLString()]=o,o}(c,t,l,new W(t.name,n));return new mo(h,t)}var mo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=J(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ee(t.repoInfo_,(function(e,n,r,i){$r(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Qr(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.L)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new jt(t.repoInfo_,e,(function(e,n,r,i){$r(t,e,n,r,i)}),(function(e){Qr(t,e)}),(function(e){!function(t,e){N(e,(function(e,n){Yr(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new Me(t.stats_,t.server_)},o=t.repoInfo_.toString(),X[o]||(X[o]=r()),X[o]),t.infoData_=new Ie,t.infoSyncTree_=new Kn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Qn(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Yr(t,"connected",!1),t.serverSyncTree_=new Kn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Wr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Oi(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=fo[e=this.app.name])&&n[t.key]===t||k("Database "+e+"("+t.repoInfo_+") has already been deleted."),ei(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&k("Cannot call "+t+" on a deleted database.")},t}();function bo(t){(t=Object(i.q)(t))._checkNotDeleted("goOffline"),ei(t._repo)}function vo(t){var e;(t=Object(i.q)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Hr)}var yo={".sv":"timestamp"},_o=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function wo(t,e,n){var r;if(t=Object(i.q)(t),Nr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.a,a=Di(t,(function(){}));return function(e,n,r,o,a,c){ni(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Ci(r,new Oi(t._repo,t._path),Xt),s.resolve(new _o(n,i)))},status:null,order:m(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ii(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Tr("transaction failed: Data returned ",h,u.path),u.status=0;var d=mr(e.transactionQueueTree_,n),f=br(d)||[];f.push(u),vr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.k)(h,".priority")?(p=Object(i.I)(h,".priority"),Object(i.f)(Er(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Jn(e.serverSyncTree_,n)||re.EMPTY_NODE).getPriority().val();var g=Gr(e),b=oe(h,p),v=fr(b,l,g);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=v,u.currentWriteId=Xr(e);var y=Gn(e.serverSyncTree_,n,v,u.currentWriteId,u.applyLocally);Wr(e.eventQueue_,n,y),oi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var Oo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.M)("OnDisconnect.cancel",0,1,arguments.length),Object(i.N)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(i.M)("OnDisconnect.remove",0,1,arguments.length),Object(i.N)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(i.M)("OnDisconnect.set",1,2,arguments.length),Object(i.N)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(i.M)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.N)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(i.M)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.N)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},t}(),Co=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.M)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),xo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.M)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.M)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.M)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.M)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.M)("DataSnapshot.child",0,1,arguments.length),e=String(e),Rr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.M)("DataSnapshot.hasChild",1,1,arguments.length),Rr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.M)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.M)("DataSnapshot.forEach",1,1,arguments.length),Object(i.N)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(i.M)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.M)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.M)("DataSnapshot.ref",0,0,arguments.length),new So(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ko=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.M)("Query.on",2,4,arguments.length),Object(i.N)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,o),u=function(t,e){n.call(c.context,new xo(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Di(this._delegate,u,l),n;case"child_added":return Li(this._delegate,u,l),n;case"child_removed":return Ui(this._delegate,u,l),n;case"child_changed":return Vi(this._delegate,u,l),n;case"child_moved":return Fi(this._delegate,u,l),n;default:throw new Error(Object(i.p)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.M)("Query.off",0,3,arguments.length),jr("Query.off",t,!0),Object(i.N)("Query.off","callback",e,!0),Object(i.O)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Wi(this._delegate,t,r)}else Wi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=wt(t,n);r=r||Un(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Un(i,dt()):(i=new Dn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new We(r,!0,!1):null;return Ge(Vn(i,e,an(t.pendingWriteTree_,e._path),o?s.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=oe(n),i=Qn(t.serverSyncTree_,e._path,r);return Ur(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return ni(t,"get for query "+Object(i.L)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(i.q)(t))._repo,t).then((function(e){return new Ci(e,new Oi(t._repo,t._path),t._queryParams.getIndex())}))}(this._delegate).then((function(e){return new xo(t.database,e)}))},t.prototype.once=function(e,n,r,o){var s=this;Object(i.M)("Query.once",1,4,arguments.length),Object(i.N)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.on",r,o),c=new i.a,u=function(t,e){var r=new xo(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Di(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Li(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Ui(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Vi(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Fi(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(i.p)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(i.M)("Query.limitToFirst",1,1,arguments.length),new t(this.database,ho(this._delegate,Ji(e)))},t.prototype.limitToLast=function(e){return Object(i.M)("Query.limitToLast",1,1,arguments.length),new t(this.database,ho(this._delegate,to(e)))},t.prototype.orderByChild=function(e){return Object(i.M)("Query.orderByChild",1,1,arguments.length),new t(this.database,ho(this._delegate,no(e)))},t.prototype.orderByKey=function(){return Object(i.M)("Query.orderByKey",0,0,arguments.length),new t(this.database,ho(this._delegate,io()))},t.prototype.orderByPriority=function(){return Object(i.M)("Query.orderByPriority",0,0,arguments.length),new t(this.database,ho(this._delegate,so()))},t.prototype.orderByValue=function(){return Object(i.M)("Query.orderByValue",0,0,arguments.length),new t(this.database,ho(this._delegate,co()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.M)("Query.startAt",0,2,arguments.length),new t(this.database,ho(this._delegate,$i(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.M)("Query.startAfter",0,2,arguments.length),new t(this.database,ho(this._delegate,Yi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.M)("Query.endAt",0,2,arguments.length),new t(this.database,ho(this._delegate,Hi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.M)("Query.endBefore",0,2,arguments.length),new t(this.database,ho(this._delegate,Ki(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.M)("Query.equalTo",1,2,arguments.length),new t(this.database,ho(this._delegate,lo(e,n)))},t.prototype.toString=function(){return Object(i.M)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.M)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.M)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.N)(t,"cancel",r.cancel,!0),r.context=n,Object(i.O)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.p)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new So(this.database,new Oi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),So=function(t){function e(e,n){var r=t.call(this,e,new vi(n._repo,n._path,new we,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.M)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.M)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Si(this._delegate,t))},e.prototype.getParent=function(){Object(i.M)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.M)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.M)("Reference.set",1,2,arguments.length),Object(i.N)("Reference.set","onComplete",e,!0);var n=Ti(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(i.M)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nr("Reference.update",this._delegate._path),Object(i.N)("Reference.update","onComplete",e,!0);var o=ji(this._delegate,t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},e.prototype.setWithPriority=function(t,e,n){Object(i.M)("Reference.setWithPriority",2,3,arguments.length),Object(i.N)("Reference.setWithPriority","onComplete",n,!0);var r=Ai(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(i.M)("Reference.remove",0,1,arguments.length),Object(i.N)("Reference.remove","onComplete",t,!0);var e=Ii(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.M)("Reference.transaction",1,3,arguments.length),Object(i.N)("Reference.transaction","transactionUpdate",t,!1),Object(i.N)("Reference.transaction","onComplete",e,!0),Lr("Reference.transaction","applyLocally",n,!0);var o=wo(this._delegate,t,{applyLocally:n}).then((function(t){return new Co(t.committed,new xo(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(i.M)("Reference.setPriority",1,2,arguments.length),Object(i.N)("Reference.setPriority","onComplete",e,!0);var n=Pi(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(i.M)("Reference.push",0,2,arguments.length),Object(i.N)("Reference.push","onComplete",n,!0);var o=Ei(this._delegate,t),s=o.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Nr("Reference.onDisconnect",this._delegate._path),new Oo(new bi(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(ko),Eo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.q)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new B(B.OWNER);else if(r.mockUserToken){var a=Object(i.l)(r.mockUserToken,t.app.options.projectId);s=new B(a)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.M)("database.ref",0,1,arguments.length),t instanceof So){var e=ki(this._delegate,t.toString());return new So(this,e)}return e=xi(this._delegate,t),new So(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.M)(e,1,1,arguments.length);var n=ki(this._delegate,t);return new So(this,n)},t.prototype.goOffline=function(){return Object(i.M)("database.goOffline",0,0,arguments.length),bo(this._delegate)},t.prototype.goOnline=function(){return Object(i.M)("database.goOnline",0,0,arguments.length),vo(this._delegate)},t.ServerValue={TIMESTAMP:yo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Io=Object.freeze({__proto__:null,forceLongPolling:function(){ot.forceDisallow(),nt.forceAllow()},forceWebSockets:function(){nt.forceDisallow()},isWebSocketsAvailable:function(){return ot.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new je(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);N(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new r.c("auth-internal",new r.b("database-standalone"));return u.setComponent(new r.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Eo(go(e,u,void 0,n,a),e),namespace:o}}}),To=jt;jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Po=Object.freeze({__proto__:null,DataConnection:To,RealTimeConnection:at,hijackHash:function(t){var e=jt.prototype.put;return jt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){jt.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){po=t}(t)}}),Ao=Eo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Eo(go(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:So,Query:ko,Database:Eo,DataSnapshot:xo,enableLogging:w,INTERNAL:Io,ServerValue:Ao,TEST_ACCESS:Po}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.0"),Object(i.B)()&&(t.exports=n)}(e.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9a8T":function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="dist/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(r(n(1)),n(6)),s=r(o),a=r(n(7)),c=r(n(8)),u=r(n(9)),l=r(n(10)),h=r(n(11)),d=r(n(14)),f=[],p=!1,g=document.all&&!window.atob,m={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},b=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,h.default)(f,m),(0,l.default)(f,m.once),f},v=function(){f=(0,d.default)(),b()};t.exports={init:function(t){return m=i(m,t),f=(0,d.default)(),function(t){return!0===t||"mobile"===t&&u.default.mobile()||"phone"===t&&u.default.phone()||"tablet"===t&&u.default.tablet()||"function"==typeof t&&!0===t()}(m.disable)||g?void f.forEach((function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")})):(document.querySelector("body").setAttribute("data-aos-easing",m.easing),document.querySelector("body").setAttribute("data-aos-duration",m.duration),document.querySelector("body").setAttribute("data-aos-delay",m.delay),"DOMContentLoaded"===m.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?b(!0):"load"===m.startEvent?window.addEventListener(m.startEvent,(function(){b(!0)})):document.addEventListener(m.startEvent,(function(){b(!0)})),window.addEventListener("resize",(0,a.default)(b,m.debounceDelay,!0)),window.addEventListener("orientationchange",(0,a.default)(b,m.debounceDelay,!0)),window.addEventListener("scroll",(0,s.default)((function(){(0,l.default)(f,m.once)}),m.throttleDelay)),m.disableMutationObserver||(0,c.default)("[data-aos]",v),f)},refresh:b,refreshHard:v}},function(t,e){},,,,,function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&m.call(t)==a}(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var r=l.test(t);return r||h.test(t)?d(t.slice(2),r?2:8):u.test(t)?s:+t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="Expected a function",s=NaN,a="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,f="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=Object.prototype.toString,b=Math.max,v=Math.min,y=function(){return g.Date.now()};t.exports=function(t,e,i){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(o);return n(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),function(t,e,i){function s(e){var n=d,r=f;return d=f=void 0,w=e,g=t.apply(r,n)}function a(t){return w=t,m=setTimeout(u,e),O?s(t):g}function c(t){var n=t-_;return void 0===_||n>=e||n<0||C&&t-w>=p}function u(){var t=y();return c(t)?l(t):void(m=setTimeout(u,function(t){var n=e-(t-_);return C?v(n,p-(t-w)):n}(t)))}function l(t){return m=void 0,x&&d?s(t):(d=f=void 0,g)}function h(){var t=y(),n=c(t);if(d=arguments,f=this,_=t,n){if(void 0===m)return a(_);if(C)return m=setTimeout(u,e),s(_)}return void 0===m&&(m=setTimeout(u,e)),g}var d,f,p,g,m,_,w=0,O=!1,C=!1,x=!0;if("function"!=typeof t)throw new TypeError(o);return e=r(e)||0,n(i)&&(O=!!i.leading,p=(C="maxWait"in i)?b(r(i.maxWait)||0,e):p,x="trailing"in i?!!i.trailing:x),h.cancel=function(){void 0!==m&&clearTimeout(m),w=0,d=_=f=m=void 0},h.flush=function(){return void 0===m?g:l(y())},h}(t,e,{leading:s,maxWait:e,trailing:a})}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&g.call(t)==s}(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=u.test(t);return r||l.test(t)?h(t.slice(2),r?2:8):c.test(t)?o:+t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,d="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),g=Object.prototype.toString,m=Math.max,b=Math.min,v=function(){return p.Date.now()};t.exports=function(t,e,i){function o(e){var n=h,r=d;return h=d=void 0,_=e,p=t.apply(r,n)}function s(t){return _=t,g=setTimeout(c,e),w?o(t):p}function a(t){var n=t-y;return void 0===y||n>=e||n<0||O&&t-_>=f}function c(){var t=v();return a(t)?u(t):void(g=setTimeout(c,function(t){var n=e-(t-y);return O?b(n,f-(t-_)):n}(t)))}function u(t){return g=void 0,C&&h?o(t):(h=d=void 0,p)}function l(){var t=v(),n=a(t);if(h=arguments,d=this,y=t,n){if(void 0===g)return s(y);if(O)return g=setTimeout(c,e),o(y)}return void 0===g&&(g=setTimeout(c,e)),p}var h,d,f,p,g,y,_=0,w=!1,O=!1,C=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e)||0,n(i)&&(w=!!i.leading,f=(O="maxWait"in i)?m(r(i.maxWait)||0,e):f,C="trailing"in i?!!i.trailing:C),l.cancel=function(){void 0!==g&&clearTimeout(g),_=0,h=y=d=g=void 0},l.flush=function(){return void 0===g?p:u(v())},l}}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){t&&t.forEach((function(t){var e=Array.prototype.slice.call(t.addedNodes),n=Array.prototype.slice.call(t.removedNodes);e.concat(n).filter((function(t){return t.hasAttribute&&t.hasAttribute("data-aos")})).length&&o()}))}Object.defineProperty(e,"__esModule",{value:!0});var r=window.document,i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=function(){};e.default=function(t,e){var s=new i(n);o=e,s.observe(r.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}},function(t,e){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"phone",value:function(){var t=n();return!(!i.test(t)&&!o.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=n();return!(!s.test(t)&&!a.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=window.pageYOffset,r=window.innerHeight;t.forEach((function(t,i){!function(t,e,n){var r=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0!==r&&("false"===r||!n&&"true"!==r)&&t.node.classList.remove("aos-animate")}(t,r+n,e)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(12));e.default=function(t,e){return t.forEach((function(t,n){t.node.classList.add("aos-init"),t.position=(0,r.default)(t.node,e.offset)})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(13));e.default=function(t,e){var n=0,i=0,o=window.innerHeight,s={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(i=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(t=document.querySelectorAll(s.anchor)[0]),n=(0,r.default)(t).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=t.offsetHeight/2;break;case"bottom-bottom":n+=t.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+t.offsetHeight;break;case"center-center":n+=o/2+t.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=t.offsetHeight+o;break;case"center-top":n+=t.offsetHeight/2+o}return s.anchorPlacement||s.offset||isNaN(e)||(i=e),n+i}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),n+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:n,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,(function(t){return{node:t}}))}}])},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.5.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Es})),n.d(e,"b",(function(){return Zd})),n.d(e,"c",(function(){return $d})),n.d(e,"d",(function(){return Kd})),n.d(e,"e",(function(){return Gd})),n.d(e,"f",(function(){return Hf})),n.d(e,"g",(function(){return Rf})),n.d(e,"h",(function(){return Dt})),n.d(e,"i",(function(){return Jo})),n.d(e,"j",(function(){return hf})),n.d(e,"k",(function(){return Ld})),n.d(e,"l",(function(){return Su})),n.d(e,"m",(function(){return nf})),n.d(e,"n",(function(){return Dd})),n.d(e,"o",(function(){return Eu})),n.d(e,"p",(function(){return ur})),n.d(e,"q",(function(){return Uh})),n.d(e,"r",(function(){return ut})),n.d(e,"s",(function(){return C})),n.d(e,"t",(function(){return ct})),n.d(e,"u",(function(){return Ss})),n.d(e,"v",(function(){return Fd})),n.d(e,"w",(function(){return Ku})),n.d(e,"x",(function(){return Gu})),n.d(e,"y",(function(){return ef})),n.d(e,"z",(function(){return Hd})),n.d(e,"A",(function(){return St})),n.d(e,"B",(function(){return Df})),n.d(e,"C",(function(){return kt})),n.d(e,"D",(function(){return Tf})),n.d(e,"E",(function(){return pf})),n.d(e,"F",(function(){return x})),n.d(e,"G",(function(){return Ud})),n.d(e,"H",(function(){return Jd})),n.d(e,"I",(function(){return Xd})),n.d(e,"J",(function(){return Vd})),n.d(e,"K",(function(){return Au})),n.d(e,"L",(function(){return Tu})),n.d(e,"M",(function(){return Pu})),n.d(e,"N",(function(){return Mu})),n.d(e,"O",(function(){return Zr})),n.d(e,"P",(function(){return S})),n.d(e,"Q",(function(){return Ff})),n.d(e,"R",(function(){return Xu})),n.d(e,"S",(function(){return Of})),n.d(e,"T",(function(){return ts})),n.d(e,"U",(function(){return Nu})),n.d(e,"V",(function(){return Ru})),n.d(e,"W",(function(){return Zu})),n.d(e,"X",(function(){return Lt})),n.d(e,"Y",(function(){return Pf})),n.d(e,"Z",(function(){return Er})),n.d(e,"ab",(function(){return z})),n.d(e,"bb",(function(){return wt})),n.d(e,"cb",(function(){return Sr})),n.d(e,"db",(function(){return qf})),n.d(e,"eb",(function(){return kf})),n.d(e,"fb",(function(){return tf})),n.d(e,"gb",(function(){return ds})),n.d(e,"hb",(function(){return gl})),n.d(e,"ib",(function(){return Xr})),n.d(e,"jb",(function(){return Mr})),n.d(e,"kb",(function(){return br})),n.d(e,"lb",(function(){return yr})),n.d(e,"mb",(function(){return Cr})),n.d(e,"nb",(function(){return wr})),n.d(e,"ob",(function(){return _r})),n.d(e,"pb",(function(){return Or})),n.d(e,"qb",(function(){return hl})),n.d(e,"rb",(function(){return Wf})),n.d(e,"sb",(function(){return dl})),n.d(e,"tb",(function(){return fl})),n.d(e,"ub",(function(){return vr})),n.d(e,"vb",(function(){return J})),n.d(e,"wb",(function(){return zs})),n.d(e,"xb",(function(){return Ma})),n.d(e,"yb",(function(){return ja})),n.d(e,"zb",(function(){return ll})),n.d(e,"Ab",(function(){return dh})),n.d(e,"Bb",(function(){return _e})),n.d(e,"Cb",(function(){return q})),n.d(e,"Db",(function(){return mr})),n.d(e,"Eb",(function(){return Rs})),n.d(e,"Fb",(function(){return de})),n.d(e,"Gb",(function(){return Cu})),n.d(e,"Hb",(function(){return ki})),n.d(e,"Ib",(function(){return Zs})),n.d(e,"Jb",(function(){return pc})),n.d(e,"Kb",(function(){return ed})),n.d(e,"Lb",(function(){return Wt})),n.d(e,"Mb",(function(){return Qt})),n.d(e,"Nb",(function(){return j})),n.d(e,"Ob",(function(){return M})),n.d(e,"Pb",(function(){return Kt})),n.d(e,"Qb",(function(){return Yt})),n.d(e,"Rb",(function(){return _a})),n.d(e,"Sb",(function(){return Ea})),n.d(e,"Tb",(function(){return Ta})),n.d(e,"Ub",(function(){return Ia})),n.d(e,"Vb",(function(){return Sa})),n.d(e,"Wb",(function(){return ka})),n.d(e,"Xb",(function(){return Aa})),n.d(e,"Yb",(function(){return or})),n.d(e,"Zb",(function(){return pu})),n.d(e,"ac",(function(){return yt})),n.d(e,"bc",(function(){return wa})),n.d(e,"cc",(function(){return ud})),n.d(e,"dc",(function(){return Ra})),n.d(e,"ec",(function(){return id})),n.d(e,"fc",(function(){return vn})),n.d(e,"gc",(function(){return mn})),n.d(e,"hc",(function(){return Fa})),n.d(e,"ic",(function(){return jh})),n.d(e,"jc",(function(){return Rh})),n.d(e,"kc",(function(){return Ha})),n.d(e,"lc",(function(){return Wa})),n.d(e,"mc",(function(){return Ca})),n.d(e,"nc",(function(){return za})),n.d(e,"oc",(function(){return mh})),n.d(e,"pc",(function(){return bh})),n.d(e,"qc",(function(){return vh})),n.d(e,"rc",(function(){return Xh})),n.d(e,"sc",(function(){return ya})),n.d(e,"tc",(function(){return qe})),n.d(e,"uc",(function(){return ni})),n.d(e,"vc",(function(){return Gt})),n.d(e,"wc",(function(){return Jh})),n.d(e,"xc",(function(){return fc})),n.d(e,"yc",(function(){return va})),n.d(e,"zc",(function(){return cd})),n.d(e,"Ac",(function(){return Pc})),n.d(e,"Bc",(function(){return Ac})),n.d(e,"Cc",(function(){return jc})),n.d(e,"Dc",(function(){return Mc})),n.d(e,"Ec",(function(){return Zh}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function c(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return c()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__annotations__",b="__parameters__",v="__prop__metadata__";function y(t,e,n,r,i){return g(()=>{const o=_(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(m)?n[m]:Object.defineProperty(n,m,{value:[]})[m]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function _(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function w(t,e,n){return g(()=>{const r=_(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(b)?t[b]:Object.defineProperty(t,b,{value:[]})[b];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function O(t,e,n,r){return g(()=>{const i=_(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(v)?o[v]:Object.defineProperty(o,v,{value:{}})[v];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const C=w("Inject",t=>({token:t})),x=w("Optional"),k=w("Self"),S=w("SkipSelf"),E=w("Host"),I=w("Attribute",t=>({attributeName:t}));var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function P(t){for(let e in t)if(t[e]===P)return e;throw Error("Could not find renamed property on target object.")}function A(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function M(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function R(t){return N(t,t[L])||N(t,t[U])}function N(t,e){return e&&e.token===t?e:null}function D(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(W))?t[V]:null}const L=P({"\u0275prov":P}),V=P({"\u0275inj":P}),F=P({"\u0275provFallback":P}),U=P({ngInjectableDef:P}),W=P({ngInjectorDef:P});function q(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(q).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function B(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const H=P({__forward_ref__:P});function z(t){return t.__forward_ref__=z,t.toString=function(){return q(this())},t}function K(t){return G(t)?t():t}function G(t){return"function"==typeof t&&t.hasOwnProperty(H)&&t.__forward_ref__===z}const $="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,J=$||X||Q||Y;var Z=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function tt(){const t=J.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const et=P({"\u0275cmp":P}),nt=P({"\u0275dir":P}),rt=P({"\u0275pipe":P}),it=P({"\u0275mod":P}),ot=P({"\u0275loc":P}),st=P({"\u0275fac":P}),at=P({__NG_ELEMENT_ID__:P});class ct{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=j({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const ut=new ct("INJECTOR",-1),lt={},ht=/\n/gm,dt="__source",ft=P({provide:String,useValue:P});let pt,gt=void 0;function mt(t){const e=gt;return gt=t,e}function bt(t){const e=pt;return pt=t,e}function vt(t,e=T.Default){if(void 0===gt)throw new Error("inject() must be called from an injection context");return null===gt?Ot(t,void 0,e):gt.get(t,e&T.Optional?null:void 0,e)}function yt(t,e=T.Default){return(pt||vt)(K(t),e)}function _t(t){throw new Error("invalid")}const wt=yt;function Ot(t,e,n){const r=R(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&T.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${q(t)}]`)}function Ct(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=T.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof x||"Optional"===i.ngMetadataName||i===x?n|=T.Optional:i instanceof S||"SkipSelf"===i.ngMetadataName||i===S?n|=T.SkipSelf:i instanceof k||"Self"===i.ngMetadataName||i===k?n|=T.Self:t=i instanceof C||i===C?i.token:i}e.push(yt(t,n))}else e.push(yt(r))}return e}class xt{get(t,e=lt){if(e===lt){const e=new Error(`NullInjectorError: No provider for ${q(t)}!`);throw e.name="NullInjectorError",e}return e}}class kt{}class St{}function Et(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function It(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),It(r,e)):e!==t&&e.push(r)}return e}function Tt(t,e){t.forEach(t=>Array.isArray(t)?Tt(t,e):e(t))}function Pt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function At(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Mt(t,e,n){let r=Nt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Rt(t,e){const n=Nt(t,e);if(n>=0)return t[1|n]}function Nt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Lt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Vt={},Ft=[];let Ut=0;function Wt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,id:"c",styles:t.styles||Ft,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ut++,n.inputs=$t(t.inputs,e),n.outputs=$t(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Bt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ht):null,n})}function qt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(Bt),r.pipeDefs=()=>n.map(Ht)}function Bt(t){return Xt(t)||Jt(t)}function Ht(t){return Zt(t)}const zt={};function Kt(t){const e={type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{zt[t.id]=t.type}),e}function Gt(t,e){return g(()=>{const n=ee(t,!0);n.declarations=e.declarations||Ft,n.imports=e.imports||Ft,n.exports=e.exports||Ft})}function $t(t,e){if(null==t)return Vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Qt=Wt;function Yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[et]||null}function Jt(t){return t[nt]||null}function Zt(t){return t[rt]||null}function te(t,e){return t.hasOwnProperty(st)?t[st]:null}function ee(t,e){const n=t[it]||null;if(!n&&!0===e)throw new Error(`Type ${q(t)} does not have '\u0275mod' property.`);return n}const ne=20,re=10;function ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function oe(t){return Array.isArray(t)&&!0===t[1]}function se(t){return 0!=(8&t.flags)}function ae(t){return 2==(2&t.flags)}function ce(t){return 1==(1&t.flags)}function ue(t){return null!==t.template}function le(t){return 0!=(512&t[2])}class he{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function de(){return fe}function fe(t){return t.type.prototype.ngOnChanges&&(t.setInput=ge),pe}function pe(){const t=me(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ge(t,e,n,r){const i=me(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Vt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new he(c&&c.currentValue,e,s===Vt),t[r]=e}function me(t){return t.__ngSimpleChanges__||null}de.ngInherit=!0;const be="http://www.w3.org/2000/svg",ve="http://www.w3.org/1998/MathML/";let ye=void 0;function _e(t){ye=t}function we(){return void 0!==ye?ye:"undefined"!=typeof document?document:void 0}function Oe(t){return!!t.listen}const Ce={createRenderer:(t,e)=>we()};function xe(t){for(;Array.isArray(t);)t=t[0];return t}function ke(t,e){return xe(e[t+ne])}function Se(t,e){return xe(e[t.index])}function Ee(t,e){return t.data[e+ne]}function Ie(t,e){return t[e+ne]}function Te(t,e){const n=e[t];return ie(n)?n:n[0]}function Pe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ae(t){return 4==(4&t[2])}function je(t){return 128==(128&t[2])}function Me(t,e){return null===t||null==e?null:t[e]}function Re(t){t[18]=0}function Ne(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const De={lFrame:un(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Le(){return De.bindingsEnabled}function Ve(){De.bindingsEnabled=!0}function Fe(){De.bindingsEnabled=!1}function Ue(){return De.lFrame.lView}function We(){return De.lFrame.tView}function qe(t){De.lFrame.contextLView=t}function Be(){return De.lFrame.currentTNode}function He(t,e){De.lFrame.currentTNode=t,De.lFrame.isParent=e}function ze(){return De.lFrame.isParent}function Ke(){De.lFrame.isParent=!1}function Ge(){return De.checkNoChangesMode}function $e(t){De.checkNoChangesMode=t}function Qe(){const t=De.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ye(){return De.lFrame.bindingIndex}function Xe(t){return De.lFrame.bindingIndex=t}function Je(){return De.lFrame.bindingIndex++}function Ze(t){const e=De.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tn(t,e){const n=De.lFrame;n.bindingIndex=n.bindingRootIndex=t,en(e)}function en(t){De.lFrame.currentDirectiveIndex=t}function nn(t){const e=De.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function rn(){return De.lFrame.currentQueryIndex}function on(t){De.lFrame.currentQueryIndex=t}function sn(t,e){const n=cn();De.lFrame=n,n.currentTNode=e,n.lView=t}function an(t){const e=cn(),n=t[1];De.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function cn(){const t=De.lFrame,e=null===t?null:t.child;return null===e?un(t):e}function un(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ln(){const t=De.lFrame;return De.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hn=ln;function dn(){const t=ln();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return De.lFrame.selectedIndex}function pn(t){De.lFrame.selectedIndex=t}function gn(){const t=De.lFrame;return Ee(t.tView,t.selectedIndex)}function mn(){De.lFrame.currentNamespace=be}function bn(){De.lFrame.currentNamespace=ve}function vn(){De.lFrame.currentNamespace=null}function yn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _n(t,e,n){Cn(t,e,3,n)}function wn(t,e,n,r){(3&t[2])===n&&Cn(t,e,n,r)}function On(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Cn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(xn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function xn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const kn=-1;class Sn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function En(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Tn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function In(t){return 3===t||4===t||6===t}function Tn(t){return 64===t.charCodeAt(0)}function Pn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||An(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function An(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function jn(t){return t!==kn}function Mn(t){return 32767&t}function Rn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function Nn(t){return"string"==typeof t?t:null==t?"":""+t}function Dn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Nn(t)}const Ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(J))();function Vn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Fn(t){return{name:"document",target:t.ownerDocument}}function Un(t){return{name:"body",target:t.ownerDocument.body}}function Wn(t){return t instanceof Function?t():t}let qn=!0;function Bn(t){const e=qn;return qn=t,e}let Hn=0;function zn(t,e){const n=Gn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Kn(r.data,t),Kn(e,null),Kn(r.blueprint,null));const i=$n(t,e),o=t.injectorIndex;if(jn(i)){const t=Mn(i),n=Rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Kn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Gn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $n(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return kn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return kn}function Qn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(at)&&(r=n[at]),null==r&&(r=n[at]=Hn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function Yn(t,e,n,r=T.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(at)?t[at]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){sn(e,t);try{const t=i();if(null!=t||r&T.Optional)return t;throw new Error(`No provider for ${Dn(n)}!`)}finally{hn()}}else if("number"==typeof i){if(-1===i)return new rr(t,e);let o=null,s=Gn(t,e),a=kn,c=r&T.Host?e[16][6]:null;for((-1===s||r&T.SkipSelf)&&(a=-1===s?$n(t,e):e[s+8],a!==kn&&nr(r,!1)?(o=e[1],s=Mn(a),e=Rn(a,e)):s=-1);-1!==s;){const t=e[1];if(er(i,s,t.data)){const t=Jn(s,e,n,o,r,c);if(t!==Xn)return t}a=e[s+8],a!==kn&&nr(r,e[1].data[s+8]===c)&&er(i,s,e)?(o=t,s=Mn(a),e=Rn(a,e)):s=-1}}}if(r&T.Optional&&void 0===i&&(i=null),0==(r&(T.Self|T.Host))){const t=e[9],o=bt(void 0);try{return t?t.get(n,i,r&T.Optional):Ot(n,i,r&T.Optional)}finally{bt(o)}}if(r&T.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Dn(n)}]`)}const Xn={};function Jn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=Zn(a,s,n,null==r?ae(a)&&qn:r!=s&&2===a.type,i&T.Host&&o===a);return null!==c?tr(e,s,c,a):Xn}function Zn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&ue(t)&&t.type===n)return c}return null}function tr(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Sn){const s=i;if(s.resolving)throw new Error("Circular dep for "+Dn(o[n]));const a=Bn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?bt(s.injectImpl):null;sn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=fe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&bt(c),Bn(a),s.resolving=!1,hn()}}return i}function er(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function nr(t,e){return!(t&T.Self||t&T.Host&&e)}class rr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Yn(this._tNode,this._lView,t,void 0,e)}}function ir(t){const e=t;if(G(t))return()=>{const t=ir(K(e));return t?t():null};let n=te(e);if(null===n){const t=D(e);n=t&&t.factory}return n||null}function or(t){return g(()=>{const e=t.prototype.constructor,n=e[st]||ir(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[st]||ir(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function sr(t){return t.ngDebugContext}function ar(t){return t.ngOriginalError}function cr(t,...e){t.error(...e)}class ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sr(t)?sr(t):this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}class lr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class hr extends lr{getTypeName(){return"HTML"}}class dr extends lr{getTypeName(){return"Style"}}class fr extends lr{getTypeName(){return"Script"}}class pr extends lr{getTypeName(){return"URL"}}class gr extends lr{getTypeName(){return"ResourceURL"}}function mr(t){return t instanceof lr?t.changingThisBreaksApplicationSecurity:t}function br(t,e){const n=vr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function vr(t){return t instanceof lr&&t.getTypeName()||null}function yr(t){return new hr(t)}function _r(t){return new dr(t)}function wr(t){return new fr(t)}function Or(t){return new pr(t)}function Cr(t){return new gr(t)}let xr=!0,kr=!1;function Sr(){return kr=!0,xr}function Er(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");xr=!1}function Ir(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Tr:new Pr(t)}class Tr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Pr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ar=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mr(t){return(t=String(t)).match(Ar)||t.match(jr)?t:(Sr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Rr(t){return(t=String(t)).split(",").map(t=>Mr(t.trim())).join(", ")}function Nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Dr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Lr=Nr("area,br,col,hr,img,wbr"),Vr=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fr=Nr("rp,rt"),Ur=Dr(Fr,Vr),Wr=Dr(Lr,Dr(Vr,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dr(Fr,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ur),qr=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Br=Nr("srcset"),Hr=Dr(qr,Br,Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zr=Nr("script,style,template");class Kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wr.hasOwnProperty(e))return this.sanitizedSomething=!0,!zr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;qr[i]&&(o=Mr(o)),Br[i]&&(o=Rr(o)),this.buf.push(" ",e,'="',Qr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wr.hasOwnProperty(e)&&!Lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$r=/([^\#-~ |!])/g;function Qr(t){return t.replace(/&/g,"&amp;").replace(Gr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace($r,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yr;function Xr(t,e){let n=null;try{Yr=Yr||Ir(t);let r=e?String(e):"";n=Yr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Yr.getInertBodyElement(r)}while(r!==o);const s=new Kr,a=s.sanitizeChildren(Jr(n)||n);return Sr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Jr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Jr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ti(t){const e=si();return e?e.sanitize(Zr.HTML,t)||"":br(t,"HTML")?mr(t):Xr(we(),Nn(t))}function ei(t){const e=si();return e?e.sanitize(Zr.STYLE,t)||"":br(t,"Style")?mr(t):Nn(t)}function ni(t){const e=si();return e?e.sanitize(Zr.URL,t)||"":br(t,"URL")?mr(t):Mr(Nn(t))}function ri(t){const e=si();if(e)return e.sanitize(Zr.RESOURCE_URL,t)||"";if(br(t,"ResourceURL"))return mr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function ii(t){const e=si();if(e)return e.sanitize(Zr.SCRIPT,t)||"";if(br(t,"Script"))return mr(t);throw new Error("unsafe value used in a script context")}function oi(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ri:ni}(e,n)(t)}function si(){const t=Ue();return t&&t[12]}function ai(t,e){t.__ngContext__=e}function ci(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ui="ng-template";function li(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ci(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function hi(t){return 0===t.type&&t.tagName!==ui}function di(t,e,n){return e===(0!==t.type||n?t.tagName:ui)}function fi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(In(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!di(t,c,n)||""===c&&1===e.length){if(pi(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!li(t.attrs,u,n)){if(pi(r))return!1;s=!0}continue}const l=gi(8&r?"class":c,i,hi(t),n);if(-1===l){if(pi(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ci(e,u,0)||2&r&&u!==t){if(pi(r))return!1;s=!0}}}}else{if(!s&&!pi(r)&&!pi(c))return!1;if(s&&pi(c))continue;s=!1,r=c|1&r}}return pi(r)||s}function pi(t){return 0==(1&t)}function gi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mi(t,e,n=!1){for(let r=0;r<e.length;r++)if(fi(t,e[r],n))return!0;return!1}function bi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function vi(t,e){return t?":not("+e.trim()+")":e}function yi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||pi(s)||(e+=vi(o,i),i=""),r=s,o=o||!pi(r);n++}return""!==i&&(e+=vi(o,i)),e}const _i={};function wi(t){const e=t[3];return oe(e)?e[3]:e}function Oi(t){return xi(t[13])}function Ci(t){return xi(t[4])}function xi(t){for(;null!==t&&!oe(t);)t=t[4];return t}function ki(t){Si(We(),Ue(),fn()+t,Ge())}function Si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_n(e,r,n)}else{const r=t.preOrderHooks;null!==r&&wn(e,r,0,n)}pn(n)}function Ei(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function Ti(t){return 2|t}function Pi(t){return(131068&t)>>2}function Ai(t,e){return-131069&t|e<<2}function ji(t){return 1|t}function Mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];on(i),n.contentQueries(2,e[o],o)}}}function Ri(t,e,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ni(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Re(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Di(t,e,n,r,i){const o=e+ne,s=t.data[o]||function(t,e,n,r,i){const o=Be(),s=ze(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return He(s,!0),s}function Li(t,e,n){an(e);try{const r=t.viewQuery;null!==r&&mo(1,r,n);const i=t.template;null!==i&&Ui(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mi(t,e),t.staticViewQueries&&mo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)lo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,dn()}}function Vi(t,e,n,r){const i=e[2];if(256==(256&i))return;an(e);const o=Ge();try{Re(e),Xe(t.bindingStartIndex),null!==n&&Ui(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_n(e,n,null)}else{const n=t.preOrderHooks;null!==n&&wn(e,n,0,null),On(e,0)}if(function(t){for(let e=Oi(t);null!==e;e=Ci(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ne(r,1),n[2]|=1024}}}(e),function(t){for(let e=Oi(t);null!==e;e=Ci(e))for(let t=re;t<e.length;t++){const n=e[t],r=n[1];je(n)&&Vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Mi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_n(e,n)}else{const n=t.contentHooks;null!==n&&wn(e,n,1),On(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,pn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(tn(r,i),s(2,e[i])),i++)}}}finally{pn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)uo(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&mo(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_n(e,n)}else{const n=t.viewHooks;null!==n&&wn(e,n,2),On(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ne(e[3],-1))}finally{dn()}}function Fi(t,e,n,r){const i=e[10],o=!Ge(),s=Ae(e);try{o&&!s&&i.begin&&i.begin(),s&&Li(t,e,r),Vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ui(t,e,n,r,i){const o=fn();try{pn(-1),2&r&&e.length>ne&&Si(t,e,0,Ge()),n(r,i)}finally{pn(o)}}function Wi(t,e,n){if(se(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function qi(t,e,n){Le()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||zn(n,e),ai(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ue(r);o&&io(e,n,r);const c=tr(e,t,a,n);ai(c,e),null!==s&&so(0,a-i,c,r,0,s),o&&(Te(n.index,e)[8]=c)}}(t,e,n,Se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-ne,c=De.lFrame.currentDirectiveIndex;try{pn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];en(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Ji(r,i):s&&o.push(null)}}finally{pn(-1),en(c)}}(t,e,n))}function Bi(t,e,n=Se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Hi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function zi(t,e,n,r,i,o,s,a,c,u){const l=ne+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_i);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ki(t,e,n,r){const i=vo(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Gi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function $i(t,e,n,r,i,o,s,a){const c=Se(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(wo(t,n,u,r,i),ae(e)&&function(t,e){const n=Te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Oe(o)?o.setProperty(c,r,i):Tn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Qi(t,e,n,r){let i=!1;if(Le()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];mi(n,s.selectors,!1)&&(i||(i=[]),Qn(zn(n,e),t,s.type),ue(s)?(to(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,no(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Zi(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=Pn(n.mergedAttrs,u.hostAttrs),ro(t,e,u),eo(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-ne),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-ne),c=!0),Yi(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||hi(e)?null:ao(n,i);o.push(u),s=Gi(n,c,s),a=Gi(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Xi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Pn(n.mergedAttrs,n.attrs),i}function Yi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Xi(t,e,n){for(let r=0;r<n;r++)e.push(_i),t.blueprint.push(_i),t.data.push(null)}function Ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zi(t,e,n){const r=ne-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function to(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function eo(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ue(e)&&(n[""]=t)}}function no(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ro(t,e,n){t.data.push(n);const r=n.factory||(n.factory=te(n.type)),i=new Sn(r,ue(n),null);t.blueprint.push(i),e.push(i)}function io(t,e,n){const r=Se(e,t),i=Hi(n),o=t[10],s=ho(t,Ni(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function oo(t,e,n,r,i,o){const s=Se(t,e),a=e[11];if(null==r)Oe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Nn(r):i(r,t.tagName||"",n);Oe(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function so(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ao(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function co(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function uo(t,e){const n=Te(e,t);if(je(n)){const t=n[1];80&n[2]?Vi(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Oi(e);null!==r;r=Ci(r))for(let e=re;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Vi(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Te(n[r],e);je(i)&&i[5]>0&&t(i)}}(n)}}function lo(t,e){const n=Te(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Li(r,n,n[8])}function ho(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fo(t){for(;t;){t[2]|=64;const e=wi(t);if(le(t)&&!e)return t;t=e}return null}function po(t,e,n){const r=e[10];r.begin&&r.begin();try{Vi(t,e,t.template,n)}catch(i){throw _o(e,i),i}finally{r.end&&r.end()}}function go(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Pe(n),i=r[1];Fi(i,r,i.template,n)}}(t[8])}function mo(t,e,n){on(0),e(t,n)}const bo=(()=>Promise.resolve(null))();function vo(t){return t[7]||(t[7]=[])}function yo(t,e,n){return(null===t||ue(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function _o(t,e){const n=t[9],r=n?n.get(ur,null):null;r&&r.handleError(e)}function wo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Oo(t,e,n){const r=ke(e,t),i=t[11];Oe(i)?i.setValue(r,n):r.textContent=n}function Co(t,e,n,r,i){if(null!=r){let o,s=!1;oe(r)?o=r:ie(r)&&(s=!0,r=r[0]);const a=xe(r);0===t&&null!==n?null==i?Ao(e,n,a):Po(e,n,a,i||null):1===t&&null!==n?Po(e,n,a,i||null):2===t?Do(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xe(n)&&Co(e,t,r,o,i);for(let s=re;s<n.length;s++){const i=n[s];Vo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function xo(t,e){return Oe(e)?e.createText(t):e.createTextNode(t)}function ko(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ne(i,-1)),n.splice(r,1)}function So(t,e){if(t.length<=re)return;const n=re+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ko(o,r),e>0&&(t[n-1][4]=r[4]);const s=At(t,re+e);Vo(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Eo(t,e){if(!(256&e[2])){const n=e[11];Oe(n)&&n.destroyNode&&Vo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Io(t[1],t);for(;e;){let n=null;if(ie(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ie(e)&&Io(e[1],e),e=e[3];null===e&&(e=t),ie(e)&&Io(e[1],e),n=e&&e[4]}e=n}}(e)}}function Io(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Sn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):xe(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Oe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&oe(e[3])){n!==e[3]&&ko(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function To(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Lt.ShadowDom&&n!==Lt.Native)return null}return Se(r,n)}function Po(t,e,n,r){Oe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ao(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function jo(t,e,n,r){null!==r?Po(t,e,n,r):Ao(t,e,n)}function Mo(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function Ro(t,e){return 3===t.type||4===t.type?Se(t,e):null}function No(t,e,n,r){const i=To(t,r,e);if(null!=i){const t=e[11],o=Ro(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)jo(t,i,n[e],o);else jo(t,i,n,o)}}function Do(t,e,n){const r=Mo(t,e);r&&function(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Lo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&ai(xe(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(Lo(t,e,n.child,r,i,o,!1),Co(e,t,i,a,o)):1===c?Uo(t,e,r,n,i,o):Co(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Vo(t,e,n,r,i,o){Lo(n,r,t.firstChild,e,i,o,!1)}function Fo(t,e,n){Uo(e[11],0,e,n,To(t,n,e),Ro(n.parent||e[6],e))}function Uo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Co(e,t,i,a[c],o);else Lo(t,e,a,s[3],i,o,!0)}function Wo(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qo(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Bo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(xe(s)),oe(s))for(let e=re;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=wi(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Eo(this._lView[1],this._lView)}onDestroy(t){Ki(this._lView[1],this._lView,null,t)}markForCheck(){fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){po(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$e(!0);try{po(t,e,n)}finally{$e(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Vo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ho extends Bo{constructor(t){super(t),this._view=t}detectChanges(){go(this._view)}checkNoChanges(){!function(t){$e(!0);try{go(t)}finally{$e(!1)}}(this._view)}get context(){return null}}let zo,Ko,Go;function $o(t,e,n){return zo||(zo=class extends t{}),new zo(Se(e,n))}function Qo(t,e,n,r){return Ko||(Ko=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ni(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Li(e,n,t),new Bo(n)}}),0===n.type?new Ko(r,n,$o(e,n,r)):null}function Yo(t,e,n,r){let i;Go||(Go=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return $o(e,this._hostTNode,this._hostView)}get injector(){return new rr(this._hostTNode,this._hostView)}get parentInjector(){const t=$n(this._hostTNode,this._hostView);if(jn(t)){const e=Rn(t,this._hostView),n=Mn(t);return new rr(e[1].data[n+8],e)}return new rr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-re}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(kt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),oe(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Go(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=re+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-re?(e[4]=n[i],Pt(n,re+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=re+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Se(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return oe(e)?t(-1,e):xe(e)}}{const t=n[16],i=t[6],o=wi(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],c=Mo(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Vo(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),Pt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=So(this._lContainer,e);n&&(At(this._lContainer[8],e),Eo(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=So(this._lContainer,e);return n&&null!=At(this._lContainer[8],e)?new Bo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(oe(o))i=o;else{let t;if(3===n.type)t=xe(o);else if(t=r[11].createComment(""),le(r)){const e=r[11],i=Se(n,r);Po(e,Mo(e,i),t,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else No(r[1],r,t,n);r[n.index]=i=co(o,r,t,n),ho(r,i)}return new Go(i,n,r)}function Xo(t=!1){return function(t,e,n){if(!n&&ae(t)){const n=Te(t.index,e);return new Bo(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Bo(e[16],e):null}(Be(),Ue(),t)}let Jo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zo(),t})();const Zo=Xo,ts=Function;function es(t){return"function"==typeof t}const ns=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,rs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,is=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,os=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ss{constructor(t){this._reflect=t||J.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=jt(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),ns.test(n)||os.test(n)||rs.test(n)&&!is.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&as(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(b)&&t[b],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):jt(t.length)}parameters(t){if(!es(t))return[];const e=cs(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?as(t.decorators):t.hasOwnProperty(m)?t[m]:null}annotations(t){if(!es(t))return[];const e=cs(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=as(e[t])}),n}return t.hasOwnProperty(v)?t[v]:null}propMetadata(t){if(!es(t))return{};const e=cs(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return es(t)&&this._ownPropMetadata(t,cs(t))||{}}hasLifecycleHook(t,e){return t instanceof ts&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+q(t)}resourceUri(t){return"./"+q(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function as(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function cs(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let us=null;function ls(){return us=us||new ss}function hs(t){return function(t){const e=tt();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof x||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof S||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof k||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof E||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof C)n.token=o.token;else if(o instanceof I){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else o===Jo?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=Z.Invalid):r(e);return n}(e,t))}(ls().parameters(t))}const ds=new ct("Set Injector scope."),fs={},ps={},gs=[];let ms=void 0;function bs(){return void 0===ms&&(ms=new xt),ms}function vs(t,e=null,n=null,r){return new ys(t,n,e||bs(),r)}class ys{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Tt(e,n=>this.processProvider(n,t,e)),Tt([t],t=>this.processInjectorType(t,[],i)),this.records.set(ut,Os(void 0,this));const o=this.records.get(ds);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:q(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=lt,n=T.Default){this.assertNotDestroyed();const r=mt(this);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ct)&&R(t);e=n&&this.injectableDefInScope(n)?Os(_s(t),fs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?bs():this.parent).get(t,e=n&T.Optional&&e===lt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(q(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[dt]&&i.unshift(e[dt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=q(e);if(Array.isArray(e))i=e.map(q).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):q(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ht,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{mt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(q(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=K(t)))return!1;let r=D(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=D(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Tt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Tt(r,t=>this.processProvider(t,n,r||gs))}}this.injectorDefTypes.add(o),this.records.set(o,Os(r.factory,fs));const a=r.providers;if(null!=a&&!s){const e=t;Tt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xs(t=K(t))?t:K(t&&t.provide);const i=function(t,e,n){return Cs(t)?Os(void 0,t.useValue):Os(ws(t),fs)}(t);if(xs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,fs,!0),e.factory=()=>Ct(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fs&&(e.value=ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function _s(t){const e=R(t),n=null!==e?e.factory:te(t);if(null!==n)return n;const r=D(t);if(null!==r)return r.factory;if(t instanceof ct)throw new Error(`Token ${q(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=jt(e,"?");throw new Error(`Can't resolve all parameters for ${q(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[L]||t[U]||t[F]&&t[F]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ws(t,e,n){let r=void 0;if(xs(t)){const e=K(t);return te(e)||_s(e)}if(Cs(t))r=()=>K(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Ct(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yt(K(t.useExisting));else{const e=K(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return te(e)||_s(e);r=()=>new e(...Ct(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&ft in t}function xs(t){return"function"==typeof t}const ks=function(t,e,n){return function(t,e=null,n=null,r){const i=vs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ss=(()=>{class t{static create(t,e){return Array.isArray(t)?ks(t,e,""):ks(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=lt,t.NULL=new xt,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>yt(ut)}),t.__NG_ELEMENT_ID__=-1,t})();const Es=new ct("AnalyzeForEntryComponents");let Is=new Map;const Ts=new Set;function Ps(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function As(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=B(i,t):2==o&&(r=B(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function js(t,e){const n=Pe(t)[1],r=n.data.length-1;yn(n,{directiveStart:r,directiveEnd:r+1})}function Ms(t){return Object.getPrototypeOf(t.prototype).constructor}function Rs(t){let e=Ms(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(ue(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ns(t.inputs),e.declaredInputs=Ns(t.declaredInputs),e.outputs=Ns(t.outputs);const n=i.hostBindings;n&&Vs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ds(t,o),s&&Ls(t,s),A(t.inputs,i.inputs),A(t.declaredInputs,i.declaredInputs),A(t.outputs,i.outputs),ue(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Rs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}(r)}function Ns(t){return t===Vt?{}:t===Ft?[]:t}function Ds(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ls(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Vs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Fs=["providersResolver"],Us=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ws(t){let e=Ms(t.type),n=void 0;n=ue(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of Fs)r[i]=n[i];if(ue(n))for(const i of Us)r[i]=n[i]}let qs=null;function Bs(){if(!qs){const t=J.Symbol;if(t&&t.iterator)qs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qs=n)}}}return qs}class Hs{constructor(t){this.wrapped=t}static wrap(t){return new Hs(t)}static unwrap(t){return Hs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Hs}}function zs(t){return!!Ks(t)&&(Array.isArray(t)||!(t instanceof Map)&&Bs()in t)}function Ks(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gs(t,e,n){return t[e]=n}function $s(t,e){return t[e]}function Qs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ys(t,e,n,r){const i=Qs(t,e,n);return Qs(t,e+1,r)||i}function Xs(t,e,n,r,i){const o=Ys(t,e,n,r);return Qs(t,e+2,i)||o}function Js(t,e,n,r,i,o){const s=Ys(t,e,n,r);return Ys(t,e+2,i,o)||s}function Zs(t,e,n,r){const i=Ue();return Qs(i,Je(),e)&&(We(),oo(gn(),i,t,e,n,r)),Zs}function ta(t,e){let n=!1,r=Ye();for(let o=1;o<e.length;o+=2)n=Qs(t,r++,e[o])||n;if(Xe(r),!n)return _i;let i=e[0];for(let o=1;o<e.length;o+=2)i+=Nn(e[o])+e[o+1];return i}function ea(t,e,n,r){return Qs(t,Je(),n)?e+Nn(n)+r:_i}function na(t,e,n,r,i,o){const s=Ys(t,Ye(),n,i);return Ze(2),s?e+Nn(n)+r+Nn(i)+o:_i}function ra(t,e,n,r,i,o,s,a){const c=Xs(t,Ye(),n,i,s);return Ze(3),c?e+Nn(n)+r+Nn(i)+o+Nn(s)+a:_i}function ia(t,e,n,r,i,o,s,a,c,u){const l=Js(t,Ye(),n,i,s,c);return Ze(4),l?e+Nn(n)+r+Nn(i)+o+Nn(s)+a+Nn(c)+u:_i}function oa(t,e,n,r,i,o,s,a,c,u,l,h){const d=Ye();let f=Js(t,d,n,i,s,c);return f=Qs(t,d+4,l)||f,Ze(5),f?e+Nn(n)+r+Nn(i)+o+Nn(s)+a+Nn(c)+u+Nn(l)+h:_i}function sa(t,e,n,r,i,o,s,a,c,u,l,h,d,f){const p=Ye();let g=Js(t,p,n,i,s,c);return g=Ys(t,p+4,l,d)||g,Ze(6),g?e+Nn(n)+r+Nn(i)+o+Nn(s)+a+Nn(c)+u+Nn(l)+h+Nn(d)+f:_i}function aa(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g){const m=Ye();let b=Js(t,m,n,i,s,c);return b=Xs(t,m+4,l,d,p)||b,Ze(7),b?e+Nn(n)+r+Nn(i)+o+Nn(s)+a+Nn(c)+u+Nn(l)+h+Nn(d)+f+Nn(p)+g:_i}function ca(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b){const v=Ye();let y=Js(t,v,n,i,s,c);return y=Js(t,v+4,l,d,p,m)||y,Ze(8),y?e+Nn(n)+r+Nn(i)+o+Nn(s)+a+Nn(c)+u+Nn(l)+h+Nn(d)+f+Nn(p)+g+Nn(m)+b:_i}function ua(t,e,n,r,i,o){const s=Ue(),a=ea(s,e,n,r);return a!==_i&&oo(gn(),s,t,a,i,o),ua}function la(t,e,n,r,i,o,s,a){const c=Ue(),u=na(c,e,n,r,i,o);return u!==_i&&oo(gn(),c,t,u,s,a),la}function ha(t,e,n,r,i,o,s,a,c,u){const l=Ue(),h=ra(l,e,n,r,i,o,s,a);return h!==_i&&oo(gn(),l,t,h,c,u),ha}function da(t,e,n,r,i,o,s,a,c,u,l,h){const d=Ue(),f=ia(d,e,n,r,i,o,s,a,c,u);return f!==_i&&oo(gn(),d,t,f,l,h),da}function fa(t,e,n,r,i,o,s,a,c,u,l,h,d,f){const p=Ue(),g=oa(p,e,n,r,i,o,s,a,c,u,l,h);return g!==_i&&oo(gn(),p,t,g,d,f),fa}function pa(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g){const m=Ue(),b=sa(m,e,n,r,i,o,s,a,c,u,l,h,d,f);return b!==_i&&oo(gn(),m,t,b,p,g),pa}function ga(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b){const v=Ue(),y=aa(v,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g);return y!==_i&&oo(gn(),v,t,y,m,b),ga}function ma(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b,v,y){const _=Ue(),w=ca(_,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b);return w!==_i&&oo(gn(),_,t,w,v,y),ma}function ba(t,e,n,r){const i=Ue(),o=ta(i,e);return o!==_i&&oo(gn(),i,t,o,n,r),ba}function va(t,e,n,r,i,o,s,a){const c=Ue(),u=We(),l=t+ne,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Di(e,t,0,s||null,Me(u,a));Qi(e,n,l,Me(u,c)),yn(e,l);const h=l.tViews=zi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];He(h,!1);const d=c[11].createComment("");No(u,c,d,h),ai(d,c),ho(c,c[l]=co(d,c,d,h)),ce(h)&&qi(u,c,h),null!=s&&Bi(c,h,a)}function ya(t){return Ie(De.lFrame.contextLView,t)}function _a(t,e=T.Default){const n=Ue();return null===n?yt(t,e):Yn(Be(),n,K(t),e)}function wa(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(In(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Be(),t)}function Oa(){throw new Error("invalid")}function Ca(t,e,n){const r=Ue();return Qs(r,Je(),e)&&$i(We(),gn(),r,t,e,r[11],n,!1),Ca}function xa(t,e,n,r,i){const o=i?"class":"style";wo(t,n,e.inputs[o],o,r)}function ka(t,e,n,r){const i=Ue(),o=We(),s=ne+t,a=i[11],c=i[s]=Ri(e,a,De.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Di(e,t,2,i,Me(a,o));return Qi(e,n,c,Me(a,s)),null!==c.attrs&&As(c,c.attrs,!1),null!==c.mergedAttrs&&As(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];He(u,!0);const l=u.mergedAttrs;null!==l&&En(a,c,l);const h=u.classes;null!==h&&qo(a,c,h);const d=u.styles;null!==d&&Wo(a,c,d),No(o,i,c,u),0===De.lFrame.elementDepthCount&&ai(c,i),De.lFrame.elementDepthCount++,ce(u)&&(qi(o,i,u),Wi(o,u,i)),null!==r&&Bi(i,u)}function Sa(){let t=Be();ze()?Ke():(t=t.parent,He(t,!1));const e=t;De.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(yn(n,t),se(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&xa(n,e,Ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&xa(n,e,Ue(),e.stylesWithoutHost,!1)}function Ea(t,e,n,r){ka(t,e,n,r),Sa()}function Ia(t,e,n){const r=Ue(),i=We(),o=t+ne,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Me(o,r),a=Di(e,t,3,"ng-container",s);return null!==s&&As(a,s,!0),Qi(e,n,a,Me(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];He(s,!0);const a=r[o]=r[11].createComment("");No(i,r,a,s),ai(a,r),ce(s)&&(qi(i,r,s),Wi(i,s,r)),null!=n&&Bi(r,s)}function Ta(){let t=Be();const e=We();ze()?Ke():(t=t.parent,He(t,!1)),e.firstCreatePass&&(yn(e,t),se(t)&&e.queries.elementEnd(t))}function Pa(t,e,n){Ia(t,e,n),Ta()}function Aa(){return Ue()}function ja(t){return!!t&&"function"==typeof t.then}function Ma(t){return!!t&&"function"==typeof t.subscribe}function Ra(t,e,n=!1,r){const i=Ue(),o=We(),s=Be();return Da(o,i,i[11],s,t,e,n,r),Ra}function Na(t,e,n=!1,r){const i=Be(),o=Ue(),s=We();return Da(s,o,yo(nn(s.data),i,o),i,t,e,n,r),Na}function Da(t,e,n,r,i,o,s=!1,a){const c=ce(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=vo(e);let h=!0;if(2===r.type){const d=Se(r,e),f=a?a(d):Vt,p=f.target||d,g=l.length,m=a?t=>a(xe(t[r.index])).target:r.index;if(Oe(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Va(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,m,g,g+1)}}else o=Va(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,m,g,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}function La(t,e,n){try{return!1!==e(n)}catch(r){return _o(t,r),!1}}function Va(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Te(t.index,e):e;0==(32&e[2])&&fo(s);let a=La(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=La(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Fa(t=1){return function(t){return(De.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,De.lFrame.contextLView))[8]}(t)}function Ua(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?mi(t,o,!0):bi(r,o))return i}else n=i}return n}function Wa(t){const e=Ue()[16][6];if(!e.projection){const n=e.projection=jt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ua(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let qa=!1;function Ba(t){qa=t}function Ha(t,e=0,n){const r=Ue(),i=We(),o=Di(i,t,1,null,n||null);null===o.projection&&(o.projection=e),Ke(),qa||Fo(i,r,o)}function za(t,e,n){return Ka(t,"",e,"",n),za}function Ka(t,e,n,r,i){const o=Ue(),s=ea(o,e,n,r);return s!==_i&&$i(We(),gn(),o,t,s,o[11],i,!1),Ka}function Ga(t,e,n,r,i,o,s){const a=Ue(),c=na(a,e,n,r,i,o);return c!==_i&&$i(We(),gn(),a,t,c,a[11],s,!1),Ga}function $a(t,e,n,r,i,o,s,a,c){const u=Ue(),l=ra(u,e,n,r,i,o,s,a);return l!==_i&&$i(We(),gn(),u,t,l,u[11],c,!1),$a}function Qa(t,e,n,r,i,o,s,a,c,u,l){const h=Ue(),d=ia(h,e,n,r,i,o,s,a,c,u);return d!==_i&&$i(We(),gn(),h,t,d,h[11],l,!1),Qa}function Ya(t,e,n,r,i,o,s,a,c,u,l,h,d){const f=Ue(),p=oa(f,e,n,r,i,o,s,a,c,u,l,h);return p!==_i&&$i(We(),gn(),f,t,p,f[11],d,!1),Ya}function Xa(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p){const g=Ue(),m=sa(g,e,n,r,i,o,s,a,c,u,l,h,d,f);return m!==_i&&$i(We(),gn(),g,t,m,g[11],p,!1),Xa}function Ja(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m){const b=Ue(),v=aa(b,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g);return v!==_i&&$i(We(),gn(),b,t,v,b[11],m,!1),Ja}function Za(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b,v){const y=Ue(),_=ca(y,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b);return _!==_i&&$i(We(),gn(),y,t,_,y[11],v,!1),Za}function tc(t,e,n){const r=Ue(),i=ta(r,e);return i!==_i&&$i(We(),gn(),r,t,i,r[11],n,!1),tc}const ec=[];function nc(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ii(o):Pi(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];rc(t[a],e)&&(c=!0,t[a+1]=r?ji(n):Ti(n)),a=r?Ii(n):Pi(n)}c&&(t[n+1]=r?Ti(o):ji(o))}function rc(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Nt(t,e)>=0}const ic={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oc(t){return t.substring(ic.key,ic.keyEnd)}function sc(t){return t.substring(ic.value,ic.valueEnd)}function ac(t,e){const n=ic.textEnd;return n===e?-1:(e=ic.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ic.key=e,n),lc(t,e,n))}function cc(t,e){const n=ic.textEnd;let r=ic.key=lc(t,e,n);return n===r?-1:(r=ic.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=hc(t,r,n),r=ic.value=lc(t,r,n),r=ic.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const c=t.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=dc(t,c,s,n):e===s-4&&85===o&&82===i&&76===r&&40===c?a=s=dc(t,41,s,n):c>32&&(a=s),o=i,i=r,r=-33&c}return a}(t,r,n),hc(t,r,n))}function uc(t){ic.key=0,ic.keyEnd=0,ic.value=0,ic.valueEnd=0,ic.textEnd=t.length}function lc(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hc(t,e,n,r){return(e=lc(t,e,n))<n&&e++,e}function dc(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function fc(t,e,n){return yc(t,e,n,!1),fc}function pc(t,e){return yc(t,e,null,!0),pc}function gc(t){_c(kc,mc,t,!1)}function mc(t,e){for(let n=function(t){return uc(t),cc(t,lc(t,0,ic.textEnd))}(e);n>=0;n=cc(e,n))kc(t,oc(e),sc(e))}function bc(t){_c(Mt,vc,t,!0)}function vc(t,e){for(let n=function(t){return uc(t),ac(t,lc(t,0,ic.textEnd))}(e);n>=0;n=ac(e,n))Mt(t,oc(e),!0)}function yc(t,e,n,r){const i=Ue(),o=We(),s=Ze(2);o.firstUpdatePass&&Oc(o,t,s,r),e!==_i&&Qs(i,s,e)&&Sc(o,o.data[fn()+ne],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=q(mr(t)))),t}(e,n),r,s)}function _c(t,e,n,r){const i=We(),o=Ze(2);i.firstUpdatePass&&Oc(i,null,o,r);const s=Ue();if(n!==_i&&Qs(s,o,n)){const a=i.data[fn()+ne];if(Tc(a,r)&&!wc(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=B(t,n||"")),xa(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===_i&&(i=ec);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let p=null,g=void 0;l===h?(c+=2,u+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,g=f),null!==p&&Sc(t,e,n,r,p,g,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return ec;const r=[],i=mr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function wc(t,e){return e>=t.expandoStartIndex}function Oc(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fn()+ne],s=wc(t,n);Tc(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=nn(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=xc(n=Cc(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Cc(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Pi(r))return t[Ii(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Cc(null,t,e,n[1],r),n=xc(n,e.attrs,r),function(t,e,n,r){t[Ii(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=xc(r,t[o].hostAttrs,n);return xc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ii(s),c=Pi(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Nt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Ii(t[a+1]);t[r+1]=Ei(e,a),0!==e&&(t[e+1]=Ai(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ei(a,0),0!==a&&(t[a+1]=Ai(t[a+1],r)),a=r;else t[r+1]=Ei(c,0),0===a?a=r:t[c+1]=Ai(t[c+1],r),c=r;l&&(t[r+1]=Ti(t[r+1])),nc(t,u,r,!0),nc(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Nt(o,e)>=0&&(n[r+1]=ji(n[r+1]))}(e,u,t,r,o),s=Ei(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Cc(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=xc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function xc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mt(t,s,!!n||e[++o]))}return void 0===t?null:t}function kc(t,e,n){Mt(t,e,mr(n))}function Sc(t,e,n,r,i,o,s,a){if(2!==e.type)return;const c=t.data,u=c[a+1];Ic(1==(1&u)?Ec(c,e,n,i,Pi(u),s):void 0)||(Ic(o)||2==(2&u)&&(o=Ec(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Oe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,ke(fn(),n),i,o))}function Ec(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===_i&&(l=u?ec:void 0);let h=u?Rt(l,r):c===r?l:void 0;if(o&&!Ic(h)&&(h=Rt(e,r)),Ic(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ii(d):Pi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Rt(t,r))}return a}function Ic(t){return void 0!==t}function Tc(t,e){return 0!=(t.flags&(e?16:32))}function Pc(t,e=""){const n=Ue(),r=We(),i=t+ne,o=r.firstCreatePass?Di(r,t,2,null,null):r.data[i],s=n[i]=xo(e,n[11]);No(r,n,s,o),He(o,!1)}function Ac(t){return jc("",t,""),Ac}function jc(t,e,n){const r=Ue(),i=ea(r,t,e,n);return i!==_i&&Oo(r,fn(),i),jc}function Mc(t,e,n,r,i){const o=Ue(),s=na(o,t,e,n,r,i);return s!==_i&&Oo(o,fn(),s),Mc}function Rc(t,e,n,r,i,o,s){const a=Ue(),c=ra(a,t,e,n,r,i,o,s);return c!==_i&&Oo(a,fn(),c),Rc}function Nc(t,e,n,r,i,o,s,a,c){const u=Ue(),l=ia(u,t,e,n,r,i,o,s,a,c);return l!==_i&&Oo(u,fn(),l),Nc}function Dc(t,e,n,r,i,o,s,a,c,u,l){const h=Ue(),d=oa(h,t,e,n,r,i,o,s,a,c,u,l);return d!==_i&&Oo(h,fn(),d),Dc}function Lc(t,e,n,r,i,o,s,a,c,u,l,h,d){const f=Ue(),p=sa(f,t,e,n,r,i,o,s,a,c,u,l,h,d);return p!==_i&&Oo(f,fn(),p),Lc}function Vc(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p){const g=Ue(),m=aa(g,t,e,n,r,i,o,s,a,c,u,l,h,d,f,p);return m!==_i&&Oo(g,fn(),m),Vc}function Fc(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m){const b=Ue(),v=ca(b,t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m);return v!==_i&&Oo(b,fn(),v),Fc}function Uc(t){const e=Ue(),n=ta(e,t);return n!==_i&&Oo(e,fn(),n),Uc}function Wc(t,e,n){_c(Mt,vc,ea(Ue(),t,e,n),!0)}function qc(t,e,n,r,i){_c(Mt,vc,na(Ue(),t,e,n,r,i),!0)}function Bc(t,e,n,r,i,o,s){_c(Mt,vc,ra(Ue(),t,e,n,r,i,o,s),!0)}function Hc(t,e,n,r,i,o,s,a,c){_c(Mt,vc,ia(Ue(),t,e,n,r,i,o,s,a,c),!0)}function zc(t,e,n,r,i,o,s,a,c,u,l){_c(Mt,vc,oa(Ue(),t,e,n,r,i,o,s,a,c,u,l),!0)}function Kc(t,e,n,r,i,o,s,a,c,u,l,h,d){_c(Mt,vc,sa(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d),!0)}function Gc(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p){_c(Mt,vc,aa(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d,f,p),!0)}function $c(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m){_c(Mt,vc,ca(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m),!0)}function Qc(t){_c(Mt,vc,ta(Ue(),t),!0)}function Yc(t,e,n){gc(ea(Ue(),t,e,n))}function Xc(t,e,n,r,i){gc(na(Ue(),t,e,n,r,i))}function Jc(t,e,n,r,i,o,s){gc(ra(Ue(),t,e,n,r,i,o,s))}function Zc(t,e,n,r,i,o,s,a,c){gc(ia(Ue(),t,e,n,r,i,o,s,a,c))}function tu(t,e,n,r,i,o,s,a,c,u,l){gc(oa(Ue(),t,e,n,r,i,o,s,a,c,u,l))}function eu(t,e,n,r,i,o,s,a,c,u,l,h,d){gc(sa(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d))}function nu(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p){gc(aa(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d,f,p))}function ru(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m){gc(ca(Ue(),t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m))}function iu(t){gc(ta(Ue(),t))}function ou(t,e,n,r,i){return yc(t,ea(Ue(),e,n,r),i,!1),ou}function su(t,e,n,r,i,o,s){return yc(t,na(Ue(),e,n,r,i,o),s,!1),su}function au(t,e,n,r,i,o,s,a,c){return yc(t,ra(Ue(),e,n,r,i,o,s,a),c,!1),au}function cu(t,e,n,r,i,o,s,a,c,u,l){return yc(t,ia(Ue(),e,n,r,i,o,s,a,c,u),l,!1),cu}function uu(t,e,n,r,i,o,s,a,c,u,l,h,d){return yc(t,oa(Ue(),e,n,r,i,o,s,a,c,u,l,h),d,!1),uu}function lu(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p){return yc(t,sa(Ue(),e,n,r,i,o,s,a,c,u,l,h,d,f),p,!1),lu}function hu(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m){return yc(t,aa(Ue(),e,n,r,i,o,s,a,c,u,l,h,d,f,p,g),m,!1),hu}function du(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b,v){return yc(t,ca(Ue(),e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m,b),v,!1),du}function fu(t,e,n){return yc(t,ta(Ue(),e),n,!1),fu}function pu(t,e,n){const r=Ue();return Qs(r,Je(),e)&&$i(We(),gn(),r,t,e,r[11],n,!0),pu}function gu(t,e,n){const r=Ue();if(Qs(r,Je(),e)){const i=We(),o=gn();$i(i,o,r,t,e,yo(nn(i.data),o,r),n,!0)}return gu}function mu(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let o=0;o<t.length;o++)mu(t[o],e,n,r,i);else{const o=We(),s=Ue();let a=xs(t)?t:K(t.provide),c=ws(t);const u=Be(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(xs(t)||!t.multi){const r=new Sn(c,i,_a),f=yu(a,e,i?l:l+d,h);-1===f?(Qn(zn(u,s),o,a),bu(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=yu(a,e,l+d,h),p=yu(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Qn(zn(u,s),o,a);const l=function(t,e,n,r,i){const o=new Sn(t,n,_a);return o.multi=[],o.index=e,o.componentProviders=0,vu(o,i,r&&!n),o}(i?wu:_u,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),bu(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else bu(o,t,f>-1?f:p,vu(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bu(t,e,n,r){const i=xs(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _u(t,e,n,r){return Ou(this.multi,[])}function wu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tr(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ou(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ou(i,o);return o}function Ou(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Cu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=We();if(r.firstCreatePass){const i=ue(t);mu(n,r.data,r.blueprint,i,!0),mu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class xu{}class ku{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${q(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Su=(()=>{class t{}return t.NULL=new ku,t})(),Eu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Iu(t),t})();const Iu=function(t){return $o(t,Be(),Ue())};class Tu{}var Pu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Au=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ju(),t})();const ju=function(){const t=Ue(),e=Te(Be().index,t);return function(t){const e=t[11];if(Oe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ie(e)?e:t)};let Mu=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Ru{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Nu=new Ru("10.1.6");class Du{constructor(){}supports(t){return zs(t)}create(t){return new Vu(t)}}const Lu=(t,e)=>e;class Vu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Lu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qu(n,r,i)?e:n,s=qu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!zs(t))throw new Error(`Error trying to diff '${q(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Bs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Wu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Uu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Wu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Uu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bu{constructor(){}supports(t){return t instanceof Map||Ks(t)}create(){return new Hu}}class Hu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ks(t)))throw new Error(`Error trying to diff '${q(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new zu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class zu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ku=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new S,new x]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t([new Du])}),t})(),Gu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new S,new x]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t([new Bu])}),t})();const $u=[new Bu],Qu=new Ku([new Du]),Yu=new Gu($u);let Xu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ju(t,Eu),t})();const Ju=function(t,e){return Qo(t,e,Be(),Ue())};let Zu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>tl(t,Eu),t})();const tl=function(t,e){return Yo(t,e,Be(),Ue())},el={};class nl extends Su{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new ol(e,this.ngModule)}}function rl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const il=new ct("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ln});class ol extends xu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(yi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rl(this.componentDef.inputs)}get outputs(){return rl(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,el,i);return o!==el||r===el?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Tu,Ce),s=i.get(Mu,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===Lt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ri(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?be:"math"===e?ve:null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ln,clean:bo,playerHandler:null,flags:0},d=zi(0,null,null,1,0,null,null,null,null,null),f=Ni(null,d,h,l,null,null,o,a,s,i);let p,g;an(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Di(s,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(As(a,c,!0),null!==t&&(En(i,t,c),null!==a.classes&&qo(i,t,a.classes),null!==a.styles&&Wo(i,t,a.styles)));const u=r.createRenderer(t,e),l=Ni(n,Hi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(Qn(zn(a,n),s,e.type),to(s,a),no(a,n.length,1)),ho(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)En(a,u,["ng-version",Nu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&En(a,u,t),e&&e.length>0&&qo(a,u,e.join(" "))}if(g=Ee(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zi(t,r,1),ro(t,e,n));const i=tr(e,t,e.length-1,r);ai(i,e);const o=Se(r,e);return o&&ai(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Be();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pn(a.index-ne);const t=n[1];Yi(t,e),Xi(t,n,e.hostVars),Ji(e,s)}return s}(t,this.componentDef,f,h,[js]),Li(d,f,null)}finally{dn()}return new sl(this.componentType,p,$o(Eu,g,f),f,g)}}class sl extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ho(r),this.componentType=t}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const al=void 0;var cl=["en",[["a","p"],["AM","PM"],al],[["AM","PM"],al,al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",al,"{1} 'at' {0}",al],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ul={};function ll(t,e,n){"string"!=typeof e&&(n=e,e=t[gl.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ul[e]=t,n&&(ul[e][gl.ExtraData]=n)}function hl(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=pl(e);if(n)return n;const r=e.split("-")[0];if(n=pl(r),n)return n;if("en"===r)return cl;throw new Error(`Missing locale data for the locale "${t}".`)}function dl(t){return hl(t)[gl.CurrencyCode]||null}function fl(t){return hl(t)[gl.PluralCase]}function pl(t){return t in ul||(ul[t]=J.ng&&J.ng.common&&J.ng.common.locales&&J.ng.common.locales[t]),ul[t]}var gl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ml=["zero","one","two","few","many"],bl="en-US";let vl=bl;function yl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(vl=t.toLowerCase().replace(/_/g,"-"))}const _l={marker:"element"},wl={marker:"comment"},Ol=[];let Cl=-1,xl=0,kl=0;function Sl(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let c=0;c<n.length;c++){const u=n[c];if("string"==typeof u){const e=xo(u,i),l=n[++c];s=o,o=jl(t,r,l,2,e,null),a.push(l),Ke()}else if("number"==typeof u)switch(7&u){case 1:const i=u>>>17;let l;l=i===e?r[6]:Ee(t,i),s=Pl(t,o,l,s,r);break;case 0:const h=u>=0,d=(h?u:~u)>>>3;a.push(d),s=o,o=Ee(t,d),o&&He(o,h);break;case 5:s=o=Ee(t,u>>>3),He(o,!1);break;case 4:const f=n[++c],p=n[++c];oo(Ee(t,u>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case wl:const e=n[++c],l=n[++c],h=i.createComment(e);s=o,o=jl(t,r,l,4,h,null),a.push(l),ai(h,r),Ke();break;case _l:const d=n[++c],f=n[++c];s=o,o=jl(t,r,f,2,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return Ke(),a}function El(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const c=r[a],u=r[++a];if(c&o){let o="";for(let c=a+1;c<=a+u;c++){const a=r[c];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=Nn(n[i-a]);else{const u=a>>>2;switch(3&a){case 1:const a=r[++c],l=r[++c];$i(t,Ee(t,u),n,a,o,n[11],l,!1);break;case 0:Oo(n,u,o);break;case 2:s=Tl(t,e,r[++c],n,o);break;case 3:Il(t,e,r[++c],i,n,s)}}}}a+=u}}function Il(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&El(t,e,i,s.update[a],r,o?-1:xl)}function Tl(t,e,n,r,i){!function t(e,n,r,i){const o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s){const r=o.remove[s];for(let o=0;o<r.length;o++){const s=r[o],a=s>>>3;switch(7&s){case 3:Al(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=fl(e)(parseInt(t,10)),r=ml[n];return void 0!==r?r:"other"}(e,vl);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(Sl(t,-1,s.create[a],r),o=!0),o}function Pl(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return Fo(t,i,e),e;No(t,i,Se(e,i),e);const a=i[e.index];return 0!==e.type&&oe(a)&&No(t,i,a[7],e),e}function Al(t,e,n,r){const i=Ee(t,n),o=ke(n,e);o&&Do(e[11],o);const s=Ie(e,n);if(oe(s)){const t=s;0!==i.type&&Do(e[11],t[7])}r&&i&&(i.flags|=64)}function jl(t,e,n,r,i,o){const s=Be();e[n+ne]=i;const a=Di(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const Ml=/\ufffd(\d+):?\d*\ufffd/gi,Rl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Nl=/\ufffd(\d+)\ufffd/,Dl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Ll;const Vl=[],Fl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ul=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Wl=/\uE500/g;function ql(t,e,n,r=null){const i=[null,null],o=t.split(Ml);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=zl(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Bl(t,e=0){let n;e|=zl(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Ml.exec(r);)e|=zl(parseInt(n[1],10));else e=Bl(r,e)}}return e}function Hl(t){return t+Ll++}function zl(t){return 1<<Math.min(t,31)}function Kl(t){return void 0===t}function Gl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Fl.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function $l(t,e,n,r){const i=[],o=[],s=[],a=[],c=[],u=e.values;for(let l=0;l<u.length;l++){const e=u[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const d=Yl(e.join(""),n,h,t,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),c.push(d.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:ne+r+1,childIcus:c,cases:e.cases,create:i,remove:o,update:s}),Ll+=Math.max(...a)}function Ql(t){const e=[],n=[];let r=1,i=0;const o=Xl(t=t.replace(Dl,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Xl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Yl(t,e,n,r,i){const o=Ir(we()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const c=e.nextSibling,u=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const c=e,l=c.tagName.toLowerCase();if(Wr.hasOwnProperty(l)){n.create.push(_l,l,u,r<<17|1);const a=c.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Ml)?Hr.hasOwnProperty(r)&&Et(qr[r]?ql(e.value,u,e.name,Mr):Br[r]?ql(e.value,u,e.name,Rr):ql(e.value,u,e.name),n.update):n.create.push(u<<3|4,e.name,e.value)}t(e.firstChild,n,u,i,o,s),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(Ml);n.create.push(d?"":h,u,r<<17|1),n.remove.push(u<<3|3),d&&Et(ql(h,u),n.update);break;case Node.COMMENT_NODE:const f=Nl.exec(e.textContent||"");if(f){const t=parseInt(f[1],10);n.create.push(wl,"",u,r<<17|1),a.push([i[t],u])}else n.vars--;break;default:n.vars--}e=c}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];$l(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const c=Bl(e);n.update.push(zl(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,c,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Jr(o)||o).firstChild,s,e,n,r,i),s}function Xl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Dl.test(n)?r.push(Ql(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}const Jl=/\[(\ufffd.+?\ufffd?)\]/,Zl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,th=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,eh=/{([A-Z0-9_]+)}/g,nh=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,rh=/\/\*/,ih=/\d+\:(\d+)/;function oh(t,e,n){const r=We(),i=Me(r.consts,e);!function(t){Ol[++Cl]=t}(t),Ba(!0),r.firstCreatePass&&null===r.data[t+ne]&&function(t,e,n,r,i){const o=e.blueprint.length-ne;Ll=0;const s=Be(),a=ze()?s:s&&s.parent;let c=a&&a!==t[6]?a.index-ne:n,u=0;Vl[u]=c;const l=[];if(n>0&&s!==a){let t=s.index-ne;ze()||(t=~t),l.push(t<<3|0)}const h=[],d=[];if(""===r&&Kl(i))l.push(r,Hl(o),c<<17|1);else{const t=function(t,e){if(Kl(e))return Gl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Gl(t.substring(n,r))}}(r,i),e=(f=t,f.replace(Wl," ")).split(Ul);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=Vl[--u],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,c<<17|1),e&&(Vl[++u]=c=t)}else{const e=Xl(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Hl(o);l.push(wl,"",i,c<<17|1);const s=Bl(r);$l(d,r,i,i);const a=d.length-1;h.push(zl(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Ml),i=Hl(o);l.push(r?"":t,i,c<<17|1),r&&Et(ql(t,i),h)}}}}var f;Ll>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Ll),e.data[n+ne]={vars:Ll,create:l,update:h,icus:d.length?d:null}}(Ue(),r,t,i,n)}function sh(){const t=Ue();(function(t,e){const n=Ol[Cl--],r=t.data[n+ne],i=Be(),o=Sl(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-ne;){-1===o.indexOf(s)&&Al(t,e,s,!0);const n=Ee(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(We(),t),Ba(!1)}function ah(t,e,n){oh(t,e,n),sh()}function ch(t,e){const n=Ue(),r=We();!function(t,e,n,r){const i=Be().index-ne,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],c=r[s+1].split(Rl);for(let r=0;r<c.length;r++){const s=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Ml))e.firstCreatePass&&null===e.data[n+ne]&&Et(ql(s,i,a),o);else{const n=Ee(e,i);2===n.type&&oo(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&wo(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+ne]&&(e.data[n+ne]=o)}(n,r,t,Me(r.consts,e))}function uh(t){return Qs(Ue(),Je(),t)&&(xl|=1<<kl),kl++,uh}function lh(t){!function(t,e,n){if(kl>0){const r=t.data[n+ne];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),El(t,o,e,i,Ye()-kl-1,xl),xl=0,kl=0}}(We(),Ue(),t)}function hh(t,e={}){return function(t,e={}){let n=t;if(Jl.test(t)){const t={},e=[0];n=n.replace(Zl,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(ih),n=e?parseInt(e[1],10):0,r=rh.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=e[e.length-1];let c=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){c=t;break}const[u,l,h]=s[c];return l?e.pop():a!==u&&e.push(u),s.splice(c,1),h})}return Object.keys(e).length?(n=n.replace(th,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(eh,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(nh,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function dh(t,e,n,r){return g(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==e&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const fh=new Map;class ph extends kt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nl(this);const n=ee(t),r=t[ot]||null;r&&yl(r),this._bootstrapComponents=Wn(n.bootstrap),this._r3Injector=vs(t,e,[{provide:kt,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],q(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ss.THROW_IF_NOT_FOUND,n=T.Default){return t===Ss||t===kt||t===ut?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gh extends St{constructor(t){super(),this.moduleType=t,null!==ee(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${q(e)} vs ${q(e.name)}`)})(t,fh.get(t),e),fh.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ph(this.moduleType,t)}}function mh(t,e,n){const r=Qe()+t,i=Ue();return i[r]===_i?Gs(i,r,n?e.call(n):e()):$s(i,r)}function bh(t,e,n,r){return Eh(Ue(),Qe(),t,e,n,r)}function vh(t,e,n,r,i){return Ih(Ue(),Qe(),t,e,n,r,i)}function yh(t,e,n,r,i,o){return Th(Ue(),Qe(),t,e,n,r,i,o)}function _h(t,e,n,r,i,o,s){return Ph(Ue(),Qe(),t,e,n,r,i,o,s)}function wh(t,e,n,r,i,o,s,a){const c=Qe()+t,u=Ue(),l=Js(u,c,n,r,i,o);return Qs(u,c+4,s)||l?Gs(u,c+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):$s(u,c+5)}function Oh(t,e,n,r,i,o,s,a,c){const u=Qe()+t,l=Ue(),h=Js(l,u,n,r,i,o);return Ys(l,u+4,s,a)||h?Gs(l,u+6,c?e.call(c,n,r,i,o,s,a):e(n,r,i,o,s,a)):$s(l,u+6)}function Ch(t,e,n,r,i,o,s,a,c,u){const l=Qe()+t,h=Ue();let d=Js(h,l,n,r,i,o);return Xs(h,l+4,s,a,c)||d?Gs(h,l+7,u?e.call(u,n,r,i,o,s,a,c):e(n,r,i,o,s,a,c)):$s(h,l+7)}function xh(t,e,n,r,i,o,s,a,c,u,l){const h=Qe()+t,d=Ue(),f=Js(d,h,n,r,i,o);return Js(d,h+4,s,a,c,u)||f?Gs(d,h+8,l?e.call(l,n,r,i,o,s,a,c,u):e(n,r,i,o,s,a,c,u)):$s(d,h+8)}function kh(t,e,n,r){return Ah(Ue(),Qe(),t,e,n,r)}function Sh(t,e){const n=t[e];return n===_i?void 0:n}function Eh(t,e,n,r,i,o){const s=e+n;return Qs(t,s,i)?Gs(t,s+1,o?r.call(o,i):r(i)):Sh(t,s+1)}function Ih(t,e,n,r,i,o,s){const a=e+n;return Ys(t,a,i,o)?Gs(t,a+2,s?r.call(s,i,o):r(i,o)):Sh(t,a+2)}function Th(t,e,n,r,i,o,s,a){const c=e+n;return Xs(t,c,i,o,s)?Gs(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Sh(t,c+3)}function Ph(t,e,n,r,i,o,s,a,c){const u=e+n;return Js(t,u,i,o,s,a)?Gs(t,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):Sh(t,u+4)}function Ah(t,e,n,r,i,o){let s=e+n,a=!1;for(let c=0;c<i.length;c++)Qs(t,s++,i[c])&&(a=!0);return a?Gs(t,s,r.apply(o,i)):Sh(t,s)}function jh(t,e){const n=We();let r;const i=t+ne;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=te(r.type)),s=bt(_a);try{const e=Bn(!1),r=o();return Bn(e),function(t,e,n,r){const i=n+ne;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ue(),t,r),r}finally{bt(s)}}function Mh(t,e,n){const r=Ue(),i=Ie(r,t);return Fh(r,Vh(r,t)?Eh(r,Qe(),e,i.transform,n,i):i.transform(n))}function Rh(t,e,n,r){const i=Ue(),o=Ie(i,t);return Fh(i,Vh(i,t)?Ih(i,Qe(),e,o.transform,n,r,o):o.transform(n,r))}function Nh(t,e,n,r,i){const o=Ue(),s=Ie(o,t);return Fh(o,Vh(o,t)?Th(o,Qe(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function Dh(t,e,n,r,i,o){const s=Ue(),a=Ie(s,t);return Fh(s,Vh(s,t)?Ph(s,Qe(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function Lh(t,e,n){const r=Ue(),i=Ie(r,t);return Fh(r,Vh(r,t)?Ah(r,Qe(),e,i.transform,n,i):i.transform.apply(i,n))}function Vh(t,e){return t[1].data[e+ne].pure}function Fh(t,e){return Hs.isWrapped(e)&&(e=Hs.unwrap(e),t[Ye()]=_i),e}const Uh=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Wh(){return this._results[Bs()]()}class qh{constructor(){this.dirty=!0,this._results=[],this.changes=new Uh,this.length=0;const t=Bs(),e=qh.prototype;e[t]||(e[t]=Wh)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=It(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Bh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Bh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Hh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ad(t,e).matches&&this.queries[e].setDirty()}}class zh{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Kh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Kh(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Gh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Gh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,$h(e,i)),this.matchTNodeWithReadOption(t,e,Zn(e,t,i,!1,!1))}else n===Xu?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Zn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Eu||r===Zu||r===Xu&&0===e.type)this.addMatch(e.index,-2);else{const n=Zn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $h(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qh(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?$o(Eu,t,e):0===t.type?Qo(Xu,Eu,t,e):null}(e,t):-2===n?function(t,e,n){return n===Eu?$o(Eu,e,t):n===Xu?Qo(Xu,Eu,e,t):n===Zu?Yo(Zu,Eu,e,t):void 0}(t,e,r):tr(t,t[1],n,e)}function Yh(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Qh(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Xh(t){const e=Ue(),n=We(),r=rn();on(r+1);const i=ad(n,r);if(t.dirty&&Ae(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Yh(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=re;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Yh(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Jh(t,e,n){td(We(),Ue(),t,e,n,!0)}function Zh(t,e,n){td(We(),Ue(),t,e,n,!1)}function td(t,e,n,r,i,o){t.firstCreatePass&&(sd(t,new zh(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),od(t,e)}function ed(t,e,n,r){rd(We(),Ue(),e,n,r,!1,Be(),t)}function nd(t,e,n,r){rd(We(),Ue(),e,n,r,!0,Be(),t)}function rd(t,e,n,r,i,o,s,a){t.firstCreatePass&&(sd(t,new zh(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),od(t,e)}function id(){return t=Ue(),e=rn(),t[19].queries[e].queryList;var t,e}function od(t,e){const n=new qh;Ki(t,e,n,n.destroy),null===e[19]&&(e[19]=new Hh),e[19].queries.push(new Bh(n))}function sd(t,e,n){null===t.queries&&(t.queries=new Kh),t.queries.track(new Gh(e,n))}function ad(t,e){return t.queries.getByIndex(e)}function cd(t,e){return Qo(Xu,Eu,t,e)}function ud(t=T.Default){const e=Xo(!0);if(null!=e||t&T.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const ld=(()=>({"\u0275\u0275attribute":Zs,"\u0275\u0275attributeInterpolate1":ua,"\u0275\u0275attributeInterpolate2":la,"\u0275\u0275attributeInterpolate3":ha,"\u0275\u0275attributeInterpolate4":da,"\u0275\u0275attributeInterpolate5":fa,"\u0275\u0275attributeInterpolate6":pa,"\u0275\u0275attributeInterpolate7":ga,"\u0275\u0275attributeInterpolate8":ma,"\u0275\u0275attributeInterpolateV":ba,"\u0275\u0275defineComponent":Wt,"\u0275\u0275defineDirective":Qt,"\u0275\u0275defineInjectable":j,"\u0275\u0275defineInjector":M,"\u0275\u0275defineNgModule":Kt,"\u0275\u0275definePipe":Yt,"\u0275\u0275directiveInject":_a,"\u0275\u0275getFactoryOf":ir,"\u0275\u0275getInheritedFactory":or,"\u0275\u0275inject":yt,"\u0275\u0275injectAttribute":wa,"\u0275\u0275invalidFactory":Oa,"\u0275\u0275invalidFactoryDep":_t,"\u0275\u0275injectPipeChangeDetectorRef":ud,"\u0275\u0275templateRefExtractor":cd,"\u0275\u0275NgOnChangesFeature":de,"\u0275\u0275ProvidersFeature":Cu,"\u0275\u0275CopyDefinitionFeature":Ws,"\u0275\u0275InheritDefinitionFeature":Rs,"\u0275\u0275nextContext":Fa,"\u0275\u0275namespaceHTML":vn,"\u0275\u0275namespaceMathML":bn,"\u0275\u0275namespaceSVG":mn,"\u0275\u0275enableBindings":Ve,"\u0275\u0275disableBindings":Fe,"\u0275\u0275elementStart":ka,"\u0275\u0275elementEnd":Sa,"\u0275\u0275element":Ea,"\u0275\u0275elementContainerStart":Ia,"\u0275\u0275elementContainerEnd":Ta,"\u0275\u0275elementContainer":Pa,"\u0275\u0275pureFunction0":mh,"\u0275\u0275pureFunction1":bh,"\u0275\u0275pureFunction2":vh,"\u0275\u0275pureFunction3":yh,"\u0275\u0275pureFunction4":_h,"\u0275\u0275pureFunction5":wh,"\u0275\u0275pureFunction6":Oh,"\u0275\u0275pureFunction7":Ch,"\u0275\u0275pureFunction8":xh,"\u0275\u0275pureFunctionV":kh,"\u0275\u0275getCurrentView":Aa,"\u0275\u0275restoreView":qe,"\u0275\u0275listener":Ra,"\u0275\u0275projection":Ha,"\u0275\u0275syntheticHostProperty":gu,"\u0275\u0275syntheticHostListener":Na,"\u0275\u0275pipeBind1":Mh,"\u0275\u0275pipeBind2":Rh,"\u0275\u0275pipeBind3":Nh,"\u0275\u0275pipeBind4":Dh,"\u0275\u0275pipeBindV":Lh,"\u0275\u0275projectionDef":Wa,"\u0275\u0275hostProperty":pu,"\u0275\u0275property":Ca,"\u0275\u0275propertyInterpolate":za,"\u0275\u0275propertyInterpolate1":Ka,"\u0275\u0275propertyInterpolate2":Ga,"\u0275\u0275propertyInterpolate3":$a,"\u0275\u0275propertyInterpolate4":Qa,"\u0275\u0275propertyInterpolate5":Ya,"\u0275\u0275propertyInterpolate6":Xa,"\u0275\u0275propertyInterpolate7":Ja,"\u0275\u0275propertyInterpolate8":Za,"\u0275\u0275propertyInterpolateV":tc,"\u0275\u0275pipe":jh,"\u0275\u0275queryRefresh":Xh,"\u0275\u0275viewQuery":Zh,"\u0275\u0275staticViewQuery":Jh,"\u0275\u0275staticContentQuery":nd,"\u0275\u0275loadQuery":id,"\u0275\u0275contentQuery":ed,"\u0275\u0275reference":ya,"\u0275\u0275classMap":bc,"\u0275\u0275classMapInterpolate1":Wc,"\u0275\u0275classMapInterpolate2":qc,"\u0275\u0275classMapInterpolate3":Bc,"\u0275\u0275classMapInterpolate4":Hc,"\u0275\u0275classMapInterpolate5":zc,"\u0275\u0275classMapInterpolate6":Kc,"\u0275\u0275classMapInterpolate7":Gc,"\u0275\u0275classMapInterpolate8":$c,"\u0275\u0275classMapInterpolateV":Qc,"\u0275\u0275styleMap":gc,"\u0275\u0275styleMapInterpolate1":Yc,"\u0275\u0275styleMapInterpolate2":Xc,"\u0275\u0275styleMapInterpolate3":Jc,"\u0275\u0275styleMapInterpolate4":Zc,"\u0275\u0275styleMapInterpolate5":tu,"\u0275\u0275styleMapInterpolate6":eu,"\u0275\u0275styleMapInterpolate7":nu,"\u0275\u0275styleMapInterpolate8":ru,"\u0275\u0275styleMapInterpolateV":iu,"\u0275\u0275styleProp":fc,"\u0275\u0275stylePropInterpolate1":ou,"\u0275\u0275stylePropInterpolate2":su,"\u0275\u0275stylePropInterpolate3":au,"\u0275\u0275stylePropInterpolate4":cu,"\u0275\u0275stylePropInterpolate5":uu,"\u0275\u0275stylePropInterpolate6":lu,"\u0275\u0275stylePropInterpolate7":hu,"\u0275\u0275stylePropInterpolate8":du,"\u0275\u0275stylePropInterpolateV":fu,"\u0275\u0275classProp":pc,"\u0275\u0275advance":ki,"\u0275\u0275template":va,"\u0275\u0275text":Pc,"\u0275\u0275textInterpolate":Ac,"\u0275\u0275textInterpolate1":jc,"\u0275\u0275textInterpolate2":Mc,"\u0275\u0275textInterpolate3":Rc,"\u0275\u0275textInterpolate4":Nc,"\u0275\u0275textInterpolate5":Dc,"\u0275\u0275textInterpolate6":Lc,"\u0275\u0275textInterpolate7":Vc,"\u0275\u0275textInterpolate8":Fc,"\u0275\u0275textInterpolateV":Uc,"\u0275\u0275i18n":ah,"\u0275\u0275i18nAttributes":ch,"\u0275\u0275i18nExp":uh,"\u0275\u0275i18nStart":oh,"\u0275\u0275i18nEnd":sh,"\u0275\u0275i18nApply":lh,"\u0275\u0275i18nPostprocess":hh,"\u0275\u0275resolveWindow":Vn,"\u0275\u0275resolveDocument":Fn,"\u0275\u0275resolveBody":Un,"\u0275\u0275setComponentScope":qt,"\u0275\u0275setNgModuleScope":Gt,"\u0275\u0275sanitizeHtml":ti,"\u0275\u0275sanitizeStyle":ei,"\u0275\u0275sanitizeResourceUrl":ri,"\u0275\u0275sanitizeScript":ii,"\u0275\u0275sanitizeUrl":ni,"\u0275\u0275sanitizeUrlOrResourceUrl":oi}))();const hd=[],dd=[];let fd=!1;function pd(t){return Array.isArray(t)?t.every(pd):!!K(t)}function gd(t,e){const n=It(e.declarations||hd),r=bd(t);n.forEach(e=>{e.hasOwnProperty(et)?md(Xt(e),r):e.hasOwnProperty(nt)||e.hasOwnProperty(rt)||(e.ngSelectorScope=t)})}function md(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(et)?Xt(t):Jt(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>Zt(t)),t.schemas=e.schemas,t.tView=null}function bd(t){if(!yd(t))throw new Error(t.name+" does not have a module def (\u0275mod property)");const e=ee(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Wn(e.imports).forEach(t=>{const e=t;if(!yd(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=bd(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),Wn(e.declarations).forEach(t=>{Zt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Wn(e.exports).forEach(t=>{const e=t;if(yd(e)){const t=bd(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else Zt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function vd(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function yd(t){return!!ee(t)}let _d=0;function wd(t,e){let n=null;Cd(t,e||{}),Object.defineProperty(t,nt,{get:()=>{if(null===n){const r=Od(t,e||{});n=tt().compileDirective(ld,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Od(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=tt(),o=kd(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&Sd(t),{metadata:o,sourceMapUrl:r}}function Cd(t,e){let n=null;Object.defineProperty(t,st,{get:()=>{if(null===n){const r=Od(t,e),i=tt();n=i.compileFactory(ld,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function xd(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function kd(t,e){const n=ls(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:hs(t),host:e.host||Vt,propMetadata:r,inputs:e.inputs||Ft,outputs:e.outputs||Ft,queries:Id(t,r,Td),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!xd(t),exportAs:(i=e.exportAs,void 0===i?null:jd(i)),providers:e.providers||null,viewQueries:Id(t,r,Pd)};var i}function Sd(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)Jt(n)||Xt(n)||!Rd(n)||wd(n,null),n=Object.getPrototypeOf(n)}function Ed(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?jd(n):K(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function Id(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${Dn(t)}" since the query selector wasn't defined.`);if(o.some(Ad))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Ed(i,e))}})}return r}function Td(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Pd(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Ad(t){return"Input"===t.ngMetadataName}function jd(t){return t.split(",").map(t=>t.trim())}const Md=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Rd(t){const e=ls();if(Md.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Ad(n)||Td(n)||Pd(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Nd(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:hs(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const Dd=y("Directive",(t={})=>t,void 0,void 0,(t,e)=>qd(t,e)),Ld=y("Component",(t={})=>Object.assign({changeDetection:Dt.Default},t),Dd,void 0,(t,e)=>Wd(t,e)),Vd=y("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Bd(t,e)),Fd=O("Input",t=>({bindingPropertyName:t})),Ud=O("Output",t=>({bindingPropertyName:t})),Wd=function(t,e){let n=null;!function(t,e){Ps(e)&&(Is.set(t,e),Ts.add(t))}(t,e),Cd(t,e),Object.defineProperty(t,et,{get:()=>{if(null===n){const r=tt();if(Ps(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:Lt.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,c=Object.assign(Object.assign({},kd(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||Ft,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});_d++;try{c.usesInheritance&&Sd(t),n=r.compileComponent(ld,a,c)}finally{_d--}if(0===_d&&function(){if(!fd){fd=!0;try{for(let t=dd.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=dd[t];n.declarations&&n.declarations.every(pd)&&(dd.splice(t,1),gd(e,n))}}finally{fd=!1}}}(),void 0!==t.ngSelectorScope){const e=bd(t.ngSelectorScope);md(n,e)}}return n},configurable:!1})},qd=wd,Bd=function(t,e){let n=null,r=null;Object.defineProperty(t,st,{get:()=>{if(null===r){const n=Nd(t,e),i=tt();r=i.compileFactory(ld,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,rt,{get:()=>{if(null===n){const r=Nd(t,e);n=tt().compilePipe(ld,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},Hd=y("NgModule",t=>t,void 0,void 0,(t,e)=>zd(t,e)),zd=function(t,e={}){!function(t,e,n=!1){const r=It(e.declarations||hd);let i=null;Object.defineProperty(t,it,{configurable:!0,get:()=>(null===i&&(i=tt().compileNgModule(ld,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:It(e.bootstrap||hd).map(K),declarations:r.map(K),imports:It(e.imports||hd).map(K).map(vd),exports:It(e.exports||hd).map(K).map(vd),schemas:e.schemas?It(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,V,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:hs(t),providers:e.providers||hd,imports:[(e.imports||hd).map(K),(e.exports||hd).map(K)]};o=tt().compileInjector(ld,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){dd.push({moduleType:t,ngModule:e})}(t,e)},Kd=new ct("Application Initializer");let Gd=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ja(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yt(Kd,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const $d=new ct("AppId"),Qd={provide:$d,useFactory:function(){return`${Yd()}${Yd()}${Yd()}`},deps:[]};function Yd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xd=new ct("Platform Initializer"),Jd=new ct("Platform ID"),Zd=new ct("appBootstrapListener");let tf=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const ef=new ct("LocaleId"),nf=new ct("DefaultCurrencyCode");class rf{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const of=function(t){return new gh(t)},sf=of,af=function(t){return Promise.resolve(of(t))},cf=function(t){const e=of(t),n=Wn(ee(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new ol(n)),t},[]);return new rf(e,n)},uf=cf,lf=function(t){return Promise.resolve(cf(t))};let hf=(()=>{class t{constructor(){this.compileModuleSync=sf,this.compileModuleAsync=af,this.compileModuleAndAllComponentsSync=uf,this.compileModuleAndAllComponentsAsync=lf}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const df=(()=>Promise.resolve(0))();function ff(t){"undefined"==typeof Zone?df.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pf{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uh(!1),this.onMicrotaskEmpty=new Uh(!1),this.onStable=new Uh(!1),this.onError=new Uh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=J.requestAnimationFrame,e=J.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(J,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vf(t),bf(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vf(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return yf(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),_f(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return yf(t),e.invoke(r,i,o,s,a)}finally{_f(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vf(t),bf(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mf,gf,gf);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function gf(){}const mf={};function bf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function yf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _f(t){t._nesting--,bf(t)}class wf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uh,this.onMicrotaskEmpty=new Uh,this.onStable=new Uh,this.onError=new Uh}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Of=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pf.assertNotInAngularZone(),ff(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ff(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yt(pf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Cf=(()=>{class t{constructor(){this._applications=new Map,Ef.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ef.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class xf{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function kf(t){Ef=t}let Sf,Ef=new xf;const If=new ct("AllowMultipleToken");class Tf{constructor(t,e){this.name=t,this.token=e}}function Pf(t,e,n=[]){const r="Platform: "+e,i=new ct(r);return(e=[])=>{let o=Af();if(!o||o.injector.get(If,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Sf&&!Sf.destroyed&&!Sf.injector.get(If,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sf=t.get(jf);const e=t.get(Xd,null);e&&e.forEach(t=>t())}(Ss.create({providers:t,name:r}))}return function(t){const e=Af();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Af(){return Sf&&!Sf.destroyed?Sf:null}let jf=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wf:("zone.js"===t?void 0:t)||new pf({enableLongStackTrace:Sr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:pf,useValue:n}];return n.run(()=>{const e=Ss.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ur,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Nf(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return ja(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Gd);return t.runInitializers(),t.donePromise.then(()=>(yl(i.injector.get(ef,bl)||bl),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Mf({},e);return function(t,e,n){const r=new gh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Rf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${q(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yt(Ss))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Mf(t,e){return Array.isArray(e)?e.reduce(Mf,t):Object.assign(Object.assign({},t),e)}let Rf=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Sr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pf.assertNotInAngularZone(),ff(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(t=>{return c()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof xu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(kt),i=n.create(Ss.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Of,null);return o&&i.injector.get(Cf).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Sr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Nf(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zd,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Nf(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yt(pf),yt(tf),yt(Ss),yt(ur),yt(Su),yt(Gd))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Nf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Df{}class Lf{}const Vf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ff=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Vf}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Uf(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Uf(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yt(hf),yt(Lf,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Uf(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Wf=function(t){return null},qf=Pf(null,"core",[{provide:Jd,useValue:"unknown"},{provide:jf,deps:[Ss]},{provide:Cf,deps:[]},{provide:tf,deps:[]}]),Bf=[{provide:Rf,useClass:Rf,deps:[pf,tf,Ss,ur,Su,Gd]},{provide:il,deps:[pf],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gd,useClass:Gd,deps:[[new x,Kd]]},{provide:hf,useClass:hf,deps:[]},Qd,{provide:Ku,useFactory:function(){return Qu},deps:[]},{provide:Gu,useFactory:function(){return Yu},deps:[]},{provide:ef,useFactory:function(t){return yl(t=t||"undefined"!=typeof $localize&&$localize.locale||bl),t},deps:[[new C(ef),new x,new S]]},{provide:nf,useValue:"USD"}];let Hf=(()=>{class t{constructor(t){}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=M({factory:function(e){return new(e||t)(yt(Rf))},providers:Bf}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},ip79:function(t,e){},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return X})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return q})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return K})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return p})),n.d(e,"s",(function(){return N})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return v})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return V})),n.d(e,"x",(function(){return w})),n.d(e,"y",(function(){return x})),n.d(e,"z",(function(){return g})),n.d(e,"A",(function(){return m})),n.d(e,"B",(function(){return C})),n.d(e,"C",(function(){return y})),n.d(e,"D",(function(){return O})),n.d(e,"E",(function(){return R})),n.d(e,"F",(function(){return A})),n.d(e,"G",(function(){return F})),n.d(e,"H",(function(){return U})),n.d(e,"I",(function(){return L})),n.d(e,"J",(function(){return Y})),n.d(e,"K",(function(){return Q})),n.d(e,"L",(function(){return j})),n.d(e,"M",(function(){return z})),n.d(e,"N",(function(){return G})),n.d(e,"O",(function(){return $})),n.d(e,"P",(function(){return k}));var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),a.encodeString(JSON.stringify(s),!1),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return p().indexOf("Electron/")>=0}function w(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O(){return p().indexOf("MSAppHost/")>=0}function C(){return!1}function x(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function S(){return!(!navigator||!navigator.cookieEnabled)}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return Object(r.c)(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?T(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new E(i,a,r);return c},t}();function T(t,e){return t.replace(P,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(u(o[0])||""),n=A(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},R=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var W=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function q(t,e){var n=new B(t,e);return n.subscribe.bind(n)}var B=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(){}var z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function K(t,e){return t+" failed: "+e+" argument "}function G(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(K(t,e)+"must be a valid function.")}function $(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(K(t,e)+"must be a valid context object.")}var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function X(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function J(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.t("angularfire2.app.options"),y=new c.t("angularfire2.app.nameOrConfig"),_=new c.V("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.cb)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const k={provide:class{},useFactory:w,deps:[v,c.E,[new c.F,y]]};let S=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.U.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)(c.ac(c.H))},providers:[k]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++v)}var b="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function x(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t){return t}function S(t,e,n){this.code=T+t,this.message=e||P[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new S(e.substring(T.length),t.message,t.serverResponse):null}x(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var I,T="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function D(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}I=j("__EID__")?"__EID__":void 0,x(R,Error),R.prototype.name="CustomError",x(N,R),N.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L((function(){return new q}),(function(t){t.reset()}));function W(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Ct&&e||"",this.b=Ot}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===Ot?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ot={},Ct={};function xt(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function kt(t,e){this.a=e===Pt?t:""}function St(t){return t instanceof kt&&t.constructor===kt?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=_t(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=xt();return new kt(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(It,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))})))}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function At(t,e){this.a=e===Vt?t:""}function jt(t){return t instanceof At&&t.constructor===At?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t))t=new At(t,Vt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Mt.test(e[1])?new At(t,Vt):null}return t}function Lt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new At(t,Vt))}var Vt={},Ft=new At("about:invalid#zClosurez",Vt);function Ut(t,e,n){this.a=n===Wt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Wt={};function qt(t,e,n,r){return t=t instanceof At?t:Lt(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(jt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Kt,Gt,$t=dt("Opera"),Qt=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),Xt=Yt||Qt,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Gt):Yt?/Edge\/([\d\.]+)/.exec(Gt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Zt?/WebKit\/(\S+)/.exec(Gt):$t?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var se=a.document&&Qt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var ae=!Qt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}H(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout((function(){throw t}),0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),ve.add(t,e)}var be=!1,ve=new F;function ye(){for(var t;t=W();){try{t.a.call(t.b)}catch(e){ge(e)}V(U,t)}be=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Me(n,Oe,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Me(n,Ce,t)}))}catch(r){Me(this,Ce,r)}}var we=0,Oe=2,Ce=3;function xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new L((function(){return new xe}),(function(t){t.reset()}));function Se(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ee(t){if(t instanceof _e)return t;var e=new _e(h);return Me(e,Oe,t),e}function Ie(t){return new _e((function(e,n){n(t)}))}function Te(t,e,n){Re(t,e,n,null)||me(O(e,t))}function Pe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Te(t[o],O(i,o,!0),O(i,o,!1));else e(r)}))}function Ae(t,e){t.b||t.a!=Oe&&t.a!=Ce||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function je(t,e,n,r){var i=Se(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ae(t,i),i.a}function Me(t,e,n){t.a==we&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=Ce||n instanceof Ue||function(t,e){t.g=!0,me((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof _e)return Ae(t,Se(e||h,n||null,r)),!0;if(M(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ne(t){t.h||(t.h=!0,me(t.gc,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Fe.call(null,i)}V(ke,e)}function Ve(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return je(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ae(this,t),this},t.o=function(t,e){return je(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ue(t);me((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Le(r,o,Ce,n)))}e.c=null}else Me(e,Ce,n)}(this,e)}),this)}},t.$c=function(t){this.a=we,Me(this,Oe,t)},t.ad=function(t){this.a=we,Me(this,Ce,t)},t.gc=function(){for(var t;t=De(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=ge;function Ue(t){R.call(this,t)}function We(){0!=qe&&(Be[m(this)]=this),this.xa=this.xa,this.pa=this.pa}x(Ue,R),Ue.prototype.name="cancel";var qe=0,Be={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}We.prototype.xa=!1,We.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ke=!Qt||9<=Number(se),Ge=Qt&&!oe("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},x(Ye,Qe);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ze,this.va=this.Pa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new tn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function cn(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?wn(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=bn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=mn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?On(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&dn(t),n.call(r,e)}function mn(t,e){if(t.va)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ye(e,this))}function bn(t){return(t=t[sn])instanceof nn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function _n(){We.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,c=s.Va||s.src;s.Pa&&rn(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function xn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function kn(t){var e=null;return new _e((function(n,r){-1==(e=xn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Sn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function En(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Tn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}x(_n,We),_n.prototype[Je]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;bt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Cn(s,r,!0,t)&&i}if(i=Cn(s=t.b=n,r,!0,t)&&i,i=Cn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=In.prototype).W=function(){Tn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof jn?(this.i=void 0!==e?e:t.i,Mn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Nn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Nn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Mn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Nn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Wn(e,Kn)),t.b=new $n(e,t.i))}function Dn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Vn(t){return t instanceof jn?new jn(t):new jn(t,void 0)}function Fn(t,e,n,r){var i=new jn(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Wn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Wn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Wn(n,Gn)),t.join("")},jn.prototype.resolve=function(t){var e=new jn(this),n=!!t.c;n?Mn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Nn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Kn=/[#\?@]/g,Gn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=er(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tn(t)))}function Jn(t,e){return Qn(t),e=er(t,e),Pn(t.a.b,e)}function Zn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),J(n)),t.b+=n.length)}function tr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Sr();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function cr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=jt(Dt(t)||Ft)),e.location.href=n}function lr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Cr(Sr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Dt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Lt(e),s.href=jt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=jt(e),s&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=xt())?r.createHTML(t):t,null,Wt),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function mr(t){return t=t||Sr(),!("file:"!==Ar()&&"ionic:"!==Ar()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function _r(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox",Or="Chrome";function Cr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?wr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=Cr(i=Sr()):"Worker"===r&&(r=Cr(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return a.navigator&&a.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=a.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function Tr(){return(Pr()||"chrome-extension:"===Ar()||mr())&&!_r()&&Ir()&&!vr()}function Pr(){return"http:"===Ar()||"https:"===Ar()}function Ar(){return a.location&&a.location.protocol||null}function jr(t){return!lr(t=t||Sr())&&Cr(t)!=wr}function Mr(t){return void 0===t?null:nr(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=Cr(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=yr(),this.b=lr(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Er("fireauth.oauthhelper",a)&&!Er("fireauth.iframe",a))}Fr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Ar()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Kr.abcd}catch(Gt){Br=!1}function Gr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Qr(t){var e={};return $r(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,Yr(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ei]),Gr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Gr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ci],r=t[li],i=t[hi];if(t=Jr(t[ui]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[gi]=n||null,e[di]=r):(e[fi]=r||null,e[gi]=r||null,e[di]=n||null),e[pi]=t||null,Gr(this,bi,i),Gr(this,mi,Yr(e))}x(ri,Xr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ci="email",ui="mfaInfo",li="newEmail",hi="requestType",di="email",fi="fromEmail",pi="multiFactorInfo",gi="previousEmail",mi="data",bi="operation";function vi(t){var e=Ln(t=Vn(t),yi)||null,n=Ln(t,_i)||null,r=Ln(t,Ci)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new S("argument-error",yi+", "+_i+"and "+Ci+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,wi)||null,languageCode:Ln(t,Oi)||null,tenantId:Ln(t,xi)||null})}var yi="apiKey",_i="oobCode",wi="continueUrl",Oi="languageCode",Ci="mode",xi="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new vi(t)}catch(e){return null}}function Ei(t){var e=t[ji];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ii];if(n&&"object"==typeof n){e=n[Ni];var r=n[Mi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ii+" property must be a non null object when specified.");if(this.f=null,(e=t[Ai])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Ai+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new S("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ii="android",Ti="dynamicLinkDomain",Pi="handleCodeInApp",Ai="iOS",ji="url",Mi="installApp",Ri="minimumVersion",Ni="packageName",Di="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Fi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ui(t){try{return new Fi(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}Fi.prototype.T=function(){return this.f},Fi.prototype.l=function(){return this.c},Fi.prototype.toString=function(){return this.h};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Bi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Bi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Bi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:qi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Ki(t){var e={};e["facebook.com"]=Xi,e["google.com"]=Zi,e["github.com"]=Ji,e["twitter.com"]=to;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Gi])return new Qi(t)}catch(r){}return null}var Gi="idToken",$i="providerId";function Qi(t){var e=t[$i];if(!e&&t[Gi]){var n=Ui(t[Gi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),Gr(this,"profile",Yr((t=Nr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function eo(t){var e=Vn(t),n=Ln(e,"link"),r=Ln(Vn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Vn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}x(Yi,Qi),x(Xi,Yi),x(Ji,Yi),x(Zi,Yi),x(to,Yi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Ks]){var n=Ui(t[Ks]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new S("user-mismatch"):t}))}function ao(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function mo(t){po.call(this,t,Bi),this.a=[]}function bo(){mo.call(this,"facebook.com")}function vo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function yo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Co(){po.call(this,"twitter.com",qi)}function xo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Eo(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=To(e)))throw new S("argument-error","Invalid email link!");return new ko(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=Si(t=eo(t)))&&t.operation===si?t:null}function Po(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Ao(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Mo(t){try{this.a=t||r.a.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Po({eb:t,cb:e})}function No(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return vo(n);case"github.com":return _o(n);case"twitter.com":return xo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Do(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Ee(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ka=function(t){return fa(t,co(this))},ao.prototype.b=function(t,e){var n=co(this);return n.idToken=e,pa(t,n)},ao.prototype.c=function(t,e){return so(ga(t,co(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return fa(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,pa(t,n)},lo.prototype.c=function(t,e){return so(ga(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=gt(t),this},x(go,po),x(mo,po),mo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return J(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},x(bo,mo),Gr(bo,"PROVIDER_ID","facebook.com"),Gr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(yo,mo),Gr(yo,"PROVIDER_ID","github.com"),Gr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),x(wo,mo),Gr(wo,"PROVIDER_ID","google.com"),Gr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),x(Co,po),Gr(Co,"PROVIDER_ID","twitter.com"),Gr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,Ca,{email:this.a,oobCode:this.f}):Ya(t,za,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ya(t,xa,{idToken:e,email:this.a,oobCode:this.f}):Ya(t,La,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return so(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Eo,{PROVIDER_ID:"password"}),$r(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.fb(jo(this))},Po.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,Ya(t,Ga,n)},Po.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",so(t=Ya(t,$a,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.fb=function(t,e){var n=this.a.a;return Ee(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return Ya(t,Fa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return Ya(t,Ua,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ya(t,Na,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Mo,{PROVIDER_ID:"phone"}),$r(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.T=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,Wo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Bo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Gr(this,"email",t.Jb),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Zb&&Gr(this,"tenantId",t.Zb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:No(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function zo(){}function Ko(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}x(qo,S),x(Bo,S),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,x(Ko,zo),Ko.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Ko,x($o,zo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Zo.prototype.toString=function(){return this.name};var ts=new Zo("SEVERE",1e3),es=new Zo("WARNING",900),ns=new Zo("CONFIG",700),rs=new Zo("FINE",500);Jo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var is={},os=null;function ss(t){var e;if(os||(os=new Jo(""),is[""]=os,os.c=ns),!(e=is[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ss(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,is[t]=e}return e}function as(t,e){t&&t.log(rs,e,void 0)}function cs(t){this.f=t}function us(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ss("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(cs,zo),cs.prototype.a=function(){return new us(this.f)},cs.prototype.b=function(t){return function(){return t}}({}),x(us,_n);var ls=0;function hs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ds(t){t.readyState=4,t.g=null,t.c=null,t.m=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ps(t){_n.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=gs,this.u=this.S=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this)),this.readyState=ls},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,hs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this):fs(this),3==this.readyState&&hs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ds(this))},t.sc=function(t){this.a&&(this.response=t,ds(this))},t.Ua=function(t){var e=this.i;e&&e.log(es,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ds(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),x(ps,_n);var gs="";ps.prototype.b=ss("goog.net.XhrIo");var ms=/^https?$/i,bs=["POST","PUT"];function vs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),Os(t)}function _s(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xs(t)&&2==ks(t))as(t.b,Ss(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))xn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){as(t.b,Ss(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(An)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!ms.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<xs(t)?t.a.statusText:""}catch(l){as(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+ks(t)+"]",_s(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Cs(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Ss(t,e){return e+" ["+t.R+" "+t.l+" "+ks(t)+"]"}function Es(t){var e=Vs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Is(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Ts(t){if(t.a){if(!t.v)throw new Ms(t);t.v=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function As(t){return G(t.g,(function(t){return p(t[1])}))}function js(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Ds[e];n&&(a.clearTimeout(n.a),delete Ds[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(M(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,As(t)||(n=!0)}}t.c=e,r&&(c=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Es?(Ps(e,c,r),e.C=!0):e.then(c,r)),n&&(e=new Ns(e),Ds[e.a]=e,t.h=e.a)}function Ms(){R.call(this)}function Rs(){R.call(this)}function Ns(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ps.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",as(this.b,Ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(as(this.b,Ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),ps.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ws(this):this.Jc())},t.Jc=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return as(this.b,"Can not get response: "+e.message),null}},Es.prototype.cancel=function(t){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Rs(this),Ts(this),Is(this,!1,t))}},Es.prototype.m=function(t,e){this.i=!1,Is(this,t,e)},Es.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Ps(this,r,(function(t){t instanceof Rs?o.cancel():i(t)})),o.then(t,e,n)},Es.prototype.$goog_Thenable=!0,x(Ms,R),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",x(Rs,R),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ns.prototype.c=function(){throw delete Ds[this.a],this.b};var Ds={};function Ls(t){var e={},n=e.document||document,r=St(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Es(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Fs(i,!0);var t=new qs(Ws,"Timeout reached for loading script "+r);Ts(s),Is(s,!1,t)}),h),o.Ma=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fs(i,e.xd||!1,c),Ts(s),Is(s,!0,null))},i.onerror=function(){Fs(i,!0,c);var t=new qs(Us,"Error while loading script "+r);Ts(s),Is(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Vs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ma)}}function Fs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Us=0,Ws=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Bs(t){this.f=t}function Hs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Gs,this.g=gt(t.secureTokenHeaders||$s),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Qs,this.a=gt(t.firebaseHeaders||Ys),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yr(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!vr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new cs(self):_r()?new Bs(n):new $o,this.b=null}x(qs,R),x(Bs,zo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var zs,Ks="idToken",Gs=new Fr(3e4,6e4),$s={"Content-Type":"application/x-www-form-urlencoded"},Qs=new Fr(3e4,6e4),Ys={"Content-Type":"application/json"};function Xs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e&&(t.l=Zs("https://securetoken.googleapis.com/v1/token",e),t.h=Zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Zs("https://identitytoolkit.googleapis.com/v2/",e))}function Zs(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Mn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function ta(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ea(t,e,n,r,i,o,s){(function(){var t=Sr();return!((t=Cr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||vr()?t=w(t.u,t):(zs||(zs=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ra]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(Ls(Et(na,{onload:ra})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}Hs.prototype.T=function(){return this.b},Hs.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ps(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return as(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),On(s,"ready",(function(){c&&clearTimeout(c),He(this)})),On(s,"timeout",(function(){c&&clearTimeout(c),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Uo),t.a.onreadystatechange=w(t.Vb,t);try{as(t.b,Ss(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return as(t.b,Ss(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=En(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=vs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Cs(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),as(t.b,Ss(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=xn(t.Ma,t.g,t)),as(t.b,Ss(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){as(t.b,Ss(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var na=new yt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),ra="__fcb"+Math.floor(1e6*Math.random()).toString();function ia(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new S("invalid-email")}function oa(t){"email"in t&&ia(t)}function sa(t){if(!t[Ks]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function aa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Hs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.zb=function(){return Ya(this,Va,{})},Hs.prototype.Bb=function(t,e){return Ya(this,Da,{idToken:t,email:e})},Hs.prototype.Cb=function(t,e){return Ya(this,La,{idToken:t,password:e})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ua(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ha(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;sa(t)}function fa(t,e){return e.returnIdpCredential=!0,Ya(t,Wa,e)}function pa(t,e){return e.returnIdpCredential=!0,Ya(t,Ba,e)}function ga(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ya(t,qa,e)}function ma(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Hs.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(ca,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ya(this,Da,n)},t.vb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),Ya(this,Aa,t)},t.wb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ya(this,Ia,t)},t.ub=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ya(this,Ta,t)},t.Eb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ya(this,Pa,t)},t.fb=function(t){return Ya(this,Ka,t)},t.nb=function(t,e){return Ya(this,Ra,{oobCode:t,newPassword:e})},t.Ra=function(t){return Ya(this,va,{oobCode:t})},t.jb=function(t){return Ya(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:ma,Z:"email",B:!0},va={endpoint:"resetPassword",A:ma,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},ya={endpoint:"signupNewUser",A:function(t){if(ia(t),!t.password)throw new S("weak-password")},G:sa,V:!0,B:!0},_a={endpoint:"createAuthUri",B:!0},wa={endpoint:"deleteAccount",N:["idToken"]},Oa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Ca={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ia,G:sa,V:!0,B:!0},xa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ia,G:sa,V:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ua,G:sa,B:!0,Na:!0},Sa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ua,G:sa,B:!0,Na:!0},Ea={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ia(t)},Z:"email",B:!0},Ta={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Aa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ia(t)},Z:"email",B:!0},ja={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ma={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ra={endpoint:"resetPassword",A:ma,Z:"email",B:!0},Na={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Da={endpoint:"setAccountInfo",N:["idToken"],A:oa,V:!0},La={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(oa(t),!t.password)throw new S("weak-password")},G:sa,V:!0},Va={endpoint:"signupNewUser",G:sa,V:!0,B:!0},Fa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ua={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Wa={endpoint:"verifyAssertion",A:la,Ya:ha,G:da,V:!0,B:!0},qa={endpoint:"verifyAssertion",A:la,Ya:ha,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);sa(t)},V:!0,B:!0},Ba={endpoint:"verifyAssertion",A:function(t){if(la(t),!t.idToken)throw new S("internal-error")},Ya:ha,G:da,V:!0},Ha={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:sa,V:!0,B:!0},za={endpoint:"verifyPassword",A:function(t){if(ia(t),!t.password)throw new S("wrong-password")},G:sa,V:!0,B:!0},Ka={endpoint:"verifyPhoneNumber",A:aa,G:sa,B:!0},Ga={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");aa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);sa(t)}},$a={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:aa,G:sa,B:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ks]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ya(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ie(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ee(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Vn(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",Date.now().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Dn(a,u,i[u]);return new _e((function(e,n){ea(t,a.toString(),(function(t){t?t.error?n(Ja(t,o||{})):e(t):n(new S("network-request-failed"))}),r,c?void 0:nr(Rr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function Xa(t){return Ja({error:{errors:[{message:t}],code:400,message:t}})}function Ja(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",bt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Mr(t)),new S("internal-error",e)}function Za(t){this.b=t,this.a=null,this.rb=function(t){return(rc||(rc=new _e((function(t,e){function n(){Vr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:ec.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Ee(Ls(r=Et(tc,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw rc=null,t})))).then((function(){return new _e((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tc=new yt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),ec=new Fr(3e4,6e4),nc=new Fr(5e3,15e3),rc=null;function ic(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function oc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function sc(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function ac(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cc(t){var e=cr();return function(t){return Ya(t,ja,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(cr())}))}function uc(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=sc(t.b),i=new ic(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new Za(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)}))}(t)}))),t.m}function lc(t){return t.l||(t.C=t.c?kr(t.c,sc(t.b)):null,t.l=new Hs(t.g,j(t.i),t.C),t.f&&Js(t.l,t.f)),t.l}function hc(t,e,n,r,i,o,s,a,c,u,l,h){return(t=new oc(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(c||null),t.f=u,t.yb(l).toString()}function dc(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fc(t){this.b=t,this.a={},this.f=w(this.c,this)}ic.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},oc.prototype.yb=function(t){return this.h=t,this},oc.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Dn(t,"apiKey",this.s),Dn(t,"appName",this.c),Dn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(c){n=null}for(var i in e.ob=n,Dn(t,"providerId",this.a.providerId),e=Rr((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Dn(t,"customParameters",Mr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Dn(t,"scopes",n.join(",")),this.l?Dn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Dn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Dn(t,"eid",this.f):Xn(t.b,"eid"),(a=sc(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=ac.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return uc(t).then((function(){return function(t,e){return t.rb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return kn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Sr();return!jr(t)&&!Lr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ie(new S("popup-blocked"));if(s&&!jr())return this.ma().o((function(e){hr(t),i(e)})),r(),Ee();this.a||(this.a=cc(lc(this)));var c=this;return this.a.then((function(){var e=c.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Do(n),s||ur(hc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=cc(lc(this)));var i=this;return this.a.then((function(){Do(e),ur(hc(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return uc(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,(function(e){return e==t}))},(t=dc.prototype).get=function(t){return Ee(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},t.set=function(t,e){return Ee(this.a.setItem(t,Mr(e)))},t.U=function(t){return Ee(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var pc,gc=[];function mc(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bc(t){this.a=t}function vc(t){this.c=t,this.b=!1,this.a=[]}function yc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return Ie(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _c(t,u),e})).o((function(e){throw _c(t,u),e}))}function _c(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function wc(){if(!xc())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;vr()&&self?(this.v=function(){var t=vr()?self:null;if(H(gc,(function(n){n.b==t&&(e=n)})),!e){var e=new fc(t);gc.push(e)}return e}(),mc(this.v,"keyChanged",(function(e,n){return Tc(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),mc(this.v,"ping",(function(){return Ee(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ee().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ee(null)}().then((function(e){(t.h=e)&&(t.g=new vc(new bc(e)),yc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Oc(t){return t.i||(t.i=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function Cc(t,e){var n=0;return new _e((function r(i,o){Oc(t).then(e).then(i).o((function(e){if(!(3<++n))return Oc(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xc(){try{return!!a.indexedDB}catch(Gt){return!1}}function kc(t){return t.objectStore("firebaseLocalStorage")}function Sc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ec(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ic(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ee()}function Tc(t){return Oc(t).then((function(t){var e=kc(Sc(t,!1));return e.getAll?Ec(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Pc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ac(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ee().then((function(){if(xc()){var t=Dr(),r="__sak"+t;return pc||(pc=new wc),(n=pc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function jc(){this.a={},this.type="inMemory"}function Mc(){if(!function(){var t="Node"==yr();if(!(t=Rc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Rc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Rc(){try{var t=a.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nc(){this.type="nullStorage"}function Dc(){if(!function(){var t="Node"==yr();if(!(t=Lc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Lc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lc(){try{var t=a.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vc(){var t={};t.Browser=Wc,t.Node=qc,t.ReactNative=Bc,t.Worker=Hc,this.a=t[yr()]}fc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ee().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},bc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vc.prototype.close=function(){for(;0<this.a.length;)_c(this,this.a[0]);this.b=!0},(t=wc.prototype).set=function(t,e){var n=this,r=!1;return Cc(this,(function(e){return Ec((e=kc(Sc(e,!0))).get(t))})).then((function(i){return Cc(n,(function(o){if(o=kc(Sc(o,!0)),i)return i.value=e,Ec(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ec(o.add(s))}))})).then((function(){return n.c[t]=e,Ic(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cc(this,(function(e){return Ec(kc(Sc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cc(this,(function(r){return n=!0,e.b++,Ec(kc(Sc(r,!0)).delete(t))})).then((function(){return delete e.c[t],Ic(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Pc(t),function e(){t.f=setTimeout((function(){t.l=Tc(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Pc(this)},(t=Ac.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=jc.prototype).get=function(t){return Ee(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ee()},t.U=function(t){return delete this.a[t],Ee()},t.ca=function(){},t.ia=function(){},(t=Mc.prototype).get=function(t){var e=this;return Ee().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Nc.prototype).get=function(){return Ee(null)},t.set=function(){return Ee()},t.U=function(){return Ee()},t.ca=function(){},t.ia=function(){},(t=Dc.prototype).get=function(t){var e=this;return Ee().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fc,Uc,Wc={F:Mc,bb:Dc},qc={F:Mc,bb:Dc},Bc={F:dc,bb:Nc},Hc={F:Mc,bb:Nc},zc={rd:"local",NONE:"none",td:"session"};function Kc(){var t=!(Lr(Sr())||!br()),e=jr(),n=Ir();this.m=t,this.h=e,this.l=n,this.a={},Fc||(Fc=new Vc),t=Fc;try{this.g=!ar()&&qr()||!a.indexedDB?new t.a.F:new Ac(vr()?new jc:new t.a.F)}catch(r){this.g=new jc,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new jc}this.v=new jc,this.f=w(this.Yb,this),this.b={}}function Gc(){return Uc||(Uc=new Kc),Uc}function $c(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Qc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Yc(t,e,n){return n=Qc(e,n),"local"==e.F&&(t.b[n]=null),$c(t,e.F).U(n)}function Xc(t){t.c&&(clearInterval(t.c),t.c=null)}function Jc(t){this.a=t,this.b=Gc()}(t=Kc.prototype).get=function(t,e){return $c(this,t.F).get(Qc(t,e))},t.set=function(t,e,n){var r=Qc(t,n),i=this,o=$c(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Qc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&($c(this,"local").ca(this.f),this.h||(ar()||!qr())&&a.indexedDB||!this.l||function(t){Xc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Qc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&($c(this,"local").ia(this.f),Xc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$c(this,"local").ia(this.f):Xc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Zc,tu={name:"authEvent",F:"local"};function eu(){this.a=Gc()}function nu(t,e){this.b=ru,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zc&&(Zc=a.Int32Array?new Int32Array(lu):lu),this.reset()}x(nu,(function(){this.b=-1}));for(var ru=64,iu=ru-1,ou=[],su=0;su<iu;su++)ou[su]=0;var au=X(128,ou);function cu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|Zc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function uu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(cu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(cu(t),i=0)}}t.c=i,t.g+=n}nu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var lu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hu(){nu.call(this,8,du)}x(hu,nu);var du=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fu(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new eu,this.g=new Jc(this.h),this.f=null,this.b=[],this.a=this.c=null}function pu(t){return new S("invalid-cordova-configuration",t)}function gu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function mu(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),bu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Ln(o=Vn(i),"firebaseError")||null))?E(o):null)?new Lo(r.c,r.b,null,null,o,null,r.T()):new Lo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}gu(t,i)}))}var n=new Lo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=kn(500).then((function(){return bu(t).then((function(){r||gu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new Fo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function bu(t){var e=null;return function(t){return t.b.get(tu,t.a).then((function(t){return Vo(t)}))}(t.g).then((function(n){return e=n,Yc((n=t.g).b,tu,n.a)})).then((function(){return e}))}function vu(t){this.a=t,this.b=Gc()}(t=fu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",a))throw pu("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",a))throw pu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",a))throw pu("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",a))throw pu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ee()},t.Mb=function(){return Ie(new S("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ie(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=Ee().then((function(){return Do(e),mu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Lo(e,r,null,o,new S("no-auth-event"),null,i),c=Er("BuildInfo.packageName",a);if("string"!=typeof c)throw new S("invalid-cordova-configuration");var u=Er("BuildInfo.displayName",a),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Sr().toLowerCase().match(/android/))return Ie(new S("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new hu;uu(e,t),t=[];var n=8*e.g;uu(e,au,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(cu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=hc(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(tu,s.w(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){c=function(){var e=Er("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){Ur()&&u()},o.addEventListener("resume",u=function(){s||(s=kn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return bu(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Sa(c),i.c=null}))},t.Ea=function(t){this.b.push(t),mu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Sa=function(t){Y(this.b,(function(e){return e==t}))};var yu={name:"pendingRedirect",F:"session"};function _u(t){return Yc(t.b,yu,t.a)}function wu(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Du,this.C=new Wu,this.g=new vu(Ru(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ou(this.D,this.v,this.m,I,this.J)}function Ou(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return mr()?new fu(t,e,n,s,i,o):new ac(t,e,n,s,i,o)}function Cu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xu(t){t.a.Xb()&&Cu(t).o((function(e){var n=new Lo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Pu(e)&&t.s(n)})),t.a.Tb()||Lu(t.b)}function ku(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_u(t.g).then((function(){Cu(t).o((function(e){var n=new Lo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Pu(e)&&t.s(n)}))})):xu(t)})).o((function(){xu(t)}))}function Su(t,e){Y(t.h,(function(t){return t==e}))}wu.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ou(this.D,this.v,this.m,null,this.J),this.i={}},wu.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Lu(this.b),e};var Eu=new Fr(2e3,1e4),Iu=new Fr(3e4,6e4);function Tu(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Pu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Au(t,e,n,r,i){var o;return function(t){return t.b.set(yu,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Pu(e))throw new S("operation-not-supported-in-this-environment");return o=e,_u(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new _e((function(){})):_u(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function ju(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Eu.get())}wu.prototype.qa=function(){return this.b.qa()};var Mu={};function Ru(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Nu(t,e,n,r){var i=Ru(e,n,r);return Mu[i]||(Mu[i]=new wu(t,e,n,r)),Mu[i]}function Du(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lu(t){t.g||(t.g=!0,Uu(t,!1,null,null))}function Vu(t){t.g&&!t.i&&Uu(t,!1,null,null)}function Fu(t,e){if(t.b=function(){return Ee(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fu(t,n):Fu(t,{user:null}),t.f=[],t.c=[]}function Wu(){}function qu(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Bu(t,e){this.a=e,Gr(this,"verificationId",t)}function Hu(t,e,n,r){return new Mo(t).fb(e,n).then((function(t){return new Bu(t,r)}))}function zu(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Ku(t,e,n){var r=e&&e[$u];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;H(e[Gu]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Du.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Du.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uu(this,!0,null,t.a),Ee()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Uu(t,a,e,null)})).o((function(e){Uu(t,a,null,e)}))}(this,t,e):Ie(new S("invalid-auth-event")):(Uu(this,!1,null,null),Ee())}else Ie(new S("invalid-auth-event"))},Du.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=kn(Iu.get()).then((function(){t.b||(t.g=!0,Uu(t,!0,null,e))}))}(t))}))},Wu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ee()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ie(new S("invalid-auth-event"))}else Ie(new S("invalid-auth-event"))},Bu.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Gu="mfaInfo",$u="mfaPendingCredential";function Qu(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Ku(t,e,n),Gr(this,"resolver",this.b)}function Yu(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qu(e,t.serverResponse,n,t.message)}catch(r){}return null}function Xu(){}function Ju(t){Gr(this,"factorId",t.fa),this.a=t}function Zu(t){if(Ju.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function tl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function el(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),nl(this,n)}function nl(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function rl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function il(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ol(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function sl(t,e){t.b=Ui(e[Ks]||""),t.a=e.refreshToken,ol(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function al(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function cl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?kr(r.a.SDK_VERSION):null;this.a=new Hs(this.l,j(I),i),t.emulatorConfig&&Js(this.a,t.emulatorConfig),this.b=new il(this.a),bl(this,e[Ks]),sl(this.b,e),Gr(this,"refreshToken",this.b.a),_l(this,n||{}),_n.call(this),this.R=!1,this.s&&Tr()&&(this.i=Nu(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new rl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){Js(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){dl(o,t.f)},this.ba=null,this.O=new el(this,n),Gr(this,"multiFactor",this.O)}function ll(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function hl(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function dl(t,e){t.$=e,ta(t.a,r.a.SDK_VERSION?kr(r.a.SDK_VERSION,t.$):null)}function fl(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function pl(t){try{return r.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function gl(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function ml(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function bl(t,e){t.za=e,Gr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Pe(e).then((function(){return t}))}function yl(t){t.i&&!t.R&&(t.R=!0,ku(t.i,t))}function _l(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new al(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function Ol(t){return Ee().then((function(){if(t.D)throw new S("app-deleted")}))}function Cl(t){return K(t.providerData,(function(t){return t.providerId}))}function xl(t,e){e&&(kl(t,e.providerId),t.providerData.push(e))}function kl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Sl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function El(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Gr(t,"metadata",e.metadata?function(t){return new al(t.a,t.b)}(e.metadata):new al),H(e.providerData,(function(e){xl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Gr(t,"refreshToken",t.b.a),nl(t.O,e.O.b))}function Il(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ya(t.a,Ea,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||Sl(t,"isAnonymous",!1),e}))}))}function Tl(t,e){e[Ks]&&t.za!=e[Ks]&&(sl(t.b,e),t.dispatchEvent(new tl("tokenChanged")),bl(t,e[Ks]),Sl(t,"refreshToken",t.b.a))}function Pl(t,e){return Il(t).then((function(){if($(Cl(t),e))return vl(t).then((function(){throw new S("provider-already-linked")}))}))}function Al(t,e,n){return Qr({user:t,credential:No(e),additionalUserInfo:e=Ki(e),operationType:n})}function jl(t,e){return Tl(t,e),t.reload().then((function(){return t}))}function Ml(t,e,n,i,o){if(!Tr())return Ie(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ie(t.h);var s=zi(n.providerId),a=Dr(t.uid+":::"),c=null;(!jr()||br())&&t.s&&n.isOAuthProvider&&(c=hc(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var u=dr(c,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Nl(t),!o)return t.I().then((function(){}))})).then((function(){return Tu(t.i,u,e,n,a,!!c,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=ju(t.i,t,e,u,a)}))})).then((function(t){return u&&hr(u),t?Qr(t):null})).o((function(t){throw u&&hr(u),t})),Dl(t,i,o)}function Rl(t,e,n,r,i){if(!Tr())return Ie(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ie(t.h);var o=null,s=Dr(t.uid+":::");return r=r().then((function(){if(Nl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,vl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fl,t.w(),e.a)),e})).then((function(){return Au(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Ul(t.ha);throw o})).then((function(){if(o)throw o})),Dl(t,r,i)}function Nl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Dl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ie(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new tl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){Q(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yu(e.w(),pl(t),w(t.jc,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ks]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&xl(i,Qr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Vl(t){this.a=t,this.b=Gc()}Ku.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[Gu],delete n[$u],bt(n,t),e.g(n)}))},x(Qu,S),Xu.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),bt(n,{phoneVerificationInfo:jo(t.a)}),Ya(e,ka,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),Ya(e,Sa,n)}))}(this,t,e)},x(Ju,Xu),x(Zu,Ju),x(tl,Qe),(t=el.prototype).yc=function(t){nl(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Tl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ya(r,Qa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return nl(e,r),Tl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},rl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Ee():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},rl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ea(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ja(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ui(e.access_token),t.a=e.refresh_token,ol(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(ul,_n),ul.prototype.wa=function(t){this.ya=t,Xs(this.a,t)},ul.prototype.la=function(){return this.ya},ul.prototype.Ga=function(){return J(this.$)},ul.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Dl(this,Ol(this).then((function(){return Il(t).then((function(){return vl(t)})).then(wl)})))},t.oc=function(t){return this.I(t).then((function(t){return new zu(t)}))},t.I=function(t){var e=this;return Dl(this,Ol(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(bl(e,t.accessToken),e.dispatchEvent(new tl("tokenChanged"))),Sl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new cl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)xl(this,e[n]);Sl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new tl("userReloaded",{hd:t}))},t.Lc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Dl(this,t.c(this.a,this.uid).then((function(t){return Tl(e,t),n=Al(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Dl(this,Pl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Al(e,t,"link"),jl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Dl(this,Pl(this,"phone").then((function(){return Hu(pl(n),t,e,w(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Dl(this,Ee().then((function(){return Hu(pl(n),t,e,w(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Dl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Tl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ol(this);var e=this;return Dl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Tl(e,t),Sl(e,"displayName",t.displayName||null),Sl(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),vl(e)})).then(wl))},t.cd=function(t){var e=this;return Dl(this,Il(this).then((function(n){return $(Cl(e),t)?function(t,e,n){return Ya(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Cl(e),(function(t){n[t]||kl(e,t)})),n[Mo.PROVIDER_ID]||Gr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Dl(this,this.I().then((function(e){return Ya(t.a,wa,{idToken:e})})).then((function(){t.dispatchEvent(new tl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");ll(t,null),hl(t,null),fl(t,null),t.J=[],t.D=!0,ml(t),Gr(t,"refreshToken",null),t.i&&Su(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Ml(this,"linkViaPopup",t,(function(){return Pl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Nc=function(t){return Ml(this,"reauthViaPopup",t,(function(){return Ee()}),!0)},t.Fc=function(t){var e=this;return Rl(this,"linkViaRedirect",t,(function(){return Pl(e,t.providerId)}),!1)},t.Oc=function(t){return Rl(this,"reauthViaRedirect",t,(function(){return Ee()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,this.I().then((function(n){return pa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Al(i,t,"link"),jl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,Ee().then((function(){return so(ga(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Al(i,t,"reauthenticate"),Tl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Dl(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Li(new Ei(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Dl(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Li(new Ei(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Dl(this,t=so(Ee(t),n.uid).then((function(t){return e=Al(n,t,"reauthenticate"),Tl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),bt(t,this.O.w()),t};var Fl={name:"redirectUser",F:"session"};function Ul(t){return Yc(t.b,Fl,t.a)}function Wl(t){this.a=t,this.b=Gc(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Qc(e,n),i=$c(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Nr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in zc)zc[n]!==e&&r.push(Yc(t.b,Hl(zc[n]),t.a));return r.push(Yc(t.b,Bl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Te(t[a],O(o,a),s);else e(i)}))}(r)}Wl.prototype.g=function(){var t=this,e=Hl("local");$l(this,(function(){return Ee().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Bl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function zl(t,e){return $l(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Kl(t){return $l(t,(function(){return Yc(t.b,t.c,t.a)}))}function Gl(t,e,n){return $l(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})}))}))}function $l(t,e){return t.f=t.f.then(e,e),t.f}function Ql(t){if(this.l=!1,Gr(this,"settings",new qu),Gr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new S("invalid-api-key");t=r.a.SDK_VERSION?kr(r.a.SDK_VERSION):null,this.a=new Hs(rh(this).options&&rh(this).options.apiKey,j(I),t),this.R=[],this.s=[],this.O=[],this.hb=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new Wl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Vl(rh(this).options.apiKey+":"+rh(this).name),this.$=ah(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Ul(t.D)}));return ah(t,e)}(t).then((function(){return Gl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Kl(t.i)}))):null})).then((function(e){eh(t,e||null)}));return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&Tr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Nu(e,n,rh(t).name,t.P),ku(t.b,t),ih(t)&&yl(ih(t)),t.m){yl(t.m);var r=t.m;r.wa(t.la()),ll(r,t),dl(r=t.m,t.J),fl(r,t),Js((r=t.m).a,t.P),hl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function Yl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function Xl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Jl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Zl(t){return t.Oa||Ie(new S("auth-domain-config-required"))}function th(t){if(!Tr())return Ie(new S("operation-not-supported-in-this-environment"));var e=Zl(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return ah(t,e)}function eh(t,e){ih(t)&&(function(t,e){Y(t.S,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.ya),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),ml(ih(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&gl(e)),Gr(t,"currentUser",e),e&&(e.wa(t.la()),ll(e,t),dl(e,t.J),fl(e,t),Js(e.a,t.P),hl(e,t))}function nh(t,e){var n=null,r=null;return ah(t,e.then((function(e){return n=No(e),r=Ki(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&dl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(El(ih(t),e),t.da(e)):(eh(t,e),yl(e),t.da(e))})).then((function(){sh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yu(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Qr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](oh(t))}}function ah(t,e){return t.R.push(e),e.oa((function(){Q(t.R,e)})),e}function ch(){}function uh(){this.a={},this.b=1e12}Wl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in zc)if(zc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xc()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),$l(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):Ee()}))},x(Ql,_n),x(Yl,Qe),x(Xl,Qe),x(Jl,Qe),(t=Ql.prototype).xb=function(t){return ah(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Xs(this.a,this.aa),this.dispatchEvent(new Yl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&gr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,Js(this.a,this.P),this.dispatchEvent(new Xl(this.P))}},t.Gc=function(t){this.J.push(t),ta(this.a,r.a.SDK_VERSION?kr(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Jl(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,fa(i.a,o))}))},t.Xc=function(t){if(!Tr())return Ie(new S("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),i=Dr(),o=null;(!jr()||br())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=hc(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=dr(o,n&&n.ua,n&&n.ta);return ah(this,n=Zl(this).then((function(n){return Tu(n,s,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=ju(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&hr(s),t?Qr(t):null})).o((function(t){throw s&&hr(s),t})))},t.Yc=function(t){if(!Tr())return Ie(new S("operation-not-supported-in-this-environment"));var e=this;return ah(this,Zl(this).then((function(){return function(t){return $l(t,(function(){return t.b.set(Bl,t.c.F,t.a)}))}(e.i)})).then((function(){return Au(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return th(this).then((function(e){return t.b&&Vu(t.b.b),e})).o((function(e){throw t.b&&Vu(t.b.b),e}))},t.dd=function(t){if(!t)return Ie(new S("null-user"));if(this.S!=t.tenantId)return Ie(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ks]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&dl(e,r),El(e,t),e}(t,n,e.D,e.Ga());return ah(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(El(ih(e),t),e.da(t)):(eh(e,r),yl(r),e.da(r))})).then((function(){sh(e)})))},t.Ab=function(){var t=this;return ah(this,this.h.then((function(){return t.b&&Vu(t.b.b),ih(t)?(eh(t,null),Kl(t.i).then((function(){sh(t)}))):Ee()})))},t.Zc=function(){var t=this;return Gl(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return El(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(yl(e),e.ha=t.D),t.b&&ku(t.b,t),sh(t))}}))},t.da=function(t){return zl(this.i,t)},t.mc=function(){sh(this),this.da(ih(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,Ee(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),ah(t,t.h.then((function(){!t.l&&$(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return ah(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,Ya(e.a,Ha,{token:t}))})).then((function(t){var n=t.user;return Sl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,za,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Ya(n.a,ya,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.zb()).then((function(e){var n=e.user;return Sl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&gl(ih(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&ml(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ah(this,this.h.then((function(){e.l||$(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Y(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.ja),this.b&&(Su(this.b,this),Vu(this.b.b)),Promise.resolve()},t.hc=function(t){return ah(this,function(t,e){return Ya(t,_a,{identifier:e,continueUri:Pr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!To(t)},t.wb=function(t,e){var n=this;return ah(this,Ee().then((function(){var t=new Ei(e);if(!t.c)throw new S("argument-error",Pi+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return ah(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return ah(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return ah(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return ah(this,Ee().then((function(){return void 0===e||pt(e)?{}:Li(new Ei(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ah(this,Hu(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return ah(this,Ee().then((function(){var r=e||cr(),i=Io(t,r);if(!(r=To(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=dh(e))&&t.a[e]||null}function dh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gh(){}function mh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=hh(this,t);t=dh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Gr(gh,"FACTOR_ID","phone"),mh.prototype.g=function(){return lh||(lh=new uh),Ee(lh)},mh.prototype.c=function(){};var bh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new yt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Fr(3e4,6e4);vh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete a[e.a]},Ee(Ls(Et(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},vh.prototype.c=function(){this.b--};var wh=null;function Oh(t,e,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(bh||(bh=new mh),s=bh):(wh||(wh=new vh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Sh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[Ch];this.a[Ch]=function(t){if(Eh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Er(u,a);"function"==typeof e&&e(t)}};var l=this.a[xh];this.a[xh]=function(){if(Eh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Er(l,a);"function"==typeof t&&t()}}}var Ch="callback",xh="expired-callback",kh="sitekey",Sh="size";function Eh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ih(t,e){return t.h.push(e),e.oa((function(){Q(t.h,e)})),e}function Th(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?kr(r.a.SDK_VERSION,s):null,Oh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,j(I),i)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Oh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ih(this,Ee().then((function(){if(Pr()&&!vr())return gr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Ya(t.s,Ma,{})})).then((function(e){t.a[kh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Th(this);var t=this;return Ih(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Th(this);var t=this;return Ih(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Th(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Th(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},x(Ph,Oh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Mh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Rh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Nh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Dh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Vh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Fh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return g(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Bh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:O((function(t){return this[t]}),n),set:O((function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Ql.prototype,{jb:{name:"applyActionCode",j:[Mh("code")]},Ra:{name:"checkActionCode",j:[Mh("code")]},nb:{name:"confirmPasswordReset",j:[Mh("code"),Mh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Mh("email"),Mh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Mh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Mh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wh(Nh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wh(Nh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Mh("email"),Wh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Mh("email"),Nh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Mh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Vh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Vh()]},Tc:{name:"signInWithCustomToken",j:[Mh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Mh("email"),Mh("password")]},Vc:{name:"signInWithEmailLink",j:[Mh("email"),Mh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Wh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ul)}},Lh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Mh("url"),Nh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Mh("code")]}}),Bh(Ql.prototype,{lc:{name:"languageCode",kb:Wh(Mh(),Lh(),"languageCode")},ti:{name:"tenantId",kb:Wh(Mh(),Lh(),"tenantId")}}),(Ql.Persistence=zc).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Vh()]},qb:{name:"linkWithCredential",j:[Vh()]},Dc:{name:"linkWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vh()]},tb:{name:"reauthenticateWithCredential",j:[Vh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Wh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},cd:{name:"unlink",j:[Mh("provider")]},Bb:{name:"updateEmail",j:[Mh("email")]},Cb:{name:"updatePassword",j:[Mh("password")]},ed:{name:"updatePhoneNumber",j:[Vh("phone")]},Db:{name:"updateProfile",j:[Nh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Mh("email"),Wh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bh(qu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Rh("appVerificationDisabledForTesting")}}),qh(Bu.prototype,{confirm:{name:"confirm",j:[Mh("verificationCode")]}}),Hh(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,So,Ao,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Wh(Mh(),Nh(),"json")]),Hh(Eo,"credential",(function(t,e){return new ko(t,e)}),[Mh("email"),Mh("password")]),qh(ko.prototype,{w:{name:"toJSON",j:[Mh(null,!0)]}}),qh(bo.prototype,{Ca:{name:"addScope",j:[Mh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(bo,"credential",vo,[Wh(Mh(),Nh(),"token")]),Hh(Eo,"credentialWithLink",Io,[Mh("email"),Mh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Mh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(yo,"credential",_o,[Wh(Mh(),Nh(),"token")]),qh(wo.prototype,{Ca:{name:"addScope",j:[Mh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(wo,"credential",Oo,[Wh(Mh(),Wh(Nh(),Lh()),"idToken"),Wh(Mh(),Lh(),"accessToken",!0)]),qh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(Co,"credential",xo,[Wh(Mh(),Nh(),"token"),Mh("secret",!0)]),qh(mo.prototype,{Ca:{name:"addScope",j:[Mh("scope")]},credential:{name:"credential",j:[Wh(Mh(),Wh(Nh(),Lh()),"optionsOrIdToken"),Wh(Mh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(lo.prototype,{w:{name:"toJSON",j:[Mh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Mh(null,!0)]}}),Hh(Mo,"credential",Ro,[Mh("verificationId"),Mh("verificationCode")]),qh(Mo.prototype,{fb:{name:"verifyPhoneNumber",j:[Wh(Mh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,io)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Po.prototype,{w:{name:"toJSON",j:[Mh(null,!0)]}}),qh(S.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),qh(Bo.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),qh(Qu.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),qh(Ku.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),qh(el.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Mh("displayName",!0)]},bd:{name:"unenroll",j:[Wh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Uh},Mh(),"multiFactorInfoIdentifier")]}}),qh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(vi,"parseLink",Si,[Mh("link")]),Hh(gh,"assertion",(function(t){return new Zu(t)}),[Vh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:oo,Error:S};Hh(t,"EmailAuthProvider",Eo,[]),Hh(t,"FacebookAuthProvider",bo,[]),Hh(t,"GithubAuthProvider",yo,[]),Hh(t,"GoogleAuthProvider",wo,[]),Hh(t,"TwitterAuthProvider",Co,[]),Hh(t,"OAuthProvider",mo,[Mh("providerId")]),Hh(t,"SAMLAuthProvider",go,[Mh("providerId")]),Hh(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Ql)}}]),Hh(t,"RecaptchaVerifier",Ph,[Wh(Mh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Nh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Hh(t,"ActionCodeURL",vi,[]),Hh(t,"PhoneMultiFactorGenerator",gh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.5"),r.a.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.n)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.o)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.o)(e,t)},createSubscribe:s.m,ErrorFactory:s.b,deepExtend:s.o}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.t)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.A)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.21",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBCufcIu7ybop41gYh0l2F-KOsOo3ngtKE",authDomain:"construct-tek.firebaseapp.com",projectId:"construct-tek",storageBucket:"construct-tek.appspot.com",messagingSenderId:"694084065236",appId:"1:694084065236:web:fcf2cebb08f06f68bde841",measurementId:"G-3VZBM1VMYC"};let o=null;function s(){return o}const a=new r.t("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.ac)(h)}const l=new r.t("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a))},t.\u0275prov=Object(r.Nb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.ac)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.ac)(a).location;return new _(Object(r.ac)(c),e&&e.origin||"")}const y=new r.t("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c),r.ac(y,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c),r.ac(y,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b),r.ac(c))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Nb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.ac)(b),Object(r.ac)(c))}function x(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),E=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){const n=Object(r.qb)(t),i=n[r.hb.NumberSymbols][e];if(void 0===i){if(e===E.CurrencyDecimal)return n[r.hb.NumberSymbols][E.Decimal];if(e===E.CurrencyGroup)return n[r.hb.NumberSymbols][E.Group]}return i}const T=r.tb,P=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A=".",j="0";function M(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let N=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.y))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function D(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.cb)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new F(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.W),r.Rb(r.R),r.Rb(r.w))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new W,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.W),r.Rb(r.R))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class W{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Cb)(e)}'.`)}let B=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o),r.Rb(r.x),r.Rb(r.K))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),H=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(A))>-1&&(s=s.replace(A,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===j;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===j;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(P);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=M(e)),null!=n&&(h=M(n)),null!=r?d=M(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const g=u.exponent;let m=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(I(n,r)),m.length&&(a+=I(n,i)+m.join("")),g&&(a+=I(n,E.Exponential)+"+"+g)}else a=I(n,E.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(A)?i.split(A):[i.substring(0,i.lastIndexOf(j)+1),i.substring(i.lastIndexOf(j)+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===j?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.qb)(t)[r.hb.NumberFormats][e]}(e,k.Decimal),I(e,E.MinusSign)),e,E.Group,E.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Cb)(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.y))},t.\u0275pipe=r.Qb({name:"number",type:t,pure:!0}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[{provide:R,useClass:N}]}),t})();function K(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Nb)({token:t,providedIn:"root",factory:()=>new $(Object(r.ac)(a),window,Object(r.ac)(r.p))}),t})();class ${constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Y,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=J||(J=document.querySelector("base"),J)?J.getAttribute("href"):null;return null==e?null:(n=e,X||(X=document.createElement("a")),X.setAttribute("href",n),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname);var n}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return D(document.cookie,t)}}let X,J=null;const Z=new r.t("TRANSITION_ID"),tt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Z,a,r.u],multi:!0}];class et{static init(){Object(r.eb)(new et)}addToWindow(t){r.vb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.vb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.vb.getAllAngularRootElements=()=>t.getAllRootElements(),r.vb.frameworkStabilizers||(r.vb.frameworkStabilizers=[]),r.vb.frameworkStabilizers.push(t=>{const e=r.vb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nt=new r.t("EventManagerPlugins");let rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(nt),r.ac(r.E))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ot=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t extends ot{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(ct,t),n.push(i))}return n}function lt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ht=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.X.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.X.Native:case r.X.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.ac(rt),r.ac(st),r.ac(r.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=at[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=at[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.M.DashCase?t.style.setProperty(e,n,i&r.M.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.M.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(n)):this.eventManager.addEventListener(t,e,lt(n))}}class ft extends dt{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ct,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ct,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class pt extends dt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.X.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=ut(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gt=(()=>{class t extends it{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const mt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _t=(()=>{class t extends it{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(mt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vt.hasOwnProperty(e)&&(e=vt[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const wt=[{provide:r.H,useValue:"browser"},{provide:r.I,useValue:function(){Y.makeCurrent(),et.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.Bb)(document),document},deps:[]}],Ot=Object(r.Y)(r.db,"browser",wt),Ct=[[],{provide:r.gb,useValue:"root"},{provide:r.p,useFactory:function(){return new r.p},deps:[]},{provide:nt,useClass:gt,multi:!0,deps:[a,r.E,r.H]},{provide:nt,useClass:_t,multi:!0,deps:[a]},[],{provide:ht,useClass:ht,deps:[rt,st,r.c]},{provide:r.L,useExisting:ht},{provide:ot,useExisting:st},{provide:st,useClass:st,deps:[a]},{provide:r.S,useClass:r.S,deps:[r.E]},{provide:rt,useClass:rt,deps:[nt,r.E]},[]];let xt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Z,useExisting:r.c},tt]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.ac(t,12))},providers:Ct,imports:[z,r.f]}),t})();"undefined"!=typeof window&&window;var kt=n("spgP"),St=n("D0XW"),Et=n("HDdC"),It=n("Cfvw"),Tt=n("LRne"),Pt=n("bHdf");function At(){return Object(Pt.a)(1)}function jt(...t){return At()(Object(Tt.a)(...t))}var Mt=n("z+Ro");function Rt(...t){const e=t[t.length-1];return Object(Mt.a)(e)?(t.pop(),n=>jt(t,n,e)):e=>jt(t,e)}var Nt=n("7o/Q");function Dt(){return t=>t.lift(new Lt)}class Lt{call(t,e){return e.subscribe(new Vt(t))}}class Vt extends Nt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ft=n("lJxs");function Ut(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wt(t,e,n))}}class Wt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new qt(t,this.accumulator,this.seed,this.hasSeed))}}class qt extends Nt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Bt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ht(t,this.compare,this.keySelector))}}class Ht extends Nt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function zt(t,e){return function(n){return n.lift(new Kt(t,e))}}class Kt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gt(t,this.predicate,this.thisArg))}}class Gt extends Nt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var $t=n("pxpQ"),Qt=n("Jgta"),Yt=n("zIRd"),Xt=n("qOnz"),Jt=n("q/0M"),Zt=function(t,e){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function te(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ee,ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},re=re||{},ie=ne||self;function oe(){}function se(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ae(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ce="closure_uid_"+(1e9*Math.random()>>>0),ue=0;function le(t,e,n){return t.call.apply(t.bind,arguments)}function he(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function de(t,e,n){return(de=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:he).apply(null,arguments)}function fe(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function pe(){return Date.now()}function ge(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function me(){this.j=this.j,this.i=this.i}me.prototype.j=!1,me.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ce)&&t[ce]||(t[ce]=++ue)}(this)},me.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var be=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ve=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ye(t){return Array.prototype.concat.apply([],arguments)}function _e(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function we(t){return/^[\s\xa0]*$/.test(t)}var Oe,Ce=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xe(t,e){return-1!=t.indexOf(e)}function ke(t,e){return t<e?-1:t>e?1:0}t:{var Se=ie.navigator;if(Se){var Ee=Se.userAgent;if(Ee){Oe=Ee;break t}}Oe=""}function Ie(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Te(t){var e={};for(var n in t)e[n]=t[n];return e}var Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Pe.length;o++)n=Pe[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function je(t){return je[" "](t),t}je[" "]=oe;var Me,Re,Ne=xe(Oe,"Opera"),De=xe(Oe,"Trident")||xe(Oe,"MSIE"),Le=xe(Oe,"Edge"),Ve=Le||De,Fe=xe(Oe,"Gecko")&&!(xe(Oe.toLowerCase(),"webkit")&&!xe(Oe,"Edge"))&&!(xe(Oe,"Trident")||xe(Oe,"MSIE"))&&!xe(Oe,"Edge"),Ue=xe(Oe.toLowerCase(),"webkit")&&!xe(Oe,"Edge");function We(){var t=ie.document;return t?t.documentMode:void 0}t:{var qe="",Be=(Re=Oe,Fe?/rv:([^\);]+)(\)|;)/.exec(Re):Le?/Edge\/([\d\.]+)/.exec(Re):De?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Re):Ue?/WebKit\/(\S+)/.exec(Re):Ne?/(?:Version)[ \/]?(\S+)/.exec(Re):void 0);if(Be&&(qe=Be?Be[1]:""),De){var He=We();if(null!=He&&He>parseFloat(qe)){Me=String(He);break t}}Me=qe}var ze={};function Ke(t){return function(t,e){var n=ze;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Ce(String(Me)).split("."),r=Ce(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ke(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ke(0==s[2].length,0==a[2].length)||ke(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Ge=ie.document&&De&&(We()||parseInt(Me,10))||void 0,$e=!De||9<=Number(Ge),Qe=De&&!Ke("9"),Ye=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",oe,e),ie.removeEventListener("test",oe,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Fe){t:{try{je(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Xe.prototype.b=function(){this.defaultPrevented=!0},ge(Je,Xe);var Ze={2:"touch",3:"pen",4:"mouse"};Je.prototype.b=function(){Je.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++en,this.Y=this.Z=!1}function rn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function on(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=be(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=an(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new nn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),un={};function ln(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=vn(r),e&&e[tn]?e.wa(n,r,ae(i)?!!i.capture:!!i,o):hn(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);return null}return n=vn(n),t&&t[tn]?t.va(e,n,ae(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ae(i)?!!i.capture:!!i;if(s&&!$e)return null;var a=mn(t);if(a||(t[cn]=a=new on(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=gn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function dn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[tn])sn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):rn(t)}}}function fn(t){return t in un?un[t]:un[t]="on"+t}function pn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&dn(t),n.call(r,e)}function gn(t,e){if(t.Y)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=ie,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return pn(t,e=new Je(e,this))}return pn(t,new Je(e,this))}function mn(t){return(t=t[cn])instanceof on?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return"function"==typeof t?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function yn(){me.call(this),this.c=new on(this),this.J=this,this.C=null}function _n(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Xe(e,t);else if(e instanceof Xe)e.target=e.target||t;else{var i=e;Ae(e=new Xe(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=wn(s,r,!0,e)&&i}if(i=wn(s=e.a=t,r,!0,e)&&i,i=wn(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=wn(s=e.a=n[o],r,!1,e)&&i}function wn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&sn(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ge(yn,me),yn.prototype[tn]=!0,(ee=yn.prototype).addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},ee.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=ae(i)?!!i.capture:!!i,r=vn(r),e&&e[tn]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=an(s=e.a[n],r,i,o))&&(rn(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=mn(e))&&(n=e.a[n.toString()],e=-1,n&&(e=an(n,r,i,o)),(r=-1<e?n[e]:null)&&dn(r))}(this,t,e,n,r)},ee.G=function(){if(yn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)rn(n[r]);delete e.a[t],e.b--}}this.C=null},ee.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ee.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var On=ie.JSON.stringify;function Cn(){this.b=this.a=null}var xn,kn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new En}),(function(t){t.reset()}));function Sn(){var t=An,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function En(){this.next=this.b=this.a=null}function In(t){ie.setTimeout((function(){throw t}),0)}function Tn(t,e){xn||function(){var t=ie.Promise.resolve(void 0);xn=function(){t.then(jn)}}(),Pn||(xn(),Pn=!0),An.add(t,e)}Cn.prototype.add=function(t,e){var n=kn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},En.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},En.prototype.reset=function(){this.next=this.b=this.a=null};var Pn=!1,An=new Cn;function jn(){for(var t;t=Sn();){try{t.a.call(t.b)}catch(n){In(n)}var e=kn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Pn=!1}function Mn(t,e){yn.call(this),this.b=t||1,this.a=e||ie,this.f=de(this.Za,this),this.g=pe()}function Rn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Nn(t,e,n){if("function"==typeof t)n&&(t=de(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=de(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function Dn(t){t.a=Nn((function(){t.a=null,t.c&&(t.c=!1,Dn(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ge(Mn,yn),(ee=Mn.prototype).aa=!1,ee.M=null,ee.Za=function(){if(this.aa){var t=pe()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_n(this,"tick"),this.aa&&(Rn(this),this.start()))}},ee.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=pe())},ee.G=function(){Mn.X.G.call(this),Rn(this),delete this.a};var Ln=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Dn(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ie.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(me);function Vn(t){me.call(this),this.b=t,this.a={}}ge(Vn,me);var Fn=[];function Un(t,e,n,r){Array.isArray(n)||(n&&(Fn[0]=n.toString()),n=Fn);for(var i=0;i<n.length;i++){var o=ln(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wn(t){Ie(t.a,(function(t,e){this.a.hasOwnProperty(e)&&dn(t)}),t),t.a={}}function qn(){this.a=!0}function Bn(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return On(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Vn.prototype.G=function(){Vn.X.G.call(this),Wn(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qn.prototype.info=function(){};var Hn={},zn=null;function Kn(){return zn=zn||new yn}function Gn(t){Xe.call(this,Hn.Fa,t)}function $n(t){var e=Kn();_n(e,new Gn(e,t))}function Qn(t,e){Xe.call(this,Hn.STAT_EVENT,t),this.stat=e}function Yn(t){var e=Kn();_n(e,new Qn(e,t))}function Xn(t){Xe.call(this,Hn.Ga,t)}function Jn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout((function(){t()}),e)}Hn.Fa="serverreachability",ge(Gn,Xe),Hn.STAT_EVENT="statevent",ge(Qn,Xe),Hn.Ga="timingevent",ge(Xn,Xe);var Zn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},tr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function er(){}function nr(){}er.prototype.a=null;var rr,ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function or(){Xe.call(this,"d")}function sr(){Xe.call(this,"c")}function ar(){}function cr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Vn(this),this.P=ur,this.R=new Mn(t=Ve?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ge(or,Xe),ge(sr,Xe),ge(ar,er),rr=new ar;var ur=45e3,lr={},hr={};function dr(t,e,n){t.H=1,t.i=Rr(Ir(e)),t.j=n,t.I=!0,fr(t,null)}function fr(t,e){t.u=pe(),mr(t),t.l=Ir(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Gr(n.b,"t",r),t.D=0,t.a=Wi(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ln(de(t.Ca,t,t.a),t.O)),Un(t.J,t.a,"readystatechange",t.Xa),e=t.B?Te(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$n(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function pr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=gr(t,n);if(i==hr){4==e&&(t.h=4,Yn(14),r=!1),Bn(t.c,t.f,null,"[Incomplete Response]");break}if(i==lr){t.h=4,Yn(15),Bn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Bn(t.c,t.f,i,null),wr(t,i)}4==e&&0==n.length&&(t.h=1,Yn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mi(e),e.F=!0,Yn(11))):(Bn(t.c,t.f,n,"[Invalid Chunked Response]"),_r(t),yr(t))}function gr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?hr:(n=Number(e.substring(n,r)),isNaN(n)?lr:(r+=1)+n>e.length?hr:(e=e.substr(r,n),t.D=r+n,e))}function mr(t){t.T=pe()+t.P,br(t,t.P)}function br(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Jn(de(t.Va,t),e)}function vr(t){t.o&&(ie.clearTimeout(t.o),t.o=null)}function yr(t){0==t.g.v||t.A||Di(t.g,t)}function _r(t){vr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Rn(t.R),Wn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function wr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ti(n.b,t)))if(n.I=t.N,!t.C&&ti(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ep){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ni(n),xi(n)}ji(n),Yn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Jn(de(n.Sa,n),6e3));if(1>=Zr(n.b)&&n.ea){try{n.ea()}catch(Ep){}n.ea=void 0}}else Vi(n,11)}else if((t.C||n.a==t)&&Ni(n),!we(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(xe(l,"spdy")||xe(l,"quic")||xe(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ei(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Mr(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=pe()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ui(c,c.C?c.ga:null,c.fa),f.C){ni(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(vr(p),mr(p)),c.a=f}else Ai(c);0<n.g.length&&Ei(n)}else"stop"!=i[0]&&"close"!=i[0]||Vi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Vi(n,7):Ci(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$n(4)}catch(Ep){}}function Or(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(se(t)||"string"==typeof t)ve(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(se(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(se(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Cr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ee=cr.prototype).setTimeout=function(t){this.P=t},ee.Xa=function(t){t=t.target;var e=this.F;e&&3==yi(t)?e.f():this.Ca(t)},ee.Ca=function(t){try{if(t==this.a)t:{var e=yi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ve&&!this.a.$())){this.A||4!=e||7==n||$n(8==n||0>=r?3:2),vr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!we(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,Yn(12),_r(this),yr(this);break t}Bn(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wr(this,c)}this.I?(pr(this,e,o),Ve&&this.b&&3==e&&(Un(this.J,this.R,"tick",this.Wa),this.R.start())):(Bn(this.c,this.f,o,null),wr(this,o)),4==e&&_r(this),this.b&&!this.A&&(4==e?Di(this.g,this):(this.b=!1,mr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Yn(12)):(this.h=0,Yn(13)),_r(this),yr(this)}}}catch(u){}},ee.Wa=function(){if(this.a){var t=yi(this.a),e=this.a.$();this.D<e.length&&(vr(this),pr(this,t,e),this.b&&4!=t&&mr(this))}},ee.cancel=function(){this.A=!0,_r(this)},ee.Va=function(){this.o=null;var t=pe();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&($n(3),Yn(17)),_r(this),this.h=2,yr(this)):br(this,this.T-t)},(ee=Cr.prototype).K=function(){xr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ee.L=function(){return xr(this),this.a.concat()},ee.get=function(t,e){return kr(this.b,t)?this.b[t]:e},ee.set=function(t,e){kr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ee.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Er(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Er){this.a=void 0!==e?e:t.a,Tr(this,t.f),this.j=t.j,Pr(this,t.c),Ar(this,t.h),this.g=t.g,e=t.b;var n=new Br;n.c=e.c,e.a&&(n.a=new Cr(e.a),n.b=e.b),jr(this,n),this.i=t.i}else t&&(n=String(t).match(Sr))?(this.a=!!e,Tr(this,n[1]||"",!0),this.j=Nr(n[2]||""),Pr(this,n[3]||"",!0),Ar(this,n[4]),this.g=Nr(n[5]||"",!0),jr(this,n[6]||"",!0),this.i=Nr(n[7]||"")):(this.a=!!e,this.b=new Br(null,this.a))}function Ir(t){return new Er(t)}function Tr(t,e,n){t.f=n?Nr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pr(t,e,n){t.c=n?Nr(e,!0):e}function Ar(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function jr(t,e,n){e instanceof Br?(t.b=e,function(t,e){e&&!t.f&&(Hr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zr(this,e),Gr(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Dr(e,Wr)),t.b=new Br(e,t.a))}function Mr(t,e,n){t.b.set(e,n)}function Rr(t){return Mr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^pe()).toString(36)),t}function Nr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Lr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Er.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Dr(e,Vr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Dr(e,Vr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dr(n,"/"==n.charAt(0)?Ur:Fr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Dr(n,qr)),t.join("")};var Vr=/[#\/\?@]/g,Fr=/[#\?:]/g,Ur=/[#\?]/g,Wr=/[#\?@]/g,qr=/#/g;function Br(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hr(t){t.a||(t.a=new Cr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zr(t,e){Hr(t),e=$r(t,e),kr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xr(t)))}function Kr(t,e){return Hr(t),e=$r(t,e),kr(t.a.b,e)}function Gr(t,e,n){zr(t,e),0<n.length&&(t.c=null,t.a.set($r(t,e),_e(n)),t.b+=n.length)}function $r(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ee=Br.prototype).add=function(t,e){Hr(this),this.c=null,t=$r(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ee.forEach=function(t,e){Hr(this),this.a.forEach((function(n,r){ve(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ee.L=function(){Hr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ee.K=function(t){Hr(this);var e=[];if("string"==typeof t)Kr(this,t)&&(e=ye(e,this.a.get($r(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ye(e,t[n])}return e},ee.set=function(t,e){return Hr(this),this.c=null,Kr(this,t=$r(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ee.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ee.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Qr=function(){return function(t,e){this.b=t,this.a=e}}();function Yr(t){this.g=t||Xr,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.ia&&ie.ia.ya&&ie.ia.ya()&&ie.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Xr=10;function Jr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zr(t){return t.b?1:t.a?t.a.size:0}function ti(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ei(t,e){t.a?t.a.add(e):t.b=e}function ni(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ri(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=te(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return _e(t.c)}function ii(){}function oi(){this.a=new ii}function si(t,e,n){var r=n||"";try{Or(t,(function(t,n){var i=t;ae(t)&&(i=On(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(lg){throw e.push(r+"type="+encodeURIComponent("_badmap")),lg}}function ai(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Yr.prototype.cancel=function(){var t,e;if(this.c=ri(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=te(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ii.prototype.stringify=function(t){return ie.JSON.stringify(t,void 0)},ii.prototype.parse=function(t){return ie.JSON.parse(t,void 0)};var ci=ie.JSON.parse;function ui(t){yn.call(this),this.headers=new Cr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=li,this.D=this.F=!1}ge(ui,yn);var li="",hi=/^https?$/i,di=["POST","PUT"];function fi(t){return"content-type"==t.toLowerCase()}function pi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gi(t),bi(t)}function gi(t){t.u||(t.u=!0,_n(t,"complete"),_n(t,"error"))}function mi(t){if(t.b&&void 0!==re&&(!t.s[1]||4!=yi(t)||2!=t.W()))if(t.l&&4==yi(t))Nn(t.za,0,t);else if(_n(t,"readystatechange"),4==yi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Sr)[1]||null;if(!o&&ie.self&&ie.self.location){var s=ie.self.location.protocol;o=s.substr(0,s.length-1)}i=!hi.test(o?o.toLowerCase():"")}e=i}if(e)_n(t,"complete"),_n(t,"success");else{t.h=6;try{var a=2<yi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",gi(t)}}finally{bi(t)}}}function bi(t,e){if(t.a){vi(t);var n=t.a,r=t.s[0]?oe:null;t.a=null,t.s=null,e||_n(t,"ready");try{n.onreadystatechange=r}catch(lg){}}}function vi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ie.clearTimeout(t.m),t.m=null)}function yi(t){return t.a?t.a.readyState:0}function _i(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ie(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mr(t,e,n))}function wi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Oi(t){this.pa=0,this.g=[],this.c=new qn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wi("baseRetryDelayMs",5e3,t),this.Ra=wi("retryDelaySeedMs",1e4,t),this.Ma=wi("forwardChannelMaxRetries",2,t),this.ma=wi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Yr(t&&t.concurrentRequestLimit),this.ka=new oi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ci(t){if(ki(t),3==t.v){var e=t.R++,n=Ir(t.B);Mr(n,"SID",t.J),Mr(n,"RID",e),Mr(n,"TYPE","terminate"),Ti(t,n),(e=new cr(t,t.c,e,void 0)).H=2,e.i=Rr(Ir(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.i.toString(),"")),!n&&ie.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wi(e.g,null),e.a.ba(e.i)),e.u=pe(),mr(e)}Fi(t)}function xi(t){t.a&&(Mi(t),t.a.cancel(),t.a=null)}function ki(t){xi(t),t.j&&(ie.clearTimeout(t.j),t.j=null),Ni(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ie.clearTimeout(t.h),t.h=null)}function Si(t,e){t.g.push(new Qr(t.Oa++,e)),3==t.v&&Ei(t)}function Ei(t){Jr(t.b)||t.h||(t.h=!0,Tn(t.Ba,t),t.u=0)}function Ii(t,e){var n;n=e?e.f:t.R++;var r=Ir(t.B);Mr(r,"SID",t.J),Mr(r,"RID",n),Mr(r,"AID",t.P),Ti(t,r),t.i&&t.l&&_i(r,t.i,t.l),n=new cr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ei(t.b,n),dr(n,r,e)}function Ti(t,e){t.f&&Or({},(function(t,n){Mr(e,n,t)}))}function Pi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?de(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{si(l,s,"req"+u+"_")}catch(yo){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ai(t){t.a||t.j||(t.T=1,Tn(t.Aa,t),t.o=0)}function ji(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Jn(de(t.Aa,t),Li(t,t.o)),t.o++,0))}function Mi(t){null!=t.s&&(ie.clearTimeout(t.s),t.s=null)}function Ri(t){t.a=new cr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ir(t.la);Mr(e,"RID","rpc"),Mr(e,"SID",t.J),Mr(e,"CI",t.H?"0":"1"),Mr(e,"AID",t.P),Ti(t,e),Mr(e,"TYPE","xmlhttp"),t.i&&t.l&&_i(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Rr(Ir(e)),n.j=null,n.I=!0,fr(n,t)}function Ni(t){null!=t.m&&(ie.clearTimeout(t.m),t.m=null)}function Di(t,e){var n=null;if(t.a==e){Ni(t),Mi(t),t.a=null;var r=2}else{if(!ti(t.b,e))return;n=e.s,ni(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=pe()-e.u;var i=t.u;_n(r=Kn(),new Xn(r,n,e,i)),Ei(t)}else Ai(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Jn(de(t.Ba,t,e),Li(t,t.u)),t.u++,0)))}(t,e)||2==r&&ji(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Vi(t,5);break;case 4:Vi(t,10);break;case 3:Vi(t,6);break;default:Vi(t,2)}}function Li(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Vi(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=de(t.Ya,t);n||(n=new Er("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Tr(n,"https"),Rr(n)),function(t,e){var n=new qn;if(ie.Image){var r=new Image;r.onload=fe(ai,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fe(ai,n,r,"TestLoadImage: error",!1,e),r.onabort=fe(ai,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fe(ai,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yn(2);t.v=0,t.f&&t.f.ra(e),Fi(t),ki(t)}function Fi(t){t.v=0,t.I=-1,t.f&&(0==ri(t.b).length&&0==t.g.length||(t.b.c.length=0,_e(t.g),t.g.length=0),t.f.qa())}function Ui(t,e,n){var r=function(t){return t instanceof Er?Ir(t):new Er(t,void 0)}(n);if(""!=r.c)e&&Pr(r,e+"."+r.c),Ar(r,r.h);else{var i=ie.location;r=function(t,e,n,r){var i=new Er(null,void 0);return t&&Tr(i,t),e&&Pr(i,e),n&&Ar(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ie(t.V,(function(t,e){Mr(r,e,t)})),n=t.na,(e=t.A)&&n&&Mr(r,e,n),Mr(r,"VER",t.ha),Ti(t,r),r}function Wi(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(t.Na)).F=t.C,e}function qi(){}function Bi(){if(De&&!(10<=Number(Ge)))throw Error("Environmental error: no available transport.")}function Hi(t,e){yn.call(this),this.a=new Oi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!we(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!we(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Gi(this)}function zi(t){or.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ki(){sr.call(this),this.status=1}function Gi(t){this.a=t}(ee=ui.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:rr),this.a.onreadystatechange=de(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void pi(this,o)}t=n||"";var i=new Cr(this.headers);r&&Or(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=fi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ie.FormData&&t instanceof ie.FormData,!(0<=be(di,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vi(this),0<this.o&&((this.D=function(t){return De&&Ke(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=de(this.xa,this)):this.m=Nn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){pi(this,o)}},ee.xa=function(){void 0!==re&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,_n(this,"timeout"),this.abort(8))},ee.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,_n(this,"complete"),_n(this,"abort"),bi(this))},ee.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bi(this,!0)),ui.X.G.call(this)},ee.za=function(){this.j||(this.A||this.l||this.g?mi(this):this.Ua())},ee.Ua=function(){mi(this)},ee.W=function(){try{return 2<yi(this)?this.a.status:-1}catch(Re){return-1}},ee.$=function(){try{return this.a?this.a.responseText:""}catch(Re){return""}},ee.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ci(e)}},ee.ua=function(){return this.h},ee.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ee=Oi.prototype).ha=8,ee.v=1,ee.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new cr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ae(r=Te(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pi(this,n,e),Mr(i=Ir(this.B),"RID",t),Mr(i,"CVER",22),this.A&&Mr(i,"X-HTTP-Session-Id",this.A),Ti(this,i),this.i&&r&&_i(i,this.i,r),ei(this.b,n),this.Ia&&Mr(i,"TYPE","init"),this.da?(Mr(i,"$req",e),Mr(i,"SID","null"),n.U=!0,dr(n,i,null)):dr(n,i,e),this.v=2}}else 3==this.v&&(t?Ii(this,t):0==this.g.length||Jr(this.b)||Ii(this))},ee.Aa=function(){if(this.j=null,Ri(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Jn(de(this.Ta,this),t)}},ee.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Yn(10),xi(this),Ri(this))},ee.Sa=function(){null!=this.m&&(this.m=null,xi(this),ji(this),Yn(19))},ee.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Yn(2)):(this.c.info("Failed to ping google.com"),Yn(1))},(ee=qi.prototype).ta=function(){},ee.sa=function(){},ee.ra=function(){},ee.qa=function(){},ee.Ja=function(){},Bi.prototype.a=function(t,e){return new Hi(t,e)},ge(Hi,yn),Hi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Yn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ui(t,null,t.fa),Ei(t)},Hi.prototype.close=function(){Ci(this.a)},Hi.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Si(this.a,e)}else this.l?((e={}).__data__=On(t),Si(this.a,e)):Si(this.a,t)},Hi.prototype.G=function(){this.a.f=null,delete this.f,Ci(this.a),delete this.a,Hi.X.G.call(this)},ge(zi,or),ge(Ki,sr),ge(Gi,qi),Gi.prototype.ta=function(){_n(this.a,"a")},Gi.prototype.sa=function(t){_n(this.a,new zi(t))},Gi.prototype.ra=function(t){_n(this.a,new Ki(t))},Gi.prototype.qa=function(){_n(this.a,"b")},Bi.prototype.createWebChannel=Bi.prototype.a,Hi.prototype.send=Hi.prototype.h,Hi.prototype.open=Hi.prototype.g,Hi.prototype.close=Hi.prototype.close,Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,tr.COMPLETE="complete",nr.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",yn.prototype.listen=yn.prototype.va,ui.prototype.listenOnce=ui.prototype.wa,ui.prototype.getLastError=ui.prototype.Qa,ui.prototype.getLastErrorCode=ui.prototype.ua,ui.prototype.getStatus=ui.prototype.W,ui.prototype.getResponseJson=ui.prototype.Pa,ui.prototype.getResponseText=ui.prototype.$,ui.prototype.send=ui.prototype.ba;var $i=Zn,Qi=tr,Yi=Hn,Xi=nr,Ji=ui,Zi=n("mrSG"),to=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();to.o=-1;var eo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},no=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Zi.c)(e,t),e}(Error),ro=new Jt.b("@firebase/firestore");function io(){return ro.logLevel}function oo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ro.logLevel<=Jt.a.DEBUG){var r=e.map(co);ro.debug.apply(ro,Object(Zi.f)(["Firestore (8.5.0): "+t],r))}}function so(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ro.logLevel<=Jt.a.ERROR){var r=e.map(co);ro.error.apply(ro,Object(Zi.f)(["Firestore (8.5.0): "+t],r))}}function ao(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ro.logLevel<=Jt.a.WARN){var r=e.map(co);ro.warn.apply(ro,Object(Zi.f)(["Firestore (8.5.0): "+t],r))}}function co(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(lg){return t}}function uo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw so(e),new Error(e)}function lo(t,e){t||uo()}function ho(t,e){return t}function fo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var po=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=fo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function go(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function bo(t){return t+"\0"}var vo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new no(eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new no(eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new no(eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new no(eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?go(this.nanoseconds,t.nanoseconds):go(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),yo=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new vo(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function _o(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Oo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Co=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&uo(),void 0===n?n=t.length-e:n>t.length-e&&uo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new no(eo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Co),ko=/^[_a-zA-Z][_a-zA-Z0-9]*$/,So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ko.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new no(eo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new no(eo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new no(eo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new no(eo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Co),Eo=function(){function t(t){this.fields=t,t.sort(So.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return mo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Io=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return go(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Io.EMPTY_BYTE_STRING=new Io("");var To=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(lo(!!t),"string"==typeof t){var e=0,n=To.exec(t);if(lo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ao(t.seconds),nanos:Ao(t.nanos)}}function Ao(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function jo(t){return"string"==typeof t?Io.fromBase64String(t):Io.fromUint8Array(t)}function Mo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ro(t){var e=Po(t.mapValue.fields.__local_write_time__.timestampValue);return new vo(e.seconds,e.nanos)}function No(t){return null==t}function Do(t){return 0===t&&1/t==-1/0}function Lo(t){return"number"==typeof t&&Number.isInteger(t)&&!Do(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Vo=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(xo.fromString(e))},t.fromName=function(e){return new t(xo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===xo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return xo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new xo(e.slice()))},t}();function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mo(t)?4:10:uo()}function Uo(t,e){var n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ro(t).isEqual(Ro(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Po(t.timestampValue),r=Po(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return jo(t.bytesValue).isEqual(jo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ao(t.geoPointValue.latitude)===Ao(e.geoPointValue.latitude)&&Ao(t.geoPointValue.longitude)===Ao(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ao(t.integerValue)===Ao(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ao(t.doubleValue),r=Ao(e.doubleValue);return n===r?Do(n)===Do(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_o(n)!==_o(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uo(n[i],r[i])))return!1;return!0}(t,e);default:return uo()}}function Wo(t,e){return void 0!==(t.values||[]).find((function(t){return Uo(t,e)}))}function qo(t,e){var n=Fo(t),r=Fo(e);if(n!==r)return go(n,r);switch(n){case 0:return 0;case 1:return go(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ao(t.integerValue||t.doubleValue),r=Ao(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Bo(t.timestampValue,e.timestampValue);case 4:return Bo(Ro(t),Ro(e));case 5:return go(t.stringValue,e.stringValue);case 6:return function(t,e){var n=jo(t),r=jo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=go(n[i],r[i]);if(0!==o)return o}return go(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=go(Ao(t.latitude),Ao(e.latitude));return 0!==n?n:go(Ao(t.longitude),Ao(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=qo(n[i],r[i]);if(o)return o}return go(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=go(r[s],o[s]);if(0!==a)return a;var c=qo(n[r[s]],i[o[s]]);if(0!==c)return c}return go(r.length,o.length)}(t.mapValue,e.mapValue);default:throw uo()}}function Bo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return go(t,e);var n=Po(t),r=Po(e),i=go(n.seconds,r.seconds);return 0!==i?i:go(n.nanos,r.nanos)}function Ho(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Po(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jo(e.bytesValue).toBase64():"referenceValue"in e?Vo.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):uo();var n}(t)}function zo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ko(t){return!!t&&"integerValue"in t}function Go(t){return!!t&&"arrayValue"in t}function $o(t){return!!t&&"nullValue"in t}function Qo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yo(t){return!!t&&"mapValue"in t}var Xo=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(So.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Uo(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Fo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=Yo(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(So.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Yo(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Jo(t){var e=[];return wo(t.fields||{},(function(t,n){var r=new So([t]);if(Yo(n)){var i=Jo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Eo(e)}var Zo=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,yo.min(),Xo.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Xo.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Xo.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ts=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function es(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ts(t,e,n,r,i,o,s)}function ns(t){var e=ho(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ho(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),No(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=gs(e.startAt)),e.endAt&&(n+="|ub:",n+=gs(e.endAt)),e.h=n}return e.h}function rs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!bs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Uo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ys(t.startAt,e.startAt)&&ys(t.endAt,e.endAt)}function is(t){return Vo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var os=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Zi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ss(t,n,r):"array-contains"===n?new ls(t,r):"in"===n?new hs(t,r):"not-in"===n?new ds(t,r):"array-contains-any"===n?new fs(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new as(t,n):new cs(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(qo(e,this.value)):null!==e&&Fo(this.value)===Fo(e)&&this.m(qo(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return uo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ss=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Vo.fromName(r.referenceValue),i}return Object(Zi.c)(e,t),e.prototype.matches=function(t){var e=Vo.comparator(t.key,this.key);return this.m(e)},e}(os),as=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=us(0,n),r}return Object(Zi.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(os),cs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=us(0,n),r}return Object(Zi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(os);function us(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Vo.fromName(t.referenceValue)}))}var ls=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Zi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Go(e)&&Wo(e.arrayValue,this.value)},e}(os),hs=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Zi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Wo(this.value.arrayValue,e)},e}(os),ds=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Zi.c)(e,t),e.prototype.matches=function(t){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Wo(this.value.arrayValue,e)},e}(os),fs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Zi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Go(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Wo(e.value.arrayValue,t)}))},e}(os),ps=function(t,e){this.position=t,this.before=e};function gs(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ho(t)})).join(",")}var ms=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function bs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Vo.comparator(Vo.fromName(s.referenceValue),n.key):qo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ys(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Uo(t.position[n],e.position[n]))return!1;return!0}var _s=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ws(t,e,n,r,i,o,s,a){return new _s(t,e,n,r,i,o,s,a)}function Os(t){return new _s(t)}function Cs(t){return!No(t.limit)&&"F"===t.limitType}function xs(t){return!No(t.limit)&&"L"===t.limitType}function ks(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ss(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Es(t){return null!==t.collectionGroup}function Is(t){var e=ho(t);if(null===e.p){e.p=[];var n=Ss(e),r=ks(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ms(n)),e.p.push(new ms(So.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ms(So.keyField(),c))}}}return e.p}function Ts(t){var e=ho(t);if(!e.T)if("F"===e.limitType)e.T=es(e.path,e.collectionGroup,Is(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Is(e);r<i.length;r++){var o=i[r];n.push(new ms(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ps(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ps(e.startAt.position,!e.startAt.before):null;e.T=es(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ps(t,e,n){return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function As(t,e){return rs(Ts(t),Ts(e))&&t.limitType===e.limitType}function js(t){return ns(Ts(t))+"|lt:"+t.limitType}function Ms(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ho(e.value);var e})).join(", ")+"]"),No(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+gs(t.startAt)),t.endAt&&(e+=", endAt: "+gs(t.endAt)),"Target("+e+")"}(Ts(t))+"; limitType="+t.limitType+")"}function Rs(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Vo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!vs(t.startAt,Is(t),e)||t.endAt&&vs(t.endAt,Is(t),e))}(t,e)}function Ns(t){return function(e,n){for(var r=!1,i=0,o=Is(t);i<o.length;i++){var s=o[i],a=Ds(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ds(t,e,n){var r=t.field.isKeyField()?Vo.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?qo(r,i):uo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return uo()}}function Ls(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(e)?"-0":e}}function Vs(t){return{integerValue:""+t}}function Fs(t,e){return Lo(e)?Vs(e):Ls(t,e)}var Us=function(){this._=void 0};function Ws(t,e,n){return t instanceof Hs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zs?Ks(t,e):t instanceof Gs?$s(t,e):function(t,e){var n=Bs(t,e),r=Ys(n)+Ys(t.A);return Ko(n)&&Ko(t.A)?Vs(r):Ls(t.R,r)}(t,e)}function qs(t,e,n){return t instanceof zs?Ks(t,e):t instanceof Gs?$s(t,e):n}function Bs(t,e){return t instanceof Qs?Ko(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e}(Us),zs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zi.c)(e,t),e}(Us);function Ks(t,e){for(var n=Xs(e),r=function(t){n.some((function(e){return Uo(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Zi.c)(e,t),e}(Us);function $s(t,e){for(var n=Xs(e),r=function(t){n=n.filter((function(e){return!Uo(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Zi.c)(e,t),e}(Us);function Ys(t){return Ao(t.integerValue||t.doubleValue)}function Xs(t){return Go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Js=function(t,e){this.field=t,this.transform=e},Zs=function(t,e){this.version=t,this.transformResults=e},ta=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ea(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var na=function(){};function ra(t,e,n){t instanceof ca?function(t,e,n){var r=t.value.clone(),i=ha(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ua?function(t,e,n){if(ea(t.precondition,e)){var r=ha(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(la(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n){t instanceof ca?function(t,e,n){if(ea(t.precondition,e)){var r=t.value.clone(),i=da(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(aa(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ua?function(t,e,n){if(ea(t.precondition,e)){var r=da(t.fieldTransforms,n,e),i=e.data;i.setAll(la(t)),i.setAll(r),e.convertToFoundDocument(aa(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ea(t.precondition,e)&&e.convertToNoDocument(yo.min())}(t,e)}function oa(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Bs(o.transform,s||null);null!=a&&(null==n&&(n=Xo.empty()),n.set(o.field,a))}return n||null}function sa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&mo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof zs&&e instanceof zs||t instanceof Gs&&e instanceof Gs?mo(t.elements,e.elements,Uo):t instanceof Qs&&e instanceof Qs?Uo(t.A,e.A):t instanceof Hs&&e instanceof Hs}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function aa(t){return t.isFoundDocument()?t.version:yo.min()}var ca=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Zi.c)(e,t),e}(na),ua=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Zi.c)(e,t),e}(na);function la(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function ha(t,e,n){var r=new Map;lo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qs(s,a,n[i]))}return r}function da(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,Ws(a,c,e))}return r}var fa,pa,ga=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Zi.c)(e,t),e}(na),ma=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Zi.c)(e,t),e}(na),ba=function(t){this.count=t};function va(t){switch(t){case eo.OK:return uo();case eo.CANCELLED:case eo.UNKNOWN:case eo.DEADLINE_EXCEEDED:case eo.RESOURCE_EXHAUSTED:case eo.INTERNAL:case eo.UNAVAILABLE:case eo.UNAUTHENTICATED:return!1;case eo.INVALID_ARGUMENT:case eo.NOT_FOUND:case eo.ALREADY_EXISTS:case eo.PERMISSION_DENIED:case eo.FAILED_PRECONDITION:case eo.ABORTED:case eo.OUT_OF_RANGE:case eo.UNIMPLEMENTED:case eo.DATA_LOSS:return!0;default:return uo()}}function ya(t){if(void 0===t)return so("GRPC error has no .code"),eo.UNKNOWN;switch(t){case fa.OK:return eo.OK;case fa.CANCELLED:return eo.CANCELLED;case fa.UNKNOWN:return eo.UNKNOWN;case fa.DEADLINE_EXCEEDED:return eo.DEADLINE_EXCEEDED;case fa.RESOURCE_EXHAUSTED:return eo.RESOURCE_EXHAUSTED;case fa.INTERNAL:return eo.INTERNAL;case fa.UNAVAILABLE:return eo.UNAVAILABLE;case fa.UNAUTHENTICATED:return eo.UNAUTHENTICATED;case fa.INVALID_ARGUMENT:return eo.INVALID_ARGUMENT;case fa.NOT_FOUND:return eo.NOT_FOUND;case fa.ALREADY_EXISTS:return eo.ALREADY_EXISTS;case fa.PERMISSION_DENIED:return eo.PERMISSION_DENIED;case fa.FAILED_PRECONDITION:return eo.FAILED_PRECONDITION;case fa.ABORTED:return eo.ABORTED;case fa.OUT_OF_RANGE:return eo.OUT_OF_RANGE;case fa.UNIMPLEMENTED:return eo.UNIMPLEMENTED;case fa.DATA_LOSS:return eo.DATA_LOSS;default:return uo()}}(pa=fa||(fa={}))[pa.OK=0]="OK",pa[pa.CANCELLED=1]="CANCELLED",pa[pa.UNKNOWN=2]="UNKNOWN",pa[pa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pa[pa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pa[pa.NOT_FOUND=5]="NOT_FOUND",pa[pa.ALREADY_EXISTS=6]="ALREADY_EXISTS",pa[pa.PERMISSION_DENIED=7]="PERMISSION_DENIED",pa[pa.UNAUTHENTICATED=16]="UNAUTHENTICATED",pa[pa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pa[pa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pa[pa.ABORTED=10]="ABORTED",pa[pa.OUT_OF_RANGE=11]="OUT_OF_RANGE",pa[pa.UNIMPLEMENTED=12]="UNIMPLEMENTED",pa[pa.INTERNAL=13]="INTERNAL",pa[pa.UNAVAILABLE=14]="UNAVAILABLE",pa[pa.DATA_LOSS=15]="DATA_LOSS";var _a=function(){function t(t,e){this.comparator=t,this.root=e||Oa.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oa.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oa.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new wa(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new wa(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new wa(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new wa(this.root,t,this.comparator,!0)},t}(),wa=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Oa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw uo();if(this.right.isRed())throw uo();var t=this.left.check();if(t!==this.right.check())throw uo();return t+(this.isRed()?0:1)},t}();Oa.EMPTY=null,Oa.RED=!0,Oa.BLACK=!1,Oa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw uo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw uo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw uo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw uo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw uo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Oa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ca=function(){function t(t){this.comparator=t,this.data=new _a(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new xa(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new xa(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),xa=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ka=new _a(Vo.comparator);function Sa(){return ka}var Ea=new _a(Vo.comparator);function Ia(){return Ea}var Ta=new _a(Vo.comparator);function Pa(){return Ta}var Aa=new Ca(Vo.comparator);function ja(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Aa,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ma=new Ca(go);function Ra(){return Ma}var Na=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(yo.min(),r,Ra(),Sa(),ja())},t}(),Da=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Io.EMPTY_BYTE_STRING,n,ja(),ja(),ja())},t}(),La=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Va=function(t,e){this.targetId=t,this.V=e},Fa=function(t,e,n,r){void 0===n&&(n=Io.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ua=function(){function t(){this.S=0,this.D=Ba(),this.C=Io.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ja(),e=ja(),n=ja();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:uo()}})),new Da(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ba()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Wa=function(){function t(t){this.W=t,this.G=new Map,this.H=Sa(),this.J=qa(),this.Y=new Ca(go)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:uo()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(is(i))if(0===n){var o=new Vo(i.path);this.tt(e,o,Zo.newNoDocument(o,yo.min()))}else lo(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&is(o.target)){var s=new Vo(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Zo.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=ja();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Na(t,n,this.Y,this.H,r);return this.H=Sa(),this.J=qa(),this.Y=new Ca(go),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ua,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ca(go),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||oo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ua),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function qa(){return new _a(Vo.comparator)}function Ba(){return new _a(Vo.comparator)}var Ha={asc:"ASCENDING",desc:"DESCENDING"},za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ka=function(t,e){this.databaseId=t,this.I=e};function Ga(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $a(t,e){return t.I?e.toBase64():e.toUint8Array()}function Qa(t,e){return Ga(t,e.toTimestamp())}function Ya(t){return lo(!!t),yo.fromTimestamp(function(t){var e=Po(t);return new vo(e.seconds,e.nanos)}(t))}function Xa(t,e){return function(t){return new xo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ja(t){var e=xo.fromString(t);return lo(wc(e)),e}function Za(t,e){return Xa(t.databaseId,e.path)}function tc(t,e){var n=Ja(e);if(n.get(1)!==t.databaseId.projectId)throw new no(eo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new no(eo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Vo(ic(n))}function ec(t,e){return Xa(t.databaseId,e)}function nc(t){var e=Ja(t);return 4===e.length?xo.emptyPath():ic(e)}function rc(t){return new xo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ic(t){return lo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function oc(t,e,n){return{name:Za(t,e),fields:n.toProto().mapValue.fields}}function sc(t,e,n){var r=tc(t,e.name),i=Ya(e.updateTime),o=new Xo({mapValue:{fields:e.fields}}),s=Zo.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ac(t,e){var n;if(e instanceof ca)n={update:oc(t,e.key,e.value)};else if(e instanceof ga)n={delete:Za(t,e.key)};else if(e instanceof ua)n={update:oc(t,e.key,e.data),updateMask:_c(e.fieldMask)};else{if(!(e instanceof ma))return uo();n={verify:Za(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Hs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw uo()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:uo()}(t,e.precondition)),n}function cc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ta.updateTime(Ya(t.updateTime)):void 0!==t.exists?ta.exists(t.exists):ta.none()}(e.currentDocument):ta.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(lo("REQUEST_TIME"===e.setToServerValue),n=new Hs):"appendMissingElements"in e?n=new zs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Gs(e.removeAllFromArray.values||[]):"increment"in e?n=new Qs(t,e.increment):uo();var r=So.fromServerFormat(e.fieldPath);return new Js(r,n)}(t,e)})):[];if(e.update){var i=tc(t,e.update.name),o=new Xo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Eo((t.fieldPaths||[]).map((function(t){return So.fromServerFormat(t)})))}(e.updateMask);return new ua(i,o,s,n,r)}return new ca(i,o,n,r)}if(e.delete){var a=tc(t,e.delete);return new ga(a,n)}if(e.verify){var c=tc(t,e.verify);return new ma(c,n)}return uo()}function uc(t,e){return{documents:[ec(t,e.path)]}}function lc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ec(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ec(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Qo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NAN"}};if($o(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NAN"}};if($o(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(t.field),op:gc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:mc(t.field),direction:pc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||No(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=dc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=dc(e.endAt)),n}function hc(t){var e=nc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[yc(e)]:void 0!==e.fieldFilter?[vc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):uo():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ms(bc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return No(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=fc(n.startAt));var l=null;return n.endAt&&(l=fc(n.endAt)),ws(e,i,a,s,c,"F",u,l)}function dc(t){return{before:t.before,values:t.position}}function fc(t){return new ps(t.values||[],!!t.before)}function pc(t){return Ha[t]}function gc(t){return za[t]}function mc(t){return{fieldPath:t.canonicalString()}}function bc(t){return So.fromServerFormat(t.fieldPath)}function vc(t){return os.create(bc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return uo()}}(t.fieldFilter.op),t.fieldFilter.value)}function yc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bc(t.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bc(t.unaryFilter.field);return os.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bc(t.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bc(t.unaryFilter.field);return os.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return uo()}}function _c(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function wc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Oc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=xc(e)),e=Cc(t.get(n),e);return xc(e)}function Cc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function xc(t){return t+"\x01\x01"}function kc(t){var e=t.length;if(lo(e>=2),2===e)return lo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),xo.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&uo(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:uo()}o=s+2}return new xo(r)}var Sc=function(t,e){this.seconds=t,this.nanoseconds=e},Ec=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ec.store="owner",Ec.key="owner";var Ic=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ic.store="mutationQueues",Ic.keyPath="userId";var Tc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Tc.store="mutations",Tc.keyPath="batchId",Tc.userMutationsIndex="userMutationsIndex",Tc.userMutationsKeyPath=["userId","batchId"];var Pc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Oc(e)]},t.key=function(t,e,n){return[t,Oc(e),n]},t}();Pc.store="documentMutations",Pc.PLACEHOLDER=new Pc;var Ac=function(t,e){this.path=t,this.readTime=e},jc=function(t,e){this.path=t,this.version=e},Mc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Mc.store="remoteDocuments",Mc.readTimeIndex="readTimeIndex",Mc.readTimeIndexPath="readTime",Mc.collectionReadTimeIndex="collectionReadTimeIndex",Mc.collectionReadTimeIndexPath=["parentPath","readTime"];var Rc=function(t){this.byteSize=t};Rc.store="remoteDocumentGlobal",Rc.key="remoteDocumentGlobalKey";var Nc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Nc.store="targets",Nc.keyPath="targetId",Nc.queryTargetsIndexName="queryTargetsIndex",Nc.queryTargetsKeyPath=["canonicalId","targetId"];var Dc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Dc.store="targetDocuments",Dc.keyPath=["targetId","path"],Dc.documentTargetsIndex="documentTargetsIndex",Dc.documentTargetsKeyPath=["path","targetId"];var Lc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lc.key="targetGlobalKey",Lc.store="targetGlobal";var Vc=function(t,e){this.collectionId=t,this.parent=e};Vc.store="collectionParents",Vc.keyPath=["collectionId","parent"];var Fc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fc.store="clientMetadata",Fc.keyPath="clientId";var Uc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Uc.store="bundles",Uc.keyPath="bundleId";var Wc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Wc.store="namedQueries",Wc.keyPath="name";var qc=Object(Zi.f)(Object(Zi.f)([],Object(Zi.f)(Object(Zi.f)([],Object(Zi.f)(Object(Zi.f)([],Object(Zi.f)(Object(Zi.f)([],[Ic.store,Tc.store,Pc.store,Mc.store,Nc.store,Ec.store,Lc.store,Dc.store]),[Fc.store])),[Rc.store])),[Vc.store])),[Uc.store,Wc.store]),Bc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),zc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Kc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&uo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Gc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new zc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Yc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=eu(e.target.error);n.ft.reject(new Yc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Yc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(oo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Jc(e)},t}(),$c=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Xt.r)())&&so("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return oo("SimpleDb","Removing database:",t),Zc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Xt.r)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(oo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Yc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new no(eo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yc(t,n))},i.onupgradeneeded=function(t){oo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){oo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(Zi.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Gc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Kc.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return oo("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Qc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Zc(this.Pt.delete())},t}(),Yc=function(t){function e(e,n){var r=this;return(r=t.call(this,eo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Zi.c)(e,t),e}(no);function Xc(t){return"IndexedDbTransactionError"===t.name}var Jc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(oo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(oo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zc(n)},t.prototype.add=function(t){return oo("SimpleDb","ADD",this.store.name,t,t),Zc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),oo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return oo("SimpleDb","DELETE",this.store.name,t),Zc(this.store.delete(t))},t.prototype.count=function(){return oo("SimpleDb","COUNT",this.store.name),Zc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){oo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Kc((function(n,r){e.onerror=function(t){var e=eu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Kc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Kc){var a=s.catch((function(t){return o.done(),Kc.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Kc.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zc(t){return new Kc((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=eu(t.target.error);n(e)}}))}var tu=!1;function eu(t){var e=$c._t(Object(Xt.r)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new no("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tu||(tu=!0,setTimeout((function(){throw r}),0)),r}}return t}var nu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Zi.c)(e,t),e}(Hc);function ru(t,e){var n=ho(t);return $c.It(n.Mt,e)}var iu=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ra(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ia(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ia(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(yo.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ja())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(function(t,e){return sa(t,e)}))&&mo(this.baseMutations,t.baseMutations,(function(t,e){return sa(t,e)}))},t}(),ou=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){lo(e.mutations.length===r.length);for(var i=Pa(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),su=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=yo.min()),void 0===o&&(o=yo.min()),void 0===s&&(s=Io.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),au=function(t){this.Lt=t};function cu(t,e){if(e.document)return sc(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Vo.fromSegments(e.noDocument.path),r=fu(e.noDocument.readTime),i=Zo.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Vo.fromSegments(e.unknownDocument.path);return r=fu(e.unknownDocument.version),Zo.newUnknownDocument(o,r)}return uo()}function uu(t,e,n){var r=lu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Za(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Ga(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Mc(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=du(e.version);return s=e.hasCommittedMutations,new Mc(null,new Ac(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=du(e.version);return new Mc(new jc(u,l),null,null,!0,r,i)}return uo()}function lu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(t){var e=new vo(t[0],t[1]);return yo.fromTimestamp(e)}function du(t){var e=t.toTimestamp();return new Sc(e.seconds,e.nanoseconds)}function fu(t){var e=new vo(t.seconds,t.nanoseconds);return yo.fromTimestamp(e)}function pu(t,e){for(var n=(e.baseMutations||[]).map((function(e){return cc(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return cc(t.Lt,e)})),o=vo.fromMillis(e.localWriteTimeMs);return new iu(e.batchId,o,n,i)}function gu(t){var e,n,r=fu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fu(t.lastLimboFreeSnapshotVersion):yo.min();return void 0!==t.query.documents?(lo(1===(n=t.query).documents.length),e=Ts(Os(nc(n.documents[0])))):e=function(t){return Ts(hc(t))}(t.query),new su(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Io.fromBase64String(t.resumeToken))}function mu(t,e){var n,r=du(e.snapshotVersion),i=du(e.lastLimboFreeSnapshotVersion);n=is(e.target)?uc(t.Lt,e.target):lc(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Nc(e.targetId,ns(e.target),r,o,e.sequenceNumber,i,n)}function bu(t){var e=hc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ps(e,e.limit,"L"):e}var vu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:fu(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return yu(t).put({bundleId:(n=e).id,createTime:du(Ya(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return _u(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:bu(e.bundledQuery),readTime:fu(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return _u(t).put(function(t){return{name:t.name,readTime:du(Ya(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yu(t){return ru(t,Uc.store)}function _u(t){return ru(t,Wc.store)}var wu=function(){function t(){this.Bt=new Ou}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Kc.resolve()},t.prototype.getCollectionParents=function(t,e){return Kc.resolve(this.Bt.getEntries(e))},t}(),Ou=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ca(xo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ca(xo.comparator)).toArray()},t}(),Cu=function(){function t(){this.qt=new Ou}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Oc(i)};return xu(t).put(o)}return Kc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[bo(e),""],!1,!0);return xu(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(kc(o.parent))}return n}))},t}();function xu(t){return ru(t,Vc.store)}var ku={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Su=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Eu(t,e,n){var r=t.store(Tc.store),i=t.store(Pc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){lo(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Pc.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return Kc.waitFor(o).next((function(){return u}))}function Iu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw uo();e=t.noDocument}return JSON.stringify(e).length}Su.DEFAULT_COLLECTION_PERCENTILE=10,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Su.DEFAULT=new Su(41943040,Su.DEFAULT_COLLECTION_PERCENTILE,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Su.DISABLED=new Su(-1,0,0);var Tu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return lo(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Au(t).Ot({index:Tc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ju(t),s=Au(t);return s.add({}).next((function(a){lo("number"==typeof a);for(var c=new iu(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return ac(t.Lt,e)})),i=n.mutations.map((function(e){return ac(t.Lt,e)}));return new Tc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Ca((function(t,e){return go(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=Pc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(g,Pc.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=c.keys()})),Kc.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Au(t).get(e).next((function(t){return t?(lo(t.userId===n.userId),pu(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Kc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Au(t).Ot({index:Tc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(lo(e.batchId>=r),o=pu(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Au(t).Ot({index:Tc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Au(t).Nt(Tc.userMutationsIndex,n).next((function(t){return t.map((function(t){return pu(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ju(t).Ot({range:i},(function(r,i,s){var a=r[0],c=r[2],u=kc(r[1]);if(a===n.userId&&e.path.isEqual(u))return Au(t).get(c).next((function(t){if(!t)throw uo();lo(t.userId===n.userId),o.push(pu(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ca(go),i=[];return e.forEach((function(e){var o=Pc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ju(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[2],c=kc(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),Kc.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ca(go);return ju(t).Ot({range:s},(function(t,e,o){var s=t[0],c=t[2],u=kc(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Au(t).get(e).next((function(t){if(null===t)throw uo();lo(t.userId===n.userId),r.push(pu(n.R,t))})))})),Kc.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Eu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Kc.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Kc.resolve();var r=IDBKeyRange.lowerBound(Pc.prefixForUser(e.userId)),i=[];return ju(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=kc(t[1]);i.push(o)}else r.done()})).next((function(){lo(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Pu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Mu(t).get(this.userId).next((function(t){return t||new Ic(e.userId,-1,"")}))},t}();function Pu(t,e,n){var r=Pc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ju(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Au(t){return ru(t,Tc.store)}function ju(t){return ru(t,Pc.store)}function Mu(t){return ru(t,Ic.store)}var Ru=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Nu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Ru(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return yo.fromTimestamp(new vo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Du(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return lo(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Du(t).Ot((function(s,a){var c=gu(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return Kc.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Du(t).Ot((function(t,n){var r=gu(n);e(r)}))},t.prototype.Xt=function(t){return Lu(t).get(Lc.key).next((function(t){return lo(null!==t),t}))},t.prototype.Zt=function(t,e){return Lu(t).put(Lc.key,e)},t.prototype.te=function(t,e){return Du(t).put(mu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=ns(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Du(t).Ot({range:r,index:Nc.queryTargetsIndexName},(function(t,n,r){var o=gu(n);rs(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Vu(t);return e.forEach((function(e){var s=Oc(e.path);i.push(o.put(new Dc(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Kc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Vu(t);return Kc.forEach(e,(function(e){var o=Oc(e.path);return Kc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Vu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vu(t),i=ja();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=kc(t[1]),o=new Vo(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Oc(e.path),r=IDBKeyRange.bound([n],[bo(n)],!1,!0),i=0;return Vu(t).Ot({index:Dc.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Du(t).get(e).next((function(t){return t?gu(t):null}))},t}();function Du(t){return ru(t,Nc.store)}function Lu(t){return ru(t,Lc.store)}function Vu(t){return ru(t,Dc.store)}function Fu(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){if(t.code!==eo.FAILED_PRECONDITION||t.message!==Bc)throw t;return oo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Uu(t,e){var n=t[1],r=e[1],i=go(t[0],e[0]);return 0===i?go(n,r):i}var Wu=function(){function t(t){this.ne=t,this.buffer=new Ca(Uu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Uu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;oo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Zi.b)(e,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Xc(e=n.sent())?(oo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Bu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Kc.resolve(to.o);var r=new Wu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(oo("LruGarbageCollector","Garbage collection skipped; disabled"),Kc.resolve(ku)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(oo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ku):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(oo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),io()<=Jt.a.DEBUG&&oo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Kc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Hu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Bu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return zu(t,n)},t.prototype.removeReference=function(t,e,n){return zu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return zu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Mu(t).$t((function(r){return Pu(t,r,e).next((function(t){return t&&(n=!0),Kc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var c=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Vu(t).delete([0,Oc(s.path)])}))}));i.push(c)}})).next((function(){return Kc.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zu(t,e)},t.prototype.we=function(t,e){var n,r=Vu(t),i=to.o;return r.Ot({index:Dc.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==to.o&&e(new Vo(kc(n)),i),i=s,n=o):i=to.o})).next((function(){i!==to.o&&e(new Vo(kc(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zu(t,e){return Vu(t).put(function(t,e){return new Dc(0,Oc(t.path),e)}(e,t.currentSequenceNumber))}var Ku=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){wo(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Oo(this.inner)},t}(),Gu=function(){function t(){this.changes=new Ku((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:yo.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Zo.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Kc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),$u=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Xu(t).put(Ju(e),n)},t.prototype.removeEntry=function(t,e){var n=Xu(t),r=Ju(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Xu(t).get(Ju(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Xu(t).get(Ju(e)).next((function(t){return{document:n.ye(e,t),size:Iu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Sa();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Sa(),i=new _a(Vo.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Iu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Kc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Xu(t).Ot({range:r},(function(t,e,r){for(var s=Vo.fromSegments(t);o&&Vo.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Sa(),o=e.path.length+1,s={};if(n.isEqual(yo.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=lu(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Mc.collectionReadTimeIndex}return Xu(t).Ot(s,(function(t,n,s){if(t.length===o){var a=cu(r.R,n);e.path.isPrefixOf(a.key.path)?Rs(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Qu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Yu(t).get(Rc.key).next((function(t){return lo(!!t),t}))},t.prototype.me=function(t,e){return Yu(t).put(Rc.key,e)},t.prototype.ye=function(t,e){if(e){var n=cu(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(yo.min()))return n}return Zo.newInvalidDocument(t)},t}(),Qu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ku((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Zi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ca((function(t,e){return go(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=uu(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=Iu(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=uu(e.Ie.R,Zo.newNoDocument(o,yo.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Kc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Gu);function Yu(t){return ru(t,Rc.store)}function Xu(t){return ru(t,Mc.store)}function Ju(t){return t.path.toArray()}var Zu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;lo(n<r&&n>=0&&r<=11);var o=new Gc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ec.store)}(t),function(t){t.createObjectStore(Ic.store,{keyPath:Ic.keyPath}),t.createObjectStore(Tc.store,{keyPath:Tc.keyPath,autoIncrement:!0}).createIndex(Tc.userMutationsIndex,Tc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pc.store)}(t),tl(t),function(t){t.createObjectStore(Mc.store)}(t));var s=Kc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Dc.store),t.deleteObjectStore(Nc.store),t.deleteObjectStore(Lc.store)}(t),tl(t)),s=s.next((function(){return function(t){var e=t.store(Lc.store),n=new Lc(0,0,yo.min().toTimestamp(),0);return e.put(Lc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Tc.store).Nt().next((function(n){t.deleteObjectStore(Tc.store),t.createObjectStore(Tc.store,{keyPath:Tc.keyPath,autoIncrement:!0}).createIndex(Tc.userMutationsIndex,Tc.userMutationsKeyPath,{unique:!0});var r=e.store(Tc.store),i=n.map((function(t){return r.put(t)}));return Kc.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Rc.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Mc.store);e.createIndex(Mc.readTimeIndex,Mc.readTimeIndexPath,{unique:!1}),e.createIndex(Mc.collectionReadTimeIndex,Mc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Uc.store,{keyPath:Uc.keyPath})}(t),function(t){t.createObjectStore(Wc.store,{keyPath:Wc.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Mc.store).Ot((function(t,n){e+=Iu(n)})).next((function(){var n=new Rc(e);return t.store(Rc.store).put(Rc.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ic.store),r=t.store(Tc.store);return n.Nt().next((function(n){return Kc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Tc.userMutationsIndex,i).next((function(r){return Kc.forEach(r,(function(r){lo(r.userId===n.userId);var i=pu(e.R,r);return Eu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Dc.store),n=t.store(Mc.store);return t.store(Lc.store).get(Lc.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new xo(n),s=function(t){return[0,Oc(t)]}(o);r.push(e.get(s).next((function(n){return n?Kc.resolve():function(n){return e.put(new Dc(0,Oc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Kc.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Vc.store,{keyPath:Vc.keyPath});var n=e.store(Vc.store),r=new Ou,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Oc(i)})}};return e.store(Mc.store).Ot({kt:!0},(function(t,e){var n=new xo(t);return i(n.popLast())})).next((function(){return e.store(Pc.store).Ot({kt:!0},(function(t,e){var n=kc(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Nc.store);return n.Ot((function(t,r){var i=gu(r),o=mu(e.R,i);return n.put(o)}))},t}();function tl(t){t.createObjectStore(Dc.store,{keyPath:Dc.keyPath}).createIndex(Dc.documentTargetsIndex,Dc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nc.store,{keyPath:Nc.keyPath}).createIndex(Nc.queryTargetsIndexName,Nc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Lc.store)}var el="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nl=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new no(eo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hu(this,i),this.Le=n+"main",this.R=new au(c),this.Be=new $c(this.Le,11,new Zu(this.R)),this.qe=new Nu(this.referenceDelegate,this.R),this.Ut=new Cu,this.Ue=function(t,e){return new $u(t,e)}(this.R,this.Ut),this.Qe=new vu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&so("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new no(eo.FAILED_PRECONDITION,el);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new to(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Zi.b)(e,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(Zi.b)(e,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(Zi.b)(e,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return il(e).put(new Fc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Xc(e))return oo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return oo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return rl(t).get(Ec.key).next((function(t){return Kc.resolve(e.tn(t))}))},t.prototype.en=function(t){return il(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ru(t,Fc.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Kc.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Kc.resolve(!0):rl(t).get(Ec.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new no(eo.FAILED_PRECONDITION,el);return!1}}return!(!e.networkEnabled||!e.inForeground)||il(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&oo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t=this;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ec.store,Fc.store],(function(e){var n=new nu(e,to.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return il(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Tu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return oo("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",qc,(function(o){return r=new nu(o,i.Ne?i.Ne.next():to.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw so("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new no(eo.FAILED_PRECONDITION,Bc);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return rl(t).get(Ec.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new no(eo.FAILED_PRECONDITION,el)}))},t.prototype.Ze=function(t){var e=new Ec(this.clientId,this.allowTabSynchronization,Date.now());return rl(t).put(Ec.key,e)},t.yt=function(){return $c.yt()},t.prototype.Xe=function(t){var e=this,n=rl(t);return n.get(Ec.key).next((function(t){return e.tn(t)?(oo("IndexedDbPersistence","Releasing primary lease."),n.delete(Ec.key)):Kc.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(so("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return oo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return so("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){so("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function rl(t){return ru(t,Ec.store)}function il(t){return ru(t,Fc.store)}function ol(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var sl=function(t,e){this.progress=t,this.wn=e},al=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Vo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Es(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Vo(e)).next((function(t){var e=Ia();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ia();return this.Ut.getCollectionParents(t,i).next((function(s){return Kc.forEach(s,(function(s){var a=function(t,e){return new _s(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=Zo.newInvalidDocument(u),r=r.insert(u,l)),ia(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(t,n){Rs(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ja(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof ua&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))})),u}))},t}(),cl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ja(),i=ja(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ul=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(yo.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Cs(e)||xs(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(io()<=Jt.a.DEBUG&&oo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ms(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Ca(Ns(t));return e.forEach((function(e,r){Rs(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return io()<=Jt.a.DEBUG&&oo("QueryEngine","Using full collection scan to execute query:",Ms(e)),this.Sn.getDocumentsMatchingQuery(t,e,yo.min())},t}(),ll=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new _a(go),this.kn=new Ku((function(t){return ns(t)}),rs),this.On=yo.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new al(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function hl(t,e,n,r){return new ll(t,e,n,r)}function dl(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return n=ho(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new al(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=ja(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function fl(t,e){var n=ho(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Kc.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);lo(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function pl(t){var e=ho(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function gl(t,e){var n=ho(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return lo(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}}));var a=Sa();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ml(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(yo.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(c)}return Kc.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function ml(t,e,n,r,i){var o=ja();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Sa();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(yo.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):oo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function bl(t,e){var n=ho(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function vl(t,e){var n=ho(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Kc.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new su(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function yl(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:r=ho(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Xc(s=a.sent()))throw s;return oo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function _l(t,e,n){var r=ho(t),i=yo.min(),o=ja();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ho(t),i=r.kn.get(n);return void 0!==i?Kc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ts(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:yo.min(),n?o:ja())})).next((function(t){return{documents:t,Bn:o}}))}))}function wl(t,e){var n=ho(t),r=ho(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Ol(t){var e=ho(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ho(t),i=Sa(),o=lu(n),s=Xu(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Mc.readTimeIndex,range:a},(function(t,e){var n=cu(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:hu(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function Cl(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){return[2,(e=ho(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Xu(t),n=yo.min();return e.Ot({index:Mc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=hu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function xl(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,f;return Object(Zi.d)(this,(function(p){switch(p.label){case 0:for(i=ho(t),o=ja(),s=Sa(),a=Pa(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,vl(i,function(t){return Ts(Os(xo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ml(t,d,s,yo.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function kl(t,e,n){return void 0===n&&(n=ja()),Object(Zi.b)(this,void 0,void 0,(function(){var r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return[4,vl(t,Ts(bu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ho(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ya(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Io.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Sl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Kc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ya(n.createTime)}),Kc.resolve()},t.prototype.getNamedQuery=function(t,e){return Kc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:bu(t.bundledQuery),readTime:Ya(t.readTime)}}(e)),Kc.resolve()},t}(),El=function(){function t(){this.Wn=new Ca(Il.Gn),this.zn=new Ca(Il.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Il(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Il(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Vo(new xo([])),r=new Il(n,t),i=new Il(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Vo(new xo([])),n=new Il(e,t),r=new Il(e,t+1),i=ja();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Il(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Il=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Vo.comparator(t.key,e.key)||go(t.ns,e.ns)},t.Hn=function(t,e){return go(t.ns,e.ns)||Vo.comparator(t.key,e.key)},t}(),Tl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ca(Il.Gn)}return t.prototype.checkEmpty=function(t){return Kc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new iu(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new Il(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Kc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Kc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Kc.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Kc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Kc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Il(e,0),i=new Il(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Kc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ca(go);return e.forEach((function(t){var e=new Il(t,0),i=new Il(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Kc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Vo.isDocumentKey(i)||(i=i.child(""));var o=new Il(new Vo(i),0),s=new Ca(go);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Kc.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;lo(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Kc.forEach(e.mutations,(function(i){var o=new Il(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Il(e,0),r=this.rs.firstAfterOrEqual(n);return Kc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Kc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Pl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new _a(Vo.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Kc.resolve(n?n.document.clone():Zo.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Sa();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Zo.newInvalidDocument(t))})),Kc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Sa(),i=new Vo(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||Rs(e,c)&&(r=r.insert(c.key,c.clone()))}return Kc.resolve(r)},t.prototype.fs=function(t,e){return Kc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Al(this)},t.prototype.getSize=function(t){return Kc.resolve(this.size)},t}(),Al=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Zi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Kc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Gu),jl=function(){function t(t){this.persistence=t,this.ds=new Ku((function(t){return ns(t)}),rs),this.lastRemoteSnapshotVersion=yo.min(),this.highestTargetId=0,this.ws=0,this._s=new El,this.targetCount=0,this.ys=Ru.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Kc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Kc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Kc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Kc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Kc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ru(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Kc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Kc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Kc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Kc.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Kc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Kc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Kc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Kc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Kc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Kc.resolve(n)},t.prototype.containsKey=function(t,e){return Kc.resolve(this._s.containsKey(e))},t}(),Ml=function(){function t(t,e){var n=this;this.gs={},this.Ne=new to(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new jl(this),this.Ut=new wu,this.Ue=function(t,e){return new Pl(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new au(e),this.Qe=new Sl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Tl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;oo("MemoryPersistence","Starting transaction:",t);var i=new Rl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Kc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Zi.c)(e,t),e}(Hc),Nl=function(){function t(t){this.persistence=t,this.As=new El,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw uo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Kc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Kc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Kc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kc.forEach(this.vs,(function(r){var i=Vo.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Kc.or([function(){return Kc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Dl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ll(t,e){return"firestore_clients_"+t+"_"+e}function Vl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Fl(t,e){return"firestore_targets_"+t+"_"+e}Dl.UNAUTHENTICATED=new Dl(null),Dl.GOOGLE_CREDENTIALS=new Dl("google-credentials-uid"),Dl.FIRST_PARTY=new Dl("first-party-uid");var Ul=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new no(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(so("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new no(i.error.code,i.error.message)),o?new t(e,i.state,r):(so("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ql=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ra(),s=0;i&&s<r.activeTargetIds.length;++s)i=Lo(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(so("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(so("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hl=function(){function t(){this.activeTargetIds=Ra()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new _a(go),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Ll(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Hl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(Zi.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ll(this.persistenceKey,r)))&&(o=ql.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Fl(this.persistenceKey,t));if(n){var r=Wl.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Fl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return oo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){oo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){oo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(oo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void so("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(Zi.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Zi.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=to.o;if(null!=t)try{var n=JSON.parse(t);lo("number"==typeof n),e=n}catch(t){so("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==to.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ul(this.currentUser,t,e,n),i=Vl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Vl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Fl(this.persistenceKey,t),i=new Wl(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ql.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ul.Vs(new Dl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Wl.Vs(r,e)},t.prototype.js=function(t){return Bl.Vs(t)},t.prototype.ii=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(oo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ra();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Kl=function(){function t(){this.li=new Hl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Hl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Gl=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),$l=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){oo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){oo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ql={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Xl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Zi.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Ji;s.listenOnce(Qi.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case $i.NO_ERROR:var e=s.getResponseJson();oo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $i.TIMEOUT:oo("Connection",'RPC "'+t+'" timed out'),o(new no(eo.DEADLINE_EXCEEDED,"Request time out"));break;case $i.HTTP_ERROR:var n=s.getStatus();if(oo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(eo).indexOf(e)>=0?e:eo.UNKNOWN}(r.status);o(new no(a,r.message))}else o(new no(eo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new no(eo.UNAVAILABLE,"Connection failed."));break;default:uo()}}finally{oo("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Bi,i=Kn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(Xt.z)()||Object(Xt.C)()||Object(Xt.v)()||Object(Xt.x)()||Object(Xt.D)()||Object(Xt.u)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");oo("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new Yl({Ei:function(t){u?oo("Connection","Not sending because WebChannel is closed:",t):(c||(oo("Connection","Opening WebChannel transport."),a.open(),c=!0),oo("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Xi.EventType.OPEN,(function(){u||oo("Connection","WebChannel transport opened.")})),h(a,Xi.EventType.CLOSE,(function(){u||(u=!0,oo("Connection","WebChannel transport closed"),l.Vi())})),h(a,Xi.EventType.ERROR,(function(t){u||(u=!0,ao("Connection","WebChannel transport errored:",t),l.Vi(new no(eo.UNAVAILABLE,"The operation could not be completed")))})),h(a,Xi.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];lo(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){oo("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=fa[t];if(void 0!==e)return ya(e)}(i),s=r.message;void 0===o&&(o=eo.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new no(o,s)),a.close()}else oo("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Yi.STAT_EVENT,(function(t){10===t.stat?oo("Connection","Detected buffering proxy"):11===t.stat&&oo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);oo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return oo("RestConnection","Received: ",t),t}),(function(e){throw ao("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ql[t]},t}());function Jl(){return"undefined"!=typeof window?window:null}function Zl(){return"undefined"!=typeof document?document:null}function th(t){return new Ka(t,!0)}var eh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&oo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),nh=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new eh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===eo.RESOURCE_EXHAUSTED?(so(e.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===eo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new no(eo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(Zi.b)(t,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return oo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(oo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),rh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Zi.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:uo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(lo(void 0===e||"string"==typeof e),Io.fromBase64String(e||"")):(lo(void 0===e||e instanceof Uint8Array),Io.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?eo.UNKNOWN:ya(t.code);return new no(e,t.message||"")}(a);n=new Fa(r,i,o,s||null)}else if("documentChange"in e){i=tc(t,(r=e.documentChange).document.name),o=Ya(r.document.updateTime);var a=new Xo({mapValue:{fields:r.document.fields}}),c=(s=Zo.newFoundDocument(i,o,a),r.targetIds||[]);n=new La(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=tc(t,(r=e.documentDelete).document),o=r.readTime?Ya(r.readTime):yo.min(),a=Zo.newNoDocument(i,o),n=new La([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=tc(t,(r=e.documentRemove).document),n=new La([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return uo();var u=e.filter;i=new ba(r=u.count||0),n=new Va(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return yo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?yo.min():e.readTime?Ya(e.readTime):yo.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=rc(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=is(r)?{documents:uc(t,r)}:{query:lc(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=$a(t,e.resumeToken):e.snapshotVersion.compareTo(yo.min())>0&&(n.readTime=Ga(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return uo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=rc(this.R),e.removeTarget=t,this.cr(e)},e}(nh),ih=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Zi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(lo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(lo(void 0!==e),t.map((function(t){return function(t,e){var n=Ya(t.updateTime?t.updateTime:e);return n.isEqual(yo.min())&&(n=Ya(e)),new Zs(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ya(t.commitTime);return this.listener.Tr(n,e)}return lo(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=rc(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ac(e.R,t)}))};this.cr(n)},e}(nh),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Zi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new no(eo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===eo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new no(eo.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===eo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new no(eo.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),sh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(so(e),this.Vr=!1):oo("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ah=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(Zi.b)(o,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return mh(this)?(oo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return(e=ho(t)).$r.add(4),[4,uh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ch(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new sh(n,r)};function ch(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:if(!mh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uh(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function lh(t,e){var n=ho(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),gh(n)?ph(n):Ah(n).er()&&dh(n,e))}function hh(t,e){var n=ho(t),r=Ah(n);n.Or.delete(e),r.er()&&fh(n,e),0===n.Or.size&&(r.er()?r.ir():mh(n)&&n.Br.set("Unknown"))}function dh(t,e){t.qr.U(e.targetId),Ah(t).mr(e)}function fh(t,e){t.qr.U(e),Ah(t).yr(e)}function ph(t){t.qr=new Wa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Ah(t).start(),t.Br.Sr()}function gh(t){return mh(t)&&!Ah(t).tr()&&t.Or.size>0}function mh(t){return 0===ho(t).$r.size}function bh(t){t.qr=void 0}function vh(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return t.Or.forEach((function(e,n){dh(t,e)})),[2]}))}))}function yh(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(n){return bh(t),gh(t)?(t.Br.Nr(e),ph(t)):t.Br.set("Unknown"),[2]}))}))}function _h(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Fa&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),oo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof La?t.qr.X(e):e instanceof Va?t.qr.rt(e):t.qr.et(e),n.isEqual(yo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,pl(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Io.EMPTY_BYTE_STRING,n.snapshotVersion)),fh(t,e);var r=new su(n.target,e,1,n.sequenceNumber);dh(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return oo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,wh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function wh(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r=this;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:if(!Xc(e))throw e;return t.$r.add(1),[4,uh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return pl(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Zi.b)(r,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return oo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ch(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Oh(t,e){return e().catch((function(n){return wh(t,n,e)}))}function Ch(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:e=ho(t),n=jh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return mh(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,bl(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=jh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,wh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return xh(e)&&kh(e),[2]}}))}))}function xh(t){return mh(t)&&!jh(t).tr()&&t.kr.length>0}function kh(t){jh(t).start()}function Sh(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return jh(t).Ar(),[2]}))}))}function Eh(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){for(e=jh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Ih(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=ou.from(r,e,n),[4,Oh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ch(t)];case 2:return o.sent(),[2]}}))}))}function Th(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e&&jh(t).pr?[4,function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return va(r=e.code)&&r!==eo.ABORTED?(n=t.kr.shift(),jh(t).sr(),[4,Oh(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ch(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xh(t)&&kh(t),[2]}}))}))}function Ph(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return n=ho(t),e?(n.$r.delete(2),[4,ch(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,uh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ah(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ho(t);return r.br(),new rh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vh.bind(null,t),Ri:yh.bind(null,t),_r:_h.bind(null,t)}),t.Mr.push((function(n){return Object(Zi.b)(e,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),gh(t)?ph(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),bh(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function jh(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ho(t);return r.br(),new ih(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sh.bind(null,t),Ri:Th.bind(null,t),Ir:Eh.bind(null,t),Tr:Ih.bind(null,t)}),t.Mr.push((function(n){return Object(Zi.b)(e,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Ch(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(oo("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var Mh=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new no(eo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Rh(t,e){if(so("AsyncQueue",e+": "+t),Xc(t))return new no(eo.UNAVAILABLE,e+": "+t);throw t}var Nh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Vo.comparator(e.key,n.key)}:function(t,e){return Vo.comparator(t.key,e.key)},this.keyedMap=Ia(),this.sortedSet=new _a(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Dh=function(){function t(){this.Kr=new _a(Vo.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):uo():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Lh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Nh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&As(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Vh=function(){this.Wr=void 0,this.listeners=[]},Fh=function(){this.queries=new Ku((function(t){return js(t)}),As),this.onlineState="Unknown",this.Gr=new Set};function Uh(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:if(n=ho(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Vh),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=Rh(a,"Initialization of query '"+Ms(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Hh(n),[2]}}))}))}function Wh(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){return n=ho(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function qh(t,e){for(var n=ho(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(r=!0);a.Wr=s}}r&&Hh(n)}function Bh(t,e,n){var r=ho(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Hh(t){t.Gr.forEach((function(t){t.next()}))}var zh=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Lh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Kh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Gh=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return tc(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?sc(this.R,t.document,!1):Zo.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Ya(t)},t}(),$h=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Qh(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Gh(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||ja()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return[4,xl(this.localStore,new Gh(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,kl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sl(Object.assign({},this.progress),t))]}}))}))},t}();function Qh(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Yh=function(t){this.key=t},Xh=function(t){this.key=t},Jh=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ja(),this.mutatedKeys=ja(),this.lo=Ns(t),this.fo=new Nh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Dh,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Cs(this.query)&&i.size===this.query.limit?i.last():null,u=xs(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Rs(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Cs(this.query)||xs(this.query))for(;s.size>this.query.limit;){var l=Cs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return uo()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new Lh(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ja(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Xh(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Yh(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ja();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Lh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Zh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},td=function(t){this.key=t,this.bo=!1},ed=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ku((function(t){return js(t)}),As),this.Vo=new Map,this.So=new Set,this.Do=new _a(Vo.comparator),this.Co=new Map,this.No=new El,this.xo={},this.Fo=new Map,this.ko=Ru.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function nd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return n=Ad(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,vl(n.localStore,Ts(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,rd(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&lh(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function rd(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(Zi.d)(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,_l(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(md(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,_l(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Jh(e,i.Bn),s=o._o(i.documents),a=Da.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),md(t,n,c.To),u=new Zh(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function id(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return n=ho(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!As(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yl(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),hh(n.remoteStore,r.targetId),pd(n,r.targetId)})).catch(Fu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return pd(n,r.targetId),[4,yl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function od(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:r=jd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ho(t),i=vo.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ja());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=oa(u,n.get(u.key));null!=l&&s.push(new ua(u.key,l,Jo(l.toProto().mapValue),ta.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new _a(go)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,yd(r,i.changes)];case 3:return a.sent(),[4,Ch(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Rh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function sd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:n=ho(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(lo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?lo(r.bo):t.removedDocuments.size>0&&(lo(r.bo),r.bo=!1))})),[4,yd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ad(t,e,n){var r=ho(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ho(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Hh(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cd(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:return(r=ho(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new _a(Vo.comparator)).insert(o,Zo.newNoDocument(o,yo.min())),a=ja().add(o),c=new Na(yo.min(),new Map,new Ca(go),s,a),[4,sd(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),vd(r),[3,4];case 2:return[4,yl(r.localStore,e,!1).then((function(){return pd(r,e,n)})).catch(Fu)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function ud(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:n=ho(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,fl(n.localStore,e)];case 2:return i=o.sent(),fd(n,r,null),dd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ld(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:r=ho(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ho(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return lo(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),fd(r,e,n),dd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,yd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function hd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:mh((n=ho(t)).remoteStore)||oo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ho(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Rh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function dd(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function fd(t,e,n){var r=ho(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function pd(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||gd(t,e)}))}function gd(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(hh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),vd(t))}function md(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yh?(t.No.addReference(o.key,e),bd(t,o)):o instanceof Xh?(oo("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||gd(t,o.key)):uo()}}function bd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(oo("SyncEngine","New document in limbo: "+n),t.So.add(r),vd(t))}function vd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Vo(xo.fromString(e)),r=t.ko.next();t.Co.set(r,new td(n)),t.Do=t.Do.insert(n,r),lh(t.remoteStore,new su(Ts(Os(n.path)),r,2,to.o))}}function yd(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return r=ho(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=cl.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return Object(Zi.d)(this,(function(l){switch(l.label){case 0:n=ho(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Kc.forEach(e,(function(e){return Kc.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Kc.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Xc(r=l.sent()))throw r;return oo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function _d(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return(n=ho(t)).currentUser.isEqual(e)?[3,3]:(oo("SyncEngine","User change. New user:",e.toKey()),[4,dl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new no(eo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,yd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function wd(t,e){var n=ho(t),r=n.Co.get(e);if(r&&r.bo)return ja().add(r.key);var i=ja(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function Od(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return[4,_l((n=ho(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&md(n,e.targetId,i.To),i)]}}))}))}function Cd(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){return[2,Ol((e=ho(t)).localStore).then((function(t){return yd(e,t)}))]}))}))}function xd(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=ho(t),r=ho(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Kc.resolve(null)}))}))}((i=ho(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ch(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fd(i,e,r||null),dd(i,e),function(t,e){ho(ho(t)._n).Gt(e)}(i.localStore,e)):uo(),s.label=4;case 4:return[4,yd(i,o)];case 5:return s.sent(),[3,7];case 6:oo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function kd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:return Ad(n=ho(t)),jd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Sd(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,Ph(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)lh(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return pd(n,e),yl(n.localStore,e,!0)})),hh(n.remoteStore,e)})),[4,c]);case 4:return u.sent(),[4,Sd(n,a)];case 5:return u.sent(),function(t){var e=ho(t);e.Co.forEach((function(t,n){hh(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new _a(Vo.comparator)}(n),n.Oo=!1,[4,Ph(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Sd(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(Zi.d)(this,(function(g){switch(g.label){case 0:n=ho(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,vl(n.localStore,Ts(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Od(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wl(n.localStore,a)];case 8:return p=g.sent(),[4,vl(n.localStore,p)];case 9:return c=g.sent(),[4,rd(n,Ed(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Ed(t){return ws(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Id(t){var e=ho(t);return ho(ho(e.localStore).persistence).fn()}function Td(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return(i=ho(t)).Oo?(oo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ol(i.localStore)];case 3:return o=a.sent(),s=Na.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,yd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,yl(i.localStore,e,!0)];case 6:return a.sent(),pd(i,e,r),[3,8];case 7:uo(),a.label=8;case 8:return[2]}}))}))}function Pd(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h;return Object(Zi.d)(this,(function(d){switch(d.label){case 0:if(!(r=Ad(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(oo("SyncEngine","Adding an already active target "+s),[3,5]):[4,wl(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,vl(r.localStore,a)];case 3:return c=d.sent(),[4,rd(r,Ed(a),c.targetId,!1)];case 4:d.sent(),lh(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yl(r.localStore,t,!1).then((function(){hh(r.remoteStore,t),pd(r,t)})).catch(Fu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Ad(t){var e=ho(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cd.bind(null,e),e.vo._r=qh.bind(null,e.eventManager),e.vo.Mo=Bh.bind(null,e.eventManager),e}function jd(t){var e=ho(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ud.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ld.bind(null,e),e}function Md(t,e,n){var r=ho(t);(function(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,function(t,e){var n=ho(t),r=Ya(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Qe.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,r)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Qh(r)),i=new $h(r,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=u.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,yd(t,a.wn,void 0)];case 12:return u.sent(),[4,function(t,e){var n=ho(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Qe.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return u.sent(),n._completeWith(a.progress),[3,15];case 14:return ao("SyncEngine","Loading bundle failed with "+(c=u.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Rd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return this.R=th(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return hl(this.persistence,new ul,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ml(Nl.bs,this.R)},t.prototype.Bo=function(t){return new Kl},t.prototype.terminate=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Nd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Zi.c)(e,t),e.prototype.initialize=function(e){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cl(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,jd(this.Ko.syncEngine)];case 4:return n.sent(),[4,Ch(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return hl(this.persistence,new ul,t.initialUser,this.R)},e.prototype.Uo=function(t){return new qu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=ol(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Su.withCacheSize(this.cacheSizeBytes):Su.DEFAULT;return new nl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Jl(),Zl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Kl},e}(Rd),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Zi.c)(e,t),e.prototype.initialize=function(e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof zl?(this.sharedClientState.syncEngine={ui:xd.bind(null,n),ai:Td.bind(null,n),hi:Pd.bind(null,n),fn:Id.bind(null,n),ci:Cd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(Zi.b)(r,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return[4,kd(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Jl();if(!zl.yt(e))throw new no(eo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ol(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Nd),Ld=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ad(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_d.bind(null,this.syncEngine),[4,Ph(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Fh},t.prototype.createDatastore=function(t){var e=th(t.databaseInfo.databaseId),n=new Xl(t.databaseInfo);return function(t,e,n){return new oh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ad(s.syncEngine,t,0)},o=$l.yt()?new $l:new Gl,new ah(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new ed(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=ho(t),oo("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,uh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();function Vd(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(Zi.b)(this,void 0,void 0,(function(){var r;return Object(Zi.d)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ud=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new zc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Kh(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Wd=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new no(eo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return n=ho(t),r=rc(n.R)+"/documents",i={documents:e.map((function(t){return Za(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){lo(!!e.found);var n=tc(t,e.found.name),r=Ya(e.found.updateTime),i=new Xo({mapValue:{fields:e.found.fields}});return Zo.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){lo(!!e.missing),lo(!!e.readTime);var n=tc(t,e.missing),r=Ya(e.readTime);return Zo.newNoDocument(n,r)}(t,e):uo()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());lo(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ga(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Vo.fromPath(n);e.mutations.push(new ma(r,e.precondition(r)))})),[4,function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return n=ho(t),r=rc(n.R)+"/documents",i={writes:e.map((function(t){return ac(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw uo();e=yo.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new no(eo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ta.updateTime(e):ta.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(yo.min()))throw new no(eo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ta.updateTime(e)}return ta.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),qd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new eh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(Zi.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Zi.d)(this,(function(r){return t=new Wd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!No(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!va(e)}return!1},t}(),Bd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Dl.UNAUTHENTICATED,this.clientId=po.u(),this.credentialListener=function(){},this.receivedInitialUser=new zc,this.credentials.setChangeListener((function(t){oo("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new no(eo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new zc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Zi.b)(t,void 0,void 0,(function(){var t,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Rh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Hd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),oo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(Zi.b)(i,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return[4,dl(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function zd(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Kd(t)];case 1:return n=i.sent(),oo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return(n=ho(t)).asyncQueue.verifyOperationInProgress(),oo("RemoteStore","RemoteStore received new credentials"),r=mh(n),n.$r.add(3),[4,uh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ch(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Kd(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(oo("FirestoreClient","Using default OfflineComponentProvider"),[4,Hd(t,new Rd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Gd(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(oo("FirestoreClient","Using default OnlineComponentProvider"),[4,zd(t,new Ld)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function $d(t){return Kd(t).then((function(t){return t.persistence}))}function Qd(t){return Kd(t).then((function(t){return t.localStore}))}function Yd(t){return Gd(t).then((function(t){return t.remoteStore}))}function Xd(t){return Gd(t).then((function(t){return t.syncEngine}))}function Jd(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,Gd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=nd.bind(null,e.syncEngine),n.onUnlisten=id.bind(null,e.syncEngine),n)]}}))}))}function Zd(t,e,n){var r=this;void 0===n&&(n={});var i=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(r,void 0,void 0,(function(){var r;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Fd({next:function(o){e.enqueueAndForget((function(){return Wh(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new no(eo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new no(eo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new zh(Os(n.path),o,{includeMetadataChanges:!0,so:!0});return Uh(t,s)},[4,Jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function tf(t,e,n){var r=this;void 0===n&&(n={});var i=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(r,void 0,void 0,(function(){var r;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Fd({next:function(n){e.enqueueAndForget((function(){return Wh(t,s)})),n.fromCache&&"server"===r.source?i.reject(new no(eo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new zh(n,o,{includeMetadataChanges:!0,so:!0});return Uh(t,s)},[4,Jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ef=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},nf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rf=new Map,of=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},sf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Dl.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),af=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cf=function(){function t(t){var e=this;this.oc=null,this.currentUser=Dl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(oo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(lo("string"==typeof n.accessToken),new of(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return lo(null===t||"string"==typeof t),new Dl(t)},t}(),uf=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Dl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),lf=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new uf(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Dl.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function hf(t,e,n){if(!n)throw new no(eo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function df(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new no(eo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ff(t,e,n,r){if(!0===e&&!0===r)throw new no(eo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function pf(t){if(!Vo.isDocumentKey(t))throw new no(eo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function gf(t){if(Vo.isDocumentKey(t))throw new no(eo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function mf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":uo()}function bf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new no(eo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mf(t);throw new no(eo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function vf(t,e){if(e<=0)throw new no(eo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new no(eo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new no(eo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ff("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),_f=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yf({}),this._settingsFrozen=!1,t instanceof nf?(this._databaseId=t,this._credentials=new sf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new no(eo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(t.options.projectId)}(t),this._credentials=new cf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new no(eo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new no(eo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new sf;switch(t.type){case"gapi":var e=t.client;return lo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new lf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new no(eo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rf.get(this))&&(oo("ComponentProvider","Removing Datastore"),rf.delete(this),t.terminate()),Promise.resolve();var t},t}(),wf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Cf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Of=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Cf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Os(r))||this)._path=r,i.type="collection",i}return Object(Zi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wf(this.firestore,null,new Vo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Of);function xf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Xt.q)(t),hf("collection","path",e),t instanceof _f)return gf(n=xo.fromString.apply(xo,Object(Zi.f)([e],r))),new Cf(t,null,n);if(!(t instanceof wf||t instanceof Cf))throw new no(eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gf(n=xo.fromString.apply(xo,Object(Zi.f)([t.path],r)).child(xo.fromString(e))),new Cf(t.firestore,null,n)}function kf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Xt.q)(t),1===arguments.length&&(e=po.u()),hf("doc","path",e),t instanceof _f)return pf(n=xo.fromString.apply(xo,Object(Zi.f)([e],r))),new wf(t,null,new Vo(n));if(!(t instanceof wf||t instanceof Cf))throw new no(eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pf(n=t._path.child(xo.fromString.apply(xo,Object(Zi.f)([e],r)))),new wf(t.firestore,t instanceof Cf?t.converter:null,new Vo(n))}function Sf(t,e){return t=Object(Xt.q)(t),e=Object(Xt.q)(e),(t instanceof wf||t instanceof Cf)&&(e instanceof wf||e instanceof Cf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ef(t,e){return t=Object(Xt.q)(t),e=Object(Xt.q)(e),t instanceof Of&&e instanceof Of&&t.firestore===e.firestore&&As(t._query,e._query)&&t.converter===e.converter}var If=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new eh(this,"async_queue_retry"),this.Ec=function(){var e=Zl();e&&oo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Zl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Zl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Xc(t=n.sent()))throw t;return oo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,so("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Mh.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&uo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Tf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Pf=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new zc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new If,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Zi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Mf(this),this._firestoreClient.terminate()},e}(_f);function jf(t){return t._firestoreClient||Mf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Mf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ef(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Bd(t._credentials,t._queue,r)}function Rf(t,e,n){var r=this,i=new zc;return t.asyncQueue.enqueue((function(){return Object(Zi.b)(r,void 0,void 0,(function(){var r;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Hd(t,n)];case 1:return o.sent(),[4,zd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===eo.FAILED_PRECONDITION||t.code===eo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Nf(t){if(t._initialized||t._terminated)throw new no(eo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Df=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new no(eo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Io.fromBase64String(e))}catch(e){throw new no(eo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Io.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Vf=function(t){this._methodName=t},Ff=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new no(eo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new no(eo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return go(this._lat,t._lat)||go(this._long,t._long)},t}(),Uf=/^__.*__$/,Wf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new ca(t,this.data,e,this.fieldTransforms)},t}(),qf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ua(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Bf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw uo()}}var Hf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return lp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Bf(this.Dc)&&Uf.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),zf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||th(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Hf({Dc:t,methodName:e,Lc:n,path:So.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Kf(t){var e=t._freezeSettings(),n=th(t._databaseId);return new zf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);sp("Data must be an object, but it was:",s,r);var a,c,u=ip(r,s);if(o.merge)a=new Eo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=ap(e,d[h],n);if(!s.contains(f))throw new no(eo.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");hp(l,f)||l.push(f)}a=new Eo(l),c=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=s.fieldTransforms;return new Wf(new Xo(u),a,c)}var $f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Vf);function Qf(t,e,n){return new Hf({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype._toFieldTransform=function(t){return new Js(t.path,new Hs)},e.prototype.isEqual=function(t){return t instanceof e},e}(Vf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Zi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Qf(this,t,!0),n=this.qc.map((function(t){return rp(t,e)})),r=new zs(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Vf),Jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Zi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Qf(this,t,!0),n=this.qc.map((function(t){return rp(t,e)})),r=new Gs(n);return new Js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Vf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Zi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Qs(t.R,Fs(t.R,this.Uc));return new Js(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Vf);function tp(t,e,n,r){var i=t.Bc(1,e,n);sp("Data must be an object, but it was:",i,r);var o=[],s=Xo.empty();wo(r,(function(t,r){var a=up(e,t,n);r=Object(Xt.q)(r);var c=i.kc(a);if(r instanceof $f)o.push(a);else{var u=rp(r,c);null!=u&&(o.push(a),s.set(a,u))}}));var a=new Eo(o);return new qf(s,a,i.fieldTransforms)}function ep(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[ap(e,r,n)],c=[i];if(o.length%2!=0)throw new no(eo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(ap(e,o[u])),c.push(o[u+1]);for(var l=[],h=Xo.empty(),d=a.length-1;d>=0;--d)if(!hp(l,a[d])){var f=a[d],p=c[d];p=Object(Xt.q)(p);var g=s.kc(f);if(p instanceof $f)l.push(f);else{var m=rp(p,g);null!=m&&(l.push(f),h.set(f,m))}}var b=new Eo(l);return new qf(h,b,s.fieldTransforms)}function np(t,e,n,r){return void 0===r&&(r=!1),rp(n,t.Bc(r?4:3,e))}function rp(t,e){if(op(t=Object(Xt.q)(t)))return sp("Unsupported field value:",e,t),ip(t,e);if(t instanceof Vf)return function(t,e){if(!Bf(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=rp(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Xt.q)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fs(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=vo.fromDate(t);return{timestampValue:Ga(e.R,n)}}if(t instanceof vo)return n=new vo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ga(e.R,n)};if(t instanceof Ff)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lf)return{bytesValue:$a(e.R,t._byteString)};if(t instanceof wf){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Xa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+mf(t))}(t,e)}function ip(t,e){var n={};return Oo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(function(t,r){var i=rp(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function op(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vo||t instanceof Ff||t instanceof Lf||t instanceof wf||t instanceof Vf)}function sp(t,e,n){if(!op(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=mf(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function ap(t,e,n){if((e=Object(Xt.q)(e))instanceof Df)return e._internalPath;if("string"==typeof e)return up(t,e);throw lp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cp=new RegExp("[~\\*/\\[\\]]");function up(t,e,n){if(e.search(cp)>=0)throw lp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Df.bind.apply(Df,Object(Zi.f)([void 0],e.split(".")))))._internalPath}catch(r){throw lp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lp(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new no(eo.INVALID_ARGUMENT,(a+=". ")+t+c)}function hp(t,e){return t.some((function(t){return t.isEqual(e)}))}var dp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(pp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(dp);function pp(t,e){return"string"==typeof e?up(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}var gp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mp=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Zi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(pp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(dp),bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mp),vp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new gp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new bp(n._firestore,n._userDataWriter,r.key,r,new gp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new no(eo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new bp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new bp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uo()}}function _p(t,e){return t instanceof mp&&e instanceof mp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof vp&&e instanceof vp&&t._firestore===e._firestore&&Ef(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function wp(t){if(xs(t)&&0===t.explicitOrderBy.length)throw new no(eo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Op=function(){};function Cp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Zi.c)(e,t),e.prototype._apply=function(t){var e=Kf(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new no(eo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ap(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(Pp(r,t,l[u]));a={arrayValue:{values:c}}}else a=Pp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ap(s,o),a=np(n,"where",s,"in"===o||"not-in"===o);var h=os.create(i,o,a);return function(t,e){if(e.g()){var n=Ss(t);if(null!==n&&!n.isEqual(e.field))throw new no(eo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ks(t);null!==r&&jp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new no(eo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Of(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Op),kp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Zi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new no(eo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new no(eo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ms(e,n);return function(t,e){if(null===ks(t)){var n=Ss(t);null!==n&&jp(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Of(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new _s(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Op),Sp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Zi.c)(e,t),e.prototype._apply=function(t){return new Of(t.firestore,t.converter,Ps(t._query,this.Gc,this.zc))},e}(Op),Ep=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Zi.c)(e,t),e.prototype._apply=function(t){var e=Tp(t,this.type,this.Hc,this.Jc);return new Of(t.firestore,t.converter,function(t,e){return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Op),Ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Zi.c)(e,t),e.prototype._apply=function(t){var e=Tp(t,this.type,this.Hc,this.Jc);return new Of(t.firestore,t.converter,function(t,e){return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Op);function Tp(t,e,n,r){if(n[0]=Object(Xt.q)(n[0]),n[0]instanceof dp)return function(t,e,n,r,i){if(!r)throw new no(eo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Is(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(zo(e,r.key));else{var u=r.data.field(c.field);if(Mo(u))throw new no(eo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new no(eo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new ps(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Kf(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new no(eo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new no(eo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Es(t)&&-1!==u.indexOf("/"))throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(xo.fromString(u));if(!Vo.isDocumentKey(l))throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Vo(l);a.push(zo(e,h))}else{var d=np(n,r,u);a.push(d)}}return new ps(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Pp(t,e,n){if("string"==typeof(n=Object(Xt.q)(n))){if(""===n)throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(e)&&-1!==n.indexOf("/"))throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(xo.fromString(n));if(!Vo.isDocumentKey(r))throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return zo(t,new Vo(r))}if(n instanceof wf)return zo(t,n._key);throw new no(eo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mf(n)+".")}function Ap(t,e){if(!Array.isArray(t)||0===t.length)throw new no(eo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new no(eo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jp(t,e,n){if(!n.isEqual(e))throw new no(eo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Mp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Fo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ao(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw uo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return wo(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Ff(Ao(t.latitude),Ao(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Mo(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ro(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Po(t);return new vo(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=xo.fromString(t);lo(wc(n));var r=new nf(n.get(1),n.get(3)),i=new Vo(n.popFirst(5));return r.isEqual(e)||so("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Rp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Np=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zi.c)(e,t),e.prototype.convertBytes=function(t){return new Lf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wf(this.firestore,null,e)},e}(Mp),Dp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Kf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Lp(t,this._firestore),i=Rp(r.converter,e,n),o=Gf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ta.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Lp(t,this._firestore);return o="string"==typeof(e=Object(Xt.q)(e))||e instanceof Df?ep(this._dataReader,"WriteBatch.update",s._key,e,n,r):tp(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,ta.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Lp(t,this._firestore);return this._mutations=this._mutations.concat(new ga(e._key,ta.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new no(eo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Lp(t,e){if((t=Object(Xt.q)(t)).firestore!==e)throw new no(eo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Vp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zi.c)(e,t),e.prototype.convertBytes=function(t){return new Lf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wf(this.firestore,null,e)},e}(Mp);function Fp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=bf(t,wf);var o=bf(t.firestore,Af),s=Kf(o);return Wp(o,[("string"==typeof(e=Object(Xt.q)(e))||e instanceof Df?ep(s,"updateDoc",t._key,e,n,r):tp(s,"updateDoc",t._key,e)).toMutation(t._key,ta.exists(!0))])}function Up(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Xt.q)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Tf(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Tf(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof wf)u=bf(t.firestore,Af),l=Os(t._key.path),c={next:function(e){i[a]&&i[a](qp(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=bf(t,Of);u=bf(f.firestore,Af),l=f._query;var p=new Vp(u);c={next:function(t){i[a]&&i[a](new vp(u,p,f,t))},error:i[a+1],complete:i[a+2]},wp(t._query)}return function(t,e,n,r){var i=this,o=new Fd(r),s=new zh(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(i,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=Uh,[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(i,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=Wh,[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(jf(u),l,h,c)}function Wp(t,e){return function(t,e){var n=this,r=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return n=od,[4,Xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(jf(t),e)}function qp(t,e,n){var r=n.docs.get(e._key),i=new Vp(t);return new mp(t,i,e._key,r,new gp(n.hasPendingWrites,n.fromCache),e.converter)}var Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Zi.c)(e,t),e.prototype.get=function(e){var n=this,r=Lp(e,this._firestore),i=new Vp(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new mp(n._firestore,i,r._key,t._document,new gp(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Kf(t)}return t.prototype.get=function(t){var e=this,n=Lp(t,this._firestore),r=new Np(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return uo();var i=t[0];if(i.isFoundDocument())return new dp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dp(e._firestore,r,n._key,null,n.converter);throw uo()}))},t.prototype.set=function(t,e,n){var r=Lp(t,this._firestore),i=Rp(r.converter,e,n),o=Gf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Lp(t,this._firestore);return o="string"==typeof(e=Object(Xt.q)(e))||e instanceof Df?ep(this._dataReader,"Transaction.update",s._key,e,n,r):tp(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Lp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Hp(){if("undefined"==typeof Uint8Array)throw new no(eo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zp(){if("undefined"==typeof atob)throw new no(eo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Kp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return zp(),new t(Lf.fromBase64String(e))},t.fromUint8Array=function(e){return Hp(),new t(Lf.fromUint8Array(e))},t.prototype.toBase64=function(){return zp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Gp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Nf(t=bf(t,Af));var n=jf(t),r=t._freezeSettings(),i=new Ld;return Rf(n,i,new Nd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Nf(t=bf(t,Af));var e=jf(t),n=t._freezeSettings(),r=new Ld;return Rf(e,r,new Dd(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new no(eo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new zc;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Zi.b)(e,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return $c.yt()?[4,$c.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ol(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),$p=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nf||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=bf(t,_f))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ao("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Xt.l)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new no(eo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new af(new of(o,new Dl(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Zi.b)(e,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,$d(t)];case 1:return e=r.sent(),[4,Yd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ho(t);return e.$r.delete(0),ch(e)}(n))]}}))}))}))}(jf(bf(this._delegate,Af)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Zi.b)(e,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,$d(t)];case 1:return e=r.sent(),[4,Yd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return(e=ho(t)).$r.add(0),[4,uh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(jf(bf(this._delegate,Af)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ff("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(e,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return e=hd,[4,Xd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(jf(bf(this._delegate,Af)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Fd(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ho(t).Gr.add(e),e.next()},[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ho(t).Gr.delete(e)},[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(jf(t=bf(t,Af)),Tf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new no(eo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cg(this,xf(this._delegate,t))}catch(t){throw tg(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Zp(this,kf(this._delegate,t))}catch(t){throw tg(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new og(this,function(t,e){if(t=bf(t,_f),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new no(eo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Of(t,null,function(t){return new _s(xo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw tg(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Gd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new qd(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(jf(t),(function(n){return e(new Bp(t,n))}))}(this._delegate,(function(n){return t(new Yp(e,n))}))},t.prototype.batch=function(){var t=this;return jf(this._delegate),new Xp(new Dp(this._delegate,(function(e){return Wp(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new no(eo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new no(eo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Zi.c)(e,t),e.prototype.convertBytes=function(t){return new Kp(new Lf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Zp.Zc(e,this.firestore,null)},e}(Mp),Yp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Qp(t)}return t.prototype.get=function(t){var e=this,n=ug(t);return this._delegate.get(n).then((function(t){return new rg(e._firestore,new mp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=ug(t);return n?(df("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ug(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Zi.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=ug(t);return this._delegate.delete(e),this},t}(),Xp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=ug(t);return n?(df("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ug(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Zi.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=ug(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Jp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new bp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ig(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Qp(e),n),i.set(n,o)),o},t}();Jp.eu=new WeakMap;var Zp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qp(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new no(eo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wf(n._delegate,r,new Vo(e)))},t.Zc=function(e,n,r){return new t(n,new wf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cg(this.firestore,xf(this._delegate,t))}catch(t){throw tg(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Xt.q)(t))instanceof wf&&Sf(this._delegate,t)},t.prototype.set=function(t,e){e=df("DocumentReference.set",e);try{return function(t,e,n){t=bf(t,wf);var r=bf(t.firestore,Af),i=Rp(t.converter,e,n);return Wp(r,[Gf(Kf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ta.none())])}(this._delegate,t,e)}catch(t){throw tg(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Fp(this._delegate,t):Fp.apply(void 0,Object(Zi.f)([this._delegate,t,e],n))}catch(t){throw tg(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Wp(bf((t=this._delegate).firestore,Af),[new ga(t._key,ta.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=eg(e),i=ng(e,(function(e){return new rg(t.firestore,new mp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Up(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=bf(t,wf);var e=bf(t.firestore,Af),n=jf(e),r=new Vp(e);return function(t,e){var n=this,r=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ho(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new no(eo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Rh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Qd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new mp(e,r,t._key,n,new gp(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=bf(t,wf);var e=bf(t.firestore,Af);return Zd(jf(e),t._key,{source:"server"}).then((function(n){return qp(e,t,n)}))}(this._delegate):function(t){t=bf(t,wf);var e=bf(t.firestore,Af);return Zd(jf(e),t._key).then((function(n){return qp(e,t,n)}))}(this._delegate)).then((function(t){return new rg(e.firestore,new mp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Jp.tu(this.firestore,e):null))},t}();function tg(t,e,n){return t.message=t.message.replace(e,n),t}function eg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Tf(r))return r}return{}}function ng(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Tf(t[0])?t[0]:Tf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Zp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return _p(this._delegate,t._delegate)},t}(),ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Zi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(rg),og=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Cp(this._delegate,function(t,e,n){var r=e,i=pp("where",t);return new xp(i,r,n)}(e,n,r)))}catch(e){throw tg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Cp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=pp("orderBy",t);return new kp(r,n)}(e,n)))}catch(e){throw tg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Cp(this._delegate,function(t){return vf("limit",t),new Sp("limit",t,"F")}(e)))}catch(e){throw tg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Cp(this._delegate,function(t){return vf("limitToLast",t),new Sp("limitToLast",t,"L")}(e)))}catch(e){throw tg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ep("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw tg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ep("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw tg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ip("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw tg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ip("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw tg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Ef(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=bf(t,Of);var e=bf(t.firestore,Af),n=jf(e),r=new Vp(e);return function(t,e){var n=this,r=new zc;return t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,_l(t,e,!0)];case 1:return a=c.sent(),r=new Jh(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=Rh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Qd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new vp(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=bf(t,Of);var e=bf(t.firestore,Af),n=jf(e),r=new Vp(e);return tf(n,t._query,{source:"server"}).then((function(n){return new vp(e,r,t,n)}))}(this._delegate):function(t){t=bf(t,Of);var e=bf(t.firestore,Af),n=jf(e),r=new Vp(e);return wp(t._query),tf(n,t._query).then((function(n){return new vp(e,r,t,n)}))}(this._delegate)).then((function(t){return new ag(e.firestore,new vp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=eg(e),i=ng(e,(function(e){return new ag(t.firestore,new vp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Up(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Jp.tu(this.firestore,e):null))},t}(),sg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ig(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ag=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new og(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new ig(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new sg(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new ig(n._firestore,r))}))},t.prototype.isEqual=function(t){return _p(this._delegate,t._delegate)},t}(),cg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Zi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Zp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Zp(this.firestore,void 0===t?kf(this._delegate):kf(this._delegate,t))}catch(t){throw tg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=bf(t.firestore,Af),r=kf(t),i=Rp(t.converter,e);return Wp(n,[Gf(Kf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ta.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Zp(e.firestore,t)}))},e.prototype.isEqual=function(t){return Sf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Jp.tu(this.firestore,t):null))},e}(og);function ug(t){return bf(t,wf)}var lg,hg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Df.bind.apply(Df,Object(Zi.f)([void 0],t)))}return t.documentId=function(){return new t(So.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Xt.q)(t))instanceof Df&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),dg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Yf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $f("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Zf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),fg=n("/6Yf"),pg={Firestore:$p,GeoPoint:Ff,Timestamp:vo,Blob:Kp,Transaction:Yp,WriteBatch:Xp,DocumentReference:Zp,DocumentSnapshot:rg,Query:og,QueryDocumentSnapshot:ig,QuerySnapshot:ag,CollectionReference:cg,FieldPath:hg,FieldValue:dg,setLogLevel:function(t){ro.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new fg.a("firestore",(function(t){return function(t,e){return new $p(t,new Af(t,e),new Gp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pg)))})(lg=Yt.a),lg.registerVersion("@firebase/firestore","2.3.0");var gg=n("XNiG"),mg=n("VRyK"),bg=n("zx2A");function vg(t,e){return"function"==typeof e?n=>n.pipe(vg((n,r)=>Object(It.a)(t(n,r)).pipe(Object(Ft.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new yg(t))}class yg{constructor(t){this.project=t}call(t,e){return e.subscribe(new _g(t,this.project))}}class _g extends bg.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new bg.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(bg.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var wg=n("qgXg"),Og=n("quSY"),Cg=n("9ppp"),xg=n("Ylt2");class kg extends gg.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Sg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Cg.a;if(this.isStopped||this.hasError?o=Og.a.EMPTY:(this.observers.push(t),o=new xg.a(this,t)),r&&t.add(t=new $t.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||wg.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Sg{constructor(t,e){this.time=t,this.value=e}}function Eg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){let l;s++,!i||a?(a=!1,i=new kg(t,e,r),l=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}}),c&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Ig=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Tg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Pg=n("EY2u");function Ag(t){return e=>0===t?Object(Pg.b)():e.lift(new jg(t))}class jg{constructor(t){if(this.total=t,this.total<0)throw new Tg}call(t,e){return e.subscribe(new Mg(t,this.total))}}class Mg extends Nt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Rg(t=null){return e=>e.lift(new Ng(t))}class Ng{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Dg(t,this.defaultValue))}}class Dg extends Nt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Lg(t=Ug){return e=>e.lift(new Vg(t))}class Vg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Fg(t,this.errorFactory))}}class Fg extends Nt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(lg){t=lg}this.destination.error(t)}}}function Ug(){return new Ig}var Wg=n("SpAZ");function qg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zt((e,n)=>t(e,n,r)):Wg.a,Ag(1),n?Rg(e):Lg(()=>new Ig))}function Bg(t,e){return e?vg(()=>t,e):vg(()=>t)}var Hg=n("tf+s");const zg=new r.t("angularfire2.auth.use-emulator"),Kg=new r.t("angularfire2.auth.settings"),Gg=new r.t("angularfire2.auth.tenant-id"),$g=new r.t("angularfire2.auth.langugage-code"),Qg=new r.t("angularfire2.auth.use-device-language"),Yg=new r.t("angularfire.auth.persistence");let Xg=(()=>{class t{constructor(t,e,r,i,o,s,a,c,u,l){const h=new kt.d(i),d=Object(kt.h)(h),f=new gg.a,p=Object(Tt.a)(void 0).pipe(Object($t.b)(h.outsideAngular),vg(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ft.a)(()=>Object(kt.g)(t,i,e)),Object(Ft.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(kt.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),Eg({bufferSize:1,refCount:!1}));if(K(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Tt.a)(null);else{p.pipe(qg()).subscribe();const t=p.pipe(vg(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Eg({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(vg(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(vg(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Bg(n),Object(Hg.a)(h.outsideAngular),Object($t.b)(h.insideAngular)),this.user=t.pipe(Bg(r),Object(Hg.a)(h.outsideAngular),Object($t.b)(h.insideAngular)),this.idToken=this.user.pipe(vg(t=>t?Object(It.a)(t.getIdToken()):Object(Tt.a)(null))),this.idTokenResult=this.user.pipe(vg(t=>t?Object(It.a)(t.getIdTokenResult()):Object(Tt.a)(null))),this.credential=Object(mg.a)(t,f,this.authState.pipe(zt(t=>!t))).pipe(Object(Ft.a)(t=>(null==t?void 0:t.user)?t:null),Object(Hg.a)(h.outsideAngular),Object($t.b)(h.insideAngular))}return Object(kt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(kt.c),r.ac(kt.b,8),r.ac(r.H),r.ac(r.E),r.ac(zg,8),r.ac(Kg,8),r.ac(Gg,8),r.ac($g,8),r.ac(Qg,8),r.ac(Yg,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ac)(kt.c),Object(r.ac)(kt.b,8),Object(r.ac)(r.H),Object(r.ac)(r.E),Object(r.ac)(zg,8),Object(r.ac)(Kg,8),Object(r.ac)(Gg,8),Object(r.ac)($g,8),Object(r.ac)(Qg,8),Object(r.ac)(Yg,8))},token:t,providedIn:"any"}),t})(),Jg=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Xg]}),t})();function Zg(t,e){return function(t,e=St.b){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function tm(t,e){return Zg(t,e).pipe(Object(Ft.a)(t=>({payload:t,type:"query"})))}function em(t,e){return tm(t,e).pipe(Rt(void 0),Dt(),Object(Ft.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function nm(t,e,n){return em(t,n).pipe(Ut((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return rm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return rm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Bt(void 0,void 0)),Object(Ft.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function rm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function im(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class om{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=em(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Rt(void 0),Dt(),zt(([t,e])=>e.length>0||!t),Object(Ft.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ut((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=im(t);return nm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new sm(this.ref.doc(t),this.afs)}}class sm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=dm(n,e);return new om(r,i,this.afs)}snapshotChanges(){return Zg(this.ref,this.afs.schedulers.outsideAngular).pipe(Rt(void 0),Dt(),Object(Ft.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ft.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(It.a)(this.ref.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}}class am{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?em(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),zt(t=>t.length>0),this.afs.keepUnstableUntilFirst):em(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ut((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=im(t);return nm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}}const cm=new r.t("angularfire2.enableFirestorePersistence"),um=new r.t("angularfire2.firestore.persistenceSettings"),lm=new r.t("angularfire2.firestore.settings"),hm=new r.t("angularfire2.firestore.use-emulator");function dm(t,e=(t=>t)){return{query:e(t),ref:t}}let fm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this.schedulers=new kt.d(o),this.keepUnstableUntilFirst=Object(kt.h)(this.schedulers);const u=Object(kt.g)(t,o,e);!Qt.a.auth&&c&&Object(kt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(kt.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!K(i)){const e=()=>{try{return Object(It.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(lg){return"undefined"!=typeof console&&console.warn(lg),Object(Tt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Tt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=dm(n,e),o=this.schedulers.ngZone.run(()=>r);return new om(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new am(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new sm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.ac(kt.c),r.ac(kt.b,8),r.ac(cm,8),r.ac(lm,8),r.ac(r.H),r.ac(r.E),r.ac(um,8),r.ac(hm,8),r.ac(zg,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ac)(kt.c),Object(r.ac)(kt.b,8),Object(r.ac)(cm,8),Object(r.ac)(lm,8),Object(r.ac)(r.H),Object(r.ac)(r.E),Object(r.ac)(um,8),Object(r.ac)(hm,8),Object(r.ac)(zg,8))},token:t,providedIn:"any"}),t})(),pm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:cm,useValue:!0},{provide:um,useValue:e}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[fm]}),t})();class gm{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new mm(t,this.dueTime,this.scheduler))}}class mm extends Nt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(bm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function bm(t){t.debouncedNext()}var vm="firebasestorage.googleapis.com",ym=function(t){function e(n,r){var i=t.call(this,_m(n),"Firebase Storage: "+r+" ("+_m(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Zi.c)(e,t),e.prototype._codeEquals=function(t){return _m(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Xt.c);function _m(t){return"storage/"+t}function wm(){return new ym("unknown","An unknown error occurred, please check the error payload for server response.")}function Om(){return new ym("canceled","User canceled the upload/download.")}function Cm(){return new ym("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xm(t){return new ym("invalid-argument",t)}function km(){return new ym("app-deleted","The Firebase app was deleted.")}function Sm(t){return new ym("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Em(t,e){return new ym("invalid-format","String does not match format '"+t+"': "+e)}function Im(t){throw new ym("internal-error","Internal error: "+t)}var Tm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pm=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Am(t,e){switch(t){case Tm.RAW:return new Pm(jm(e));case Tm.BASE64:case Tm.BASE64URL:return new Pm(Mm(t,e));case Tm.DATA_URL:return new Pm((n=new Rm(e)).base64?Mm(Tm.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(lg){throw Em(Tm.DATA_URL,"Malformed data URL.")}return jm(e)}(n.rest),new Rm(e).contentType)}var n;throw wm()}function jm(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Mm(t,e){switch(t){case Tm.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Em(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Tm.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Em(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(lg){throw Em(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var Rm=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Em(Tm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Nm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dm(t){switch(t){case"running":case"pausing":case"canceling":return Nm.RUNNING;case"paused":return Nm.PAUSED;case"success":return Nm.SUCCESS;case"canceled":return Nm.CANCELED;case"error":default:return Nm.ERROR}}var Lm=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Vm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Lm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Lm.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Lm.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Im("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Im("cannot .getStatus() before sending");try{return this.xhr_.status}catch(lg){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Im("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Fm=function(){function t(){}return t.prototype.createXhrIo=function(){return new Vm},t}(),Um=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(lg){return new t(e,"")}if(""===r.path)return r;throw new ym("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),c=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===vm?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<c.length;u++){var l=c[u],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new ym("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Wm=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function qm(t){return"string"==typeof t||t instanceof String}function Bm(t){return Hm()&&t instanceof Blob}function Hm(){return"undefined"!=typeof Blob}function zm(t,e,n,r){if(r<e)throw xm("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw xm("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Km(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Gm(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var $m=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(lg){o(lg)}else null!==s?((r=wm()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?km():Om():new ym("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Qm(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Qm(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Lm.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Qm(s,n))}else{var a=n.getErrorCode()===Lm.ABORT;e(!1,new Qm(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(Zi.f)([null,t],e));else{var r;c()||s?l.call.apply(l,Object(Zi.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Qm=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Ym(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ym();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Hm())return new Blob(t);throw new ym("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Jm=function(){function t(t,e){var n=0,r="";Bm(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Bm(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Hm()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Xm.apply(null,r))}var i=e.map((function(t){return qm(t)?Am(Tm.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Zm(t){var e,n;try{e=JSON.parse(t)}catch(lg){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function tb(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function eb(t,e){return e}var nb=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||eb}}(),rb=null;function ib(){if(rb)return rb;var t=[];t.push(new nb("bucket")),t.push(new nb("generation")),t.push(new nb("metageneration")),t.push(new nb("name","fullPath",!0));var e=new nb("name");e.xform=function(t,e){return function(t){return!qm(t)||t.length<2?t:tb(t)}(e)},t.push(e);var n=new nb("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new nb("timeCreated")),t.push(new nb("updated")),t.push(new nb("md5Hash",null,!0)),t.push(new nb("cacheControl",null,!0)),t.push(new nb("contentDisposition",null,!0)),t.push(new nb("contentEncoding",null,!0)),t.push(new nb("contentLanguage",null,!0)),t.push(new nb("contentType",null,!0)),t.push(new nb("metadata","customMetadata",!0)),rb=t}function ob(t,e,n){var r=Zm(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Um(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function sb(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var ab=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function cb(t){if(!t)throw wm()}function ub(t,e){return function(n,r){var i=ob(t,r,e);return cb(null!==i),i}}function lb(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new ym("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ym("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ym("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ym("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function hb(t){var e=lb(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new ym("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function db(t,e,n){var r=Km(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new ab(r,"GET",ub(t,n),i);return o.errorHandler=hb(e),o}function fb(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var pb=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function gb(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(lg){cb(!1)}return cb(!!n&&-1!==(e||["active"]).indexOf(n)),n}var mb=262144,bb=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function vb(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var yb=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ib(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=fb(e,r,i),a={name:s.fullPath},c=Km(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=sb(s,n),h=new ab(c,"POST",(function(t){var e;gb(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(lg){cb(!1)}return cb(qm(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=lb(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new ab(n,"POST",(function(t){var e=gb(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(lg){cb(!1)}n||cb(!1);var i=Number(n);return cb(!isNaN(i)),new pb(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=lb(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=mb*this._chunkMultiplier,n=new pb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new pb(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new ym("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw Cm();var p=new ab(n,"POST",(function(t,n){var i,s=gb(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?ub(e,o)(t,n):null,new pb(a,u,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=lb(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(lg){return t._error=lg,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){mb*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=db(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=fb(e,r,i),u=sb(c,n),l=Jm.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Cm();var h={name:c.fullPath},d=Km(o,t.host),f=t.maxUploadRetryTime,p=new ab(d,"POST",ub(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=lb(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Om(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Dm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new bb(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Dm(this._state)){case Nm.SUCCESS:vb(this._resolve.bind(null,this.snapshot))();break;case Nm.CANCELED:case Nm.ERROR:vb(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Dm(this._state)){case Nm.RUNNING:case Nm.PAUSED:t.next&&vb(t.next.bind(t,this.snapshot))();break;case Nm.SUCCESS:t.complete&&vb(t.complete.bind(t))();break;case Nm.CANCELED:case Nm.ERROR:t.error&&vb(t.error.bind(t,this._error))();break;default:t.error&&vb(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),_b=function(){function t(t,e){this._service=t,this._location=e instanceof Um?e:Um.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Um(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return tb(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Um(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Sm(t)},t}();function wb(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&zm("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Km(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new ab(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Zm(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new Um(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new Um(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return cb(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=lb(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Ob(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Um(t._location.bucket,n);return new _b(t.storage,r)}function Cb(t){return/^[A-Za-z]+:\/\//.test(t)}function xb(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Um.makeFromBucketSpec(n,t)}var kb=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=vm,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Um.makeFromBucketSpec(i,this._host):xb(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Um.makeFromBucketSpec(this._url,t):xb(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){zm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){zm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new _b(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Wm(km());var i=function(t,e,n,r,i,o){var s=Gm(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new $m(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function Sb(t,e){return function(t,e){if(e&&Cb(e)){if(t instanceof kb)return new _b(t,e);throw xm("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof kb){var r=e;if(null==r._bucket)throw new ym("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new _b(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw xm('`path` param cannot contain ".."');return Ob(e,n)}return e}(t,e)}(t=Object(Xt.q)(t),e)}var Eb,Ib,Tb=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Pb=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Tb(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Tb(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Tb(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Tb(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ab=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new jb(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new jb(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),jb=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Ob(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Pb(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new yb(t,new Jm(e),n)}(t=Object(Xt.q)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Tm.RAW),this._throwIfRoot("putString");var r=Am(e,t),i=Object(Zi.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Pb(new yb(this._delegate,new Jm(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return[4,wb(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(Xt.q)(t))).then((function(t){return new Ab(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return wb(t=Object(Xt.q)(t),e)}(this._delegate,t||void 0).then((function(t){return new Ab(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=db(t.storage,t._location,ib()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(Xt.q)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=Km(e.fullServerUrl(),t.host),o=sb(n,r),s=t.maxOperationRetryTime,a=new ab(i,"PATCH",ub(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=hb(e),a}(t.storage,t._location,e,ib()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(Xt.q)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=Km(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new ab(r,"GET",function(t,e){return function(n,r){var i=ob(t,r,e);return cb(null!==i),function(t,e,n){var r=Zm(e);if(null===r)return null;if(!qm(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return Km("/b/"+o(t.bucket)+"/o/"+o(r),n)+Gm({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=hb(e),o}(t.storage,t._location,ib()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new ym("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(Xt.q)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=Km(e.fullServerUrl(),t.host),r=new ab(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=hb(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(Xt.q)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Sm(t)},t}(),Mb=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Cb(t))throw xm("ref() expected a child path but got a URL, use refFromURL instead.");return new jb(Sb(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Cb(t))throw xm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Um.makeFromUrl(t,this._delegate.host)}catch(lg){throw xm("refFromUrl() expected a valid full URL but got an invalid one.")}return new jb(Sb(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Rb(t){const e=function(t){return new Et.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=St.a){return n=>n.lift(new gm(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Ft.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Nb(t,e,n){return{getDownloadURL:()=>Object(Tt.a)(void 0).pipe(Object($t.b)(e.outsideAngular),vg(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Tt.a)(void 0).pipe(Object($t.b)(e.outsideAngular),vg(()=>t.getMetadata()),n),delete:()=>Object(It.a)(t.delete()),child:r=>Nb(t.child(r),e,n),updateMetadata:e=>Object(It.a)(t.updateMetadata(e)),put:(e,n)=>Rb(t.put(e,n)),putString:(e,n,r)=>Rb(t.putString(e,n,r)),listAll:()=>Object(It.a)(t.listAll())}}Ib={TaskState:Nm,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Tm,Storage:kb,Reference:jb},(Eb=Yt.a).INTERNAL.registerComponent(new fg.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Mb(r,new kb(r,i,o,new Fm,n,Yt.a.SDK_VERSION))}),"PUBLIC").setServiceProps(Ib).setMultipleInstances(!0)),Eb.registerVersion("@firebase/storage","0.5.2");const Db=new r.t("angularfire2.storageBucket"),Lb=new r.t("angularfire2.storage.maxUploadRetryTime"),Vb=new r.t("angularfire2.storage.maxOperationRetryTime");let Fb=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new kt.d(i),this.keepUnstableUntilFirst=Object(kt.h)(this.schedulers);const a=Object(kt.g)(t,i,e);this.storage=Object(kt.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Nb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Nb(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Nb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(kt.c),r.ac(kt.b,8),r.ac(Db,8),r.ac(r.H),r.ac(r.E),r.ac(Lb,8),r.ac(Vb,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.ac)(kt.c),Object(r.ac)(kt.b,8),Object(r.ac)(Db,8),Object(r.ac)(r.H),Object(r.ac)(r.E),Object(r.ac)(Lb,8),Object(r.ac)(Vb,8))},token:t,providedIn:"any"}),t})(),Ub=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),Wb=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Fb],imports:[Ub]}),t})(),qb=(()=>{let t=class{constructor(t){this.elementRef=t,this.classes=["right","right-t","right-b","left","left-t","left-b","bottom","bottom-r","bottom-l","top","top-r","top-l"],this.offSetValue=5,t.nativeElement.classList.add("smart-tooltip-container")}mouseEnter(){this.elementRef.nativeElement.classList.contains("clicktoshow")||this.myfunc(this.elementRef)}click(){this.elementRef.nativeElement.classList.contains("clicktoshow")&&(this.elementRef.nativeElement.querySelector(".smart-tooltip").classList.add("stick"),this.myfunc(this.elementRef))}mouseLeave(){this.mouseLeft(this.elementRef)}ngOnInit(){let t=this.elementRef.nativeElement.querySelector(".smart-tooltip");t&&(t.tabIndex=1,t.addEventListener("blur",t=>{this.toolTipBlured(t.target)}),t.addEventListener("mouseleave",t=>{this.tooltipMouseLeft(t.target)}),t.addEventListener("mouseenter",t=>{this.tooltipMouseEnter(t.target)}))}toolTipBlured(t){this.removeOverlayClass(t)&&(t.getBoundingClientRect(),t.style.position="",t.style.top="",t.style.left="",t.style.bottom="",t.style.right="",t.classList.add("overlay")),t.style.visibility="collapse",t.style.opacity="0",t.style.display="none"}myfunc(t){clearTimeout(this.mouseLeftTimeOut);let e=this,n=t.nativeElement;if(!n)return;let r=n.querySelector(".smart-tooltip");if(!r)return;r.style.visibility="visible",r.style.opacity="1",r.style.display="block";var i=r.getBoundingClientRect(),o=n.getBoundingClientRect();let s=window.innerWidth,a=window.innerHeight;var c={left:o.left>i.width,right:s-o.right>i.width,top:o.top>i.height,bottom:a-o.bottom>i.height,getSpace:function(t){let n=e.getStayClass(r);return n?n==t:this[t]}};if(this.removeTooltipClass(r),c.getSpace("left")){let t=o.bottom-o.height/2,e=a-t,n=i.height/2;o.height>=i.height||t>n&&e>n?this.manipulateOverlayIfPresent(o,r,"left")||r.classList.add("left"):t<=n?this.manipulateOverlayIfPresent(o,r,"left-b")||r.classList.add("left-b"):e<=n&&(this.manipulateOverlayIfPresent(o,r,"left-t")||r.classList.add("left-t"))}else if(c.getSpace("right")){let t=o.bottom-o.height/2,e=a-t,n=i.height/2;o.height>=i.height||t>n&&e>n?this.manipulateOverlayIfPresent(o,r,"right")||r.classList.add("right"):t<=n?this.manipulateOverlayIfPresent(o,r,"right-b")||r.classList.add("right-b"):e<=n&&(this.manipulateOverlayIfPresent(o,r,"right-t")||r.classList.add("right-t"))}else if(c.getSpace("top")){let t=o.right-o.width/2,e=s-t,n=i.width/2;o.width>=i.width||t>n&&e>n?this.manipulateOverlayIfPresent(o,r,"top")||r.classList.add("top"):t<=n?this.manipulateOverlayIfPresent(o,r,"top-r")||r.classList.add("top-r"):e<=n&&(this.manipulateOverlayIfPresent(o,r,"top-l")||r.classList.add("top-l"))}else if(c.getSpace("bottom")){let t=o.right-o.width/2,e=s-t,n=i.width/2;o.width>=i.width||t>n&&e>n?this.manipulateOverlayIfPresent(o,r,"bottom")||r.classList.add("bottom"):t<=n?this.manipulateOverlayIfPresent(o,r,"bottom-r")||r.classList.add("bottom-r"):e<=n&&(this.manipulateOverlayIfPresent(o,r,"bottom-l")||r.classList.add("bottom-l"))}else this.manipulateOverlayIfPresent(o,r,"bottom")||r.classList.add("bottom")}removeTooltipClass(t){let e=t.classList;e.forEach(t=>{this.classes.includes(t)&&e.remove(t)})}getStayClass(t){let e;return t.classList.forEach(t=>{t.includes("stay-")&&(e=t.split("-")[1])}),e}mouseLeft(t){let e=t.nativeElement;if(!e)return;let n=e.querySelector(".smart-tooltip");if(n){var r=this.getStickyTime(n);isNaN(r)?n.focus():this.mouseLeftTimeOut=setTimeout(()=>{n.classList.contains("hovered")||(this.removeOverlayClass(n)&&(n.getBoundingClientRect(),n.style.position="",n.style.top="",n.style.left="",n.style.bottom="",n.style.right="",n.classList.add("overlay")),n.style.visibility="collapse",n.style.opacity="0",n.style.display="none")},r)}}removeOverlayClass(t){let e=!1;return t.classList.contains("overlayed")&&(e=!0,t.classList.remove("overlayed")),e}removeOverlayMarkClass(t){let e=!1;return t.classList.contains("overlay")&&(e=!0,t.classList.remove("overlay")),e}getOverlayCoordinates(t,e,n){let r=window.innerWidth,i=window.innerHeight;if(n.includes("right")){let r={left:t.right+this.offSetValue,top:t.top+t.height/2-e.height/2,props:["left","top"]};return"right-t"==n?(r.bottom=i-t.bottom,r.props=["left","bottom"]):"right-b"==n&&(r.top=t.top+this.offSetValue),r}if(n.includes("left")){let o={right:r-t.left+this.offSetValue,top:t.top+t.height/2-e.height/2,props:["right","top"]};return"left-t"==n?(o.bottom=i-t.bottom,o.props=["right","bottom"]):"left-b"==n&&(o.top=t.top+this.offSetValue),o}if(n.includes("top")){let o={left:t.right-t.width/2-e.width/2,bottom:i-t.top+this.offSetValue,props:["left","bottom"]};return"top-l"==n?(o.right=r-t.right+this.offSetValue,o.props=["right","bottom"]):"top-r"==n&&(o.left=t.left+this.offSetValue),o}if(n.includes("bottom")){let i={left:t.right-t.width/2-e.width/2,top:t.bottom+this.offSetValue,props:["left","top"]};return"bottom-l"==n?(i.right=r-t.right+this.offSetValue,i.props=["right","top"]):"bottom-r"==n&&(i.left=t.left+this.offSetValue),i}}manipulateOverlayIfPresent(t,e,n){if(this.removeOverlayMarkClass(e)){let r=this.getOverlayCoordinates(t,e.getBoundingClientRect(),n);e.style.position="fixed";for(let t of r.props)e.style[t]=r[t]+"px";return e.classList.add("overlayed"),!0}return!1}getStickyTime(t){try{for(let e of t.classList)if(e.includes("stick"))return e.includes("-")?+e.split("-")[1]:Number.NaN}catch(e){return 0}return 0}tooltipMouseLeft(t){t.classList.contains("hovered")&&(isNaN(this.getStickyTime(t))||(t.classList.add("stayonhover"),t.classList.remove("hovered")))}tooltipMouseEnter(t){t.classList.contains("stayonhover")&&(isNaN(this.getStickyTime(t))||(t.classList.remove("stayonhover"),t.classList.add("hovered")))}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["","smart-tooltip-container",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.dc("mouseenter",(function(){return e.mouseEnter()}))("click",(function(){return e.click()}))("mouseleave",(function(){return e.mouseLeave()})),2&t&&r.xc("position",e.position)}}),t})(),Bb=(()=>{let t=class{constructor(){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.innerHTML="\n            .smart-tooltip-container {\n              position: relative;\n        }\n\n        .smart-tooltip {\n              position: absolute;\n              background-color: #333;\n              border-radius: 5px;\n              color: #eee;\n              padding: 10px 12px;\n              z-index: 100000;\n              top: 50%;\n              -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n              left: 50%;\n              visibility: collapse;\n              /*transition: all .2s;*/\n              opacity: 0;\n              outline: none;\n        }\n\n        .smart-tooltip.left-t {\n              -webkit-transform: none;\n              transform: none;\n              right: calc(100% + 5px);\n              left: initial;\n              top: initial;\n              bottom: 5px;\n\n              \n        }\n\n        .smart-tooltip.left-b {\n              -webkit-transform: none;\n              transform: none;\n              right: calc(100% + 5px);\n              left: initial;\n              top: 5px;\n              bottom: initial;\n        }\n\n        .smart-tooltip.left {\n              right: calc(100% + 5px);\n              left: initial;\n              top: 50%;\n              -webkit-transform: translateY(-50%);\n              transform: translateY(-50%);\n        }\n\n        .smart-tooltip.right-b {\n              -webkit-transform: none;\n              transform: none;\n              left: calc(100% + 5px);\n              top: 5px;\n              right: initial;\n              bottom: initial;    \n        }\n\n        .smart-tooltip.right-t {\n              -webkit-transform: none;\n              transform: none;\n              /* display: none; */\n              left: calc(100% + 5px);\n              top: initial;\n              bottom: 5px;\n        }\n\n        .smart-tooltip.right {\n              left: calc(100% + 5px);\n              top: 50%;\n              bottom: initial;\n              right: initial;\n              -webkit-transform: translateY(-50%);\n              transform: translateY(-50%);\n        }\n\n        .smart-tooltip.bottom-r {\n              /* display: none; */\n              top: calc(100% + 5px);\n              bottom: initial;\n              left: 5px;\n              right:initial;\n              transform: none;\n        }\n        .smart-tooltip.bottom-l {\n              /* display: none; */\n              top: calc(100% + 5px);\n              bottom: initial;\n              right: 5px;\n              left:initial;\n              transform: none;\n        }\n        .smart-tooltip.bottom {\n              /* display: none; */\n              top: calc(100% + 5px);\n              bottom: initial;\n              left: 50%;\n              transform: translateX(-50%);\n        }\n\n        .smart-tooltip.top-r {\n              /* display: none; */\n              bottom: calc(100% + 5px);\n              top: initial;\n              left: 5px;\n              right:initial;\n              transform: none;\n        }\n        .smart-tooltip.top-l {\n              /* display: none; */\n              bottom: calc(100% + 5px);\n              top: initial;\n              right: 5px;\n              left: initial;\n              transform: none;\n        }\n        .smart-tooltip.top {\n              /* display: none; */\n              bottom: calc(100% + 5px);\n              top: initial;\n              left: 50%;\n              transform: translateX(-50%);\n        }\n\n        .smart-tooltip-container .smart-tooltip.overlayed{\n            \n              transform: none;\n              top:initial;\n              right:initial;\n              bottom:initial;\n              left:initial;\n        }\n    ",t.appendChild(e)}};return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[]]}),t})();function Hb(t){return null!=t&&""+t!="false"}function zb(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Kb(t){return t instanceof r.o?t.nativeElement:t}var Gb=n("DH7j"),$b=n("n6bG"),Qb=n("3N8a");class Yb extends Qb.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Xb=n("IjjT");class Jb extends Xb.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Zb=new Jb(Yb);n("7Hc7");class tv{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ev(t,this.durationSelector))}}class ev extends bg.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(bg.c)(n,new bg.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var nv=n("Y7HM");function rv(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function iv(t,e=St.a){return n=()=>function(t=0,e,n){let r=-1;return Object(nv.a)(e)?r=Number(e)<1?1:Number(e):Object(Mt.a)(e)&&(n=e),Object(Mt.a)(n)||(n=St.a),new Et.a(e=>{const i=Object(nv.a)(t)?t:+t-n.now();return n.schedule(rv,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new tv(n))};var n}function ov(t){return e=>e.lift(new sv(t))}class sv{constructor(t){this.notifier=t}call(t,e){const n=new av(t),r=Object(bg.c)(this.notifier,new bg.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class av extends bg.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let cv;try{cv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Kj){cv=!1}let uv,lv,hv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.H))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(r.H))},token:t,providedIn:"root"}),t})();function dv(t){return function(){if(null==uv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uv=!0}))}finally{uv=uv||!1}return uv}()?t:!!t.capture}function fv(t){if(function(){if(null==lv){const t="undefined"!=typeof document?document.head:null;lv=!(!t||!t.createShadowRoot&&!t.attachShadow)}return lv}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const pv=new r.t("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.bb)(a)}});let gv=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.q,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(pv,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(pv,8))},token:t,providedIn:"root"}),t})(),mv=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new gg.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Et.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(iv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Tt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(zt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Kb(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>function t(e,n,r,i){return Object($b.a)(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Object(Ft.a)(t=>Object(Gb.a)(t)?i(...t):i(t))):new Et.a(t=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)})}(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.E),r.ac(hv),r.ac(a,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(r.E),r.ac(hv),r.ac(a,8))},token:t,providedIn:"root"}),t})(),bv=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new gg.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(iv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(hv),r.ac(r.E),r.ac(a,8))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(hv),r.ac(r.E),r.ac(a,8))},token:t,providedIn:"root"}),t})(),vv=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();function yv(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var _v=n("vkgz");function wv(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ov(t,e){const n=e?"":"none";wv(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Cv(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function xv(t,e){return e?t+" "+e:t}function kv(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Sv(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Ev(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Iv(t,e,n){const{top:r,bottom:i,left:o,right:s}=t;return n>=r&&n<=i&&e>=o&&e<=s}function Tv(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Pv(t,e,n,r){const{top:i,right:o,bottom:s,left:a,width:c,height:u}=t,l=c*e,h=u*e;return r>i-h&&r<s+h&&n>a-l&&n<o+l}class Av{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ev(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let o,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,s=t.left}else o=e.scrollTop,s=e.scrollLeft;const a=i.top-o,c=i.left-s;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&Tv(t.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}}function jv(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?Dv(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||Nv(t,e),Mv("canvas",t,e,Dv),Mv("input, textarea, select",t,e,Nv),e}function Mv(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let Rv=0;function Nv(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Rv++}`)}function Dv(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(Kj){}}const Lv=dv({passive:!0}),Vv=dv({passive:!1});class Fv{constructor(t,e,n,r,i,o){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new gg.a,this._pointerMoveSubscription=Og.a.EMPTY,this._pointerUpSubscription=Og.a.EMPTY,this._scrollSubscription=Og.a.EMPTY,this._resizeSubscription=Og.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new gg.a,this.started=new gg.a,this.released=new gg.a,this.ended=new gg.a,this.entered=new gg.a,this.exited=new gg.a,this.dropped=new gg.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Av(n,i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Hb(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Ov(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Kb(t)),this._handles.forEach(t=>Ov(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Kb(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Vv),e.addEventListener("touchstart",this._pointerDown,Lv)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Kb(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&qv(this._rootElement),qv(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ov(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ov(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&qv(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&qv(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Bv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,r=this._placeholder=this._createPlaceholderElement(),i=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();n.insertBefore(i,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),Cv(t,!1),this._document.body.appendChild(n.replaceChild(r,t)),this._getPreviewInsertionPoint(n,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=Bv(e),i=!r&&0!==e.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Ev(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Cv(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i,dropPoint:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i,dropPoint:r}),e.drop(this,n,this._initialIndex,this._initialContainer,o,i,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Hv(i,this._document),this._previewRef=i,t.matchSize?zv(r,e):r.style.transform=Uv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=jv(t),zv(r,t.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return wv(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Ov(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Sv(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),o=Sv(e,"transition-duration"),s=Sv(e,"transition-delay");return kv(o[i])+kv(s[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Hv(this._placeholderRef,this._document)):n=jv(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=Bv(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-s.left),y:i.top-n.top+(o.pageY-i.top-s.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Bv(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,o=this._previewRect,s=i.top+e,a=i.bottom-(o.height-e);n=Wv(n,i.left+t,i.right-(o.width-t)),r=Wv(r,s,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ov(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Vv),t.removeEventListener("touchstart",this._pointerDown,Lv)}_applyRootElementTransform(t,e){const n=Uv(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=xv(n,this._initialTransform)}_applyPreviewTransform(t,e){var n;const r=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,i=Uv(t,e);this._preview.style.transform=xv(i,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,o=r.right-n.right,s=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),o>0&&(t-=o)):t=0,n.height>r.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Bv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&Tv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=fv(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const t=this._document;return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return Kb(n)}}function Uv(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Wv(t,e,n){return Math.max(e,Math.min(n,t))}function qv(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Bv(t){return"t"===t.type[0]}function Hv(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function zv(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=Uv(e.left,e.top)}function Kv(t,e,n){const r=$v(e,t.length-1),i=$v(n,t.length-1);if(r===i)return;const o=t[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)t[a]=t[a+s];t[i]=o}function Gv(t,e,n,r){const i=$v(n,t.length-1),o=$v(r,e.length);t.length&&e.splice(o,0,t.splice(i,1)[0])}function $v(t,e){return Math.max(0,Math.min(e,t))}class Qv{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new gg.a,this.entered=new gg.a,this.exited=new gg.a,this.dropped=new gg.a,this.sorted=new gg.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Og.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new gg.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=St.a){return(!Object(nv.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=St.a),new Et.a(n=>(n.add(e.schedule(yv,t,{subscriber:n,counter:0,period:t})),n))}(0,Zb).pipe(ov(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?Xv(t,-e):2===this._verticalScrollDirection&&Xv(t,e),1===this._horizontalScrollDirection?Jv(t,-e):2===this._horizontalScrollDirection&&Jv(t,e)})},this.element=Kb(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Av(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement();let c=o[i];if(c===t&&(c=o[i+1]),s>-1&&o.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),o.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=o[0].getRootElement();e.parentNode.insertBefore(a,e),o.unshift(t)}else Kb(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,o,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:o,dropPoint:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Kb(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Yv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!Pv(this._clientRect,.05,e,n))return;const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===o&&i.length>0)return;const s="horizontal"===this._orientation,a=Yv(i,e=>e.drag===t),c=i[o],u=c.clientRect,l=a>o?1:-1,h=this._getItemOffsetPx(i[a].clientRect,u,l),d=this._getSiblingOffsetPx(a,i,l),f=i.slice();Kv(i,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?h:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,s?(o.style.transform=xv(`translate3d(${Math.round(e.offset)}px, 0, 0)`,e.initialTransform),Tv(e.clientRect,0,i)):(o.style.transform=xv(`translate3d(0, ${Math.round(e.offset)}px, 0)`,e.initialTransform),Tv(e.clientRect,i,0))}),this._previousSwap.overlaps=Iv(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!n&&Pv(o.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=Zv(e,r),o=ty(e,n);let s=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,t,e),(r||i)&&(n=s))}),!r&&!i){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};r=Zv(a,e),i=ty(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Kb(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Kb(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:Ev(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Kb(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var e;const n=t.getRootElement();if(n){const r=null===(e=this._itemPositions.find(e=>e.drag===t))||void 0===e?void 0:e.initialTransform;n.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n];let s=i[r?"width":"height"]*n;if(o){const t=r?"left":"top",e=r?"right":"bottom";-1===n?s-=o.clientRect[t]-i[e]:s+=i[t]-o.clientRect[e]}return s}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation,o=Yv(this._itemPositions,({drag:o,clientRect:s},a,c)=>{if(o===t)return c.length<2;if(r){const t=i?r.x:r.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(s.left)&&e<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Iv(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!Iv(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Kb(this.element);return r===i||i.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Tv(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=fv(Kb(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function Yv(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Xv(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Jv(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Zv(t,e){const{top:n,bottom:r,height:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}function ty(t,e){const{left:n,right:r,width:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=r-o&&e<=r+o?2:0}const ey=dv({passive:!1,capture:!0});let ny=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new gg.a,this.pointerUp=new gg.a,this.scroll=new gg.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ey)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ey)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ey}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:ey}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.E),r.ac(a))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(r.E),r.ac(a))},token:t,providedIn:"root"}),t})();const ry={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let iy=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=ry){return new Fv(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Qv(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a),r.ac(r.E),r.ac(bv),r.ac(ny))},t.\u0275prov=r.Nb({factory:function(){return new t(r.ac(a),r.ac(r.E),r.ac(bv),r.ac(ny))},token:t,providedIn:"root"}),t})();const oy=new r.t("CDK_DRAG_PARENT"),sy=new r.t("CdkDropListGroup");let ay=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Hb(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[r.Gb([{provide:sy,useExisting:t}])]}),t})();const cy=new r.t("CDK_DRAG_CONFIG");let uy=0;const ly=new r.t("CdkDropList");let hy=(()=>{class t{constructor(e,n,i,o,s,a,c){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new gg.a,this.connectedTo=[],this.id="cdk-drop-list-"+uy++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.q,this.entered=new r.q,this.exited=new r.q,this.sorted=new r.q,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Hb(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Rt(this._dir.value),ov(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=(r=this.connectedTo,Array.isArray(r)?r:[r]).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);var r;if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Hb(this.sortingDisabled),e.autoScrollDisabled=Hb(this.autoScrollDisabled),e.autoScrollStep=zb(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:o}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=o||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o),r.Rb(iy),r.Rb(r.i),r.Rb(mv),r.Rb(gv,8),r.Rb(sy,12),r.Rb(cy,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Ib("id",e.id),r.Jb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.Gb([{provide:sy,useValue:void 0},{provide:ly,useExisting:t}])]}),t._dropLists=[],t})();const dy=new r.t("CdkDragHandle"),fy=new r.t("CdkDragPlaceholder"),py=new r.t("CdkDragPreview");let gy=(()=>{class t{constructor(e,n,i,o,s,a,c,u,l,h,d){this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=s,this._dir=c,this._changeDetectorRef=l,this._selfHandle=h,this._parentDrag=d,this._destroyed=new gg.a,this.started=new r.q,this.released=new r.q,this.ended=new r.q,this.entered=new r.q,this.exited=new r.q,this.dropped=new r.q,this.moved=new Et.a(t=>{const e=this._dragRef.moved.pipe(Object(Ft.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Hb(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Ag(1),ov(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Rt(this._handles),Object(_v.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),vg(t=>Object(mg.a)(...t.map(t=>t._stateChanges.pipe(Rt(t))))),ov(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?my(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?my(this.element.nativeElement,t):Kb(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:zb(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Ag(1)).subscribe(()=>{var n,r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(null===(n=i.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(r=t._dragInstances.find(t=>t.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:o,draggingDisabled:s,rootElementSelector:a,previewContainer:c}=t;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a),c&&(this.previewContainer=c)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o),r.Rb(ly,12),r.Rb(a),r.Rb(r.E),r.Rb(r.W),r.Rb(cy,8),r.Rb(gv,8),r.Rb(iy),r.Rb(r.i),r.Rb(dy,10),r.Rb(oy,12))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Kb(n,py,!0),r.Kb(n,fy,!0),r.Kb(n,dy,!0)),2&t&&(r.rc(i=r.ec())&&(e._previewTemplate=i.first),r.rc(i=r.ec())&&(e._placeholderTemplate=i.first),r.rc(i=r.ec())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Gb([{provide:oy,useExisting:t}]),r.Fb]}),t._dragInstances=[],t})();function my(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let by=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[iy],imports:[vv]}),t})();function vy(t,e){if(1&t){var n=r.Xb();r.Wb(0,"a",11),r.dc("keyup.enter",(function(){return r.tc(n),r.hc(3),r.sc(1).previous()}))("click",(function(){return r.tc(n),r.hc(3),r.sc(1).previous()})),r.Ac(1),r.Wb(2,"span",12),r.Ac(3),r.Vb(),r.Vb()}if(2&t){var i=r.hc(3);r.Ib("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.Hb(1),r.Cc(" ",i.previousLabel," "),r.Hb(2),r.Bc(i.screenReaderPageLabel)}}function yy(t,e){if(1&t&&(r.Wb(0,"span"),r.Ac(1),r.Wb(2,"span",12),r.Ac(3),r.Vb(),r.Vb()),2&t){var n=r.hc(3);r.Hb(1),r.Cc(" ",n.previousLabel," "),r.Hb(2),r.Bc(n.screenReaderPageLabel)}}function _y(t,e){if(1&t&&(r.Wb(0,"li",8),r.yc(1,vy,4,3,"a",9),r.yc(2,yy,4,2,"span",10),r.Vb()),2&t){r.hc(2);var n=r.sc(1);r.Jb("disabled",n.isFirstPage()),r.Hb(1),r.mc("ngIf",1<n.getCurrent()),r.Hb(1),r.mc("ngIf",n.isFirstPage())}}function wy(t,e){if(1&t){var n=r.Xb();r.Wb(0,"a",11),r.dc("keyup.enter",(function(){r.tc(n);var t=r.hc().$implicit;return r.hc(2),r.sc(1).setCurrent(t.value)}))("click",(function(){r.tc(n);var t=r.hc().$implicit;return r.hc(2),r.sc(1).setCurrent(t.value)})),r.Wb(1,"span",12),r.Ac(2),r.Vb(),r.Wb(3,"span"),r.Ac(4),r.ic(5,"number"),r.Vb(),r.Vb()}if(2&t){var i=r.hc().$implicit,o=r.hc(2);r.Hb(2),r.Cc("",o.screenReaderPageLabel," "),r.Hb(2),r.Bc("..."===i.label?i.label:r.jc(5,2,i.label,""))}}function Oy(t,e){if(1&t&&(r.Ub(0),r.Wb(1,"span",12),r.Ac(2),r.Vb(),r.Wb(3,"span"),r.Ac(4),r.ic(5,"number"),r.Vb(),r.Tb()),2&t){var n=r.hc().$implicit,i=r.hc(2);r.Hb(2),r.Cc("",i.screenReaderCurrentLabel," "),r.Hb(2),r.Bc("..."===n.label?n.label:r.jc(5,2,n.label,""))}}function Cy(t,e){if(1&t&&(r.Wb(0,"li"),r.yc(1,wy,6,5,"a",9),r.yc(2,Oy,6,5,"ng-container",10),r.Vb()),2&t){var n=e.$implicit;r.hc(2);var i=r.sc(1);r.Jb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.Hb(1),r.mc("ngIf",i.getCurrent()!==n.value),r.Hb(1),r.mc("ngIf",i.getCurrent()===n.value)}}function xy(t,e){if(1&t){var n=r.Xb();r.Wb(0,"a",11),r.dc("keyup.enter",(function(){return r.tc(n),r.hc(3),r.sc(1).next()}))("click",(function(){return r.tc(n),r.hc(3),r.sc(1).next()})),r.Ac(1),r.Wb(2,"span",12),r.Ac(3),r.Vb(),r.Vb()}if(2&t){var i=r.hc(3);r.Ib("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.Hb(1),r.Cc(" ",i.nextLabel," "),r.Hb(2),r.Bc(i.screenReaderPageLabel)}}function ky(t,e){if(1&t&&(r.Wb(0,"span"),r.Ac(1),r.Wb(2,"span",12),r.Ac(3),r.Vb(),r.Vb()),2&t){var n=r.hc(3);r.Hb(1),r.Cc(" ",n.nextLabel," "),r.Hb(2),r.Bc(n.screenReaderPageLabel)}}function Sy(t,e){if(1&t&&(r.Wb(0,"li",13),r.yc(1,xy,4,3,"a",9),r.yc(2,ky,4,2,"span",10),r.Vb()),2&t){r.hc(2);var n=r.sc(1);r.Jb("disabled",n.isLastPage()),r.Hb(1),r.mc("ngIf",!n.isLastPage()),r.Hb(1),r.mc("ngIf",n.isLastPage())}}function Ey(t,e){if(1&t&&(r.Wb(0,"ul",3),r.yc(1,_y,3,4,"li",4),r.Wb(2,"li",5),r.Ac(3),r.Vb(),r.yc(4,Cy,3,6,"li",6),r.yc(5,Sy,3,4,"li",7),r.Vb()),2&t){var n=r.hc(),i=r.sc(1);r.Jb("responsive",n.responsive),r.Ib("aria-label",n.screenReaderPaginationLabel),r.Hb(1),r.mc("ngIf",n.directionLinks),r.Hb(2),r.Dc(" ",i.getCurrent()," / ",i.getLastPage()," "),r.Hb(1),r.mc("ngForOf",i.pages)("ngForTrackBy",n.trackByIndex),r.Hb(1),r.mc("ngIf",n.directionLinks)}}var Iy=function(){function t(){this.change=new r.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ty=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Py=Number.MAX_SAFE_INTEGER,Ay=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,c=s.itemsPerPage,u=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(c=+c||Py),i=r+c))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return u&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every((function(t,r){return t===e[n+r]}))},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([Ty("design:paramtypes",[Iy])],t)).\u0275fac=function(e){return new(e||t)(r.Rb(Iy))},t.\u0275pipe=r.Qb({name:"paginate",type:t,pure:!1}),t}(),jy=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},My=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function Ry(t){return!!t&&"false"!==t}var Ny=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=Ry(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=Ry(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=Ry(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},jy([Object(r.v)(),My("design:type",String)],t.prototype,"id",void 0),jy([Object(r.v)(),My("design:type",Number)],t.prototype,"maxSize",void 0),jy([Object(r.v)(),My("design:type",Boolean),My("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),jy([Object(r.v)(),My("design:type",Boolean),My("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),jy([Object(r.v)(),My("design:type",Boolean),My("design:paramtypes",[Boolean])],t.prototype,"responsive",null),jy([Object(r.v)(),My("design:type",String)],t.prototype,"previousLabel",void 0),jy([Object(r.v)(),My("design:type",String)],t.prototype,"nextLabel",void 0),jy([Object(r.v)(),My("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),jy([Object(r.v)(),My("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),jy([Object(r.v)(),My("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),jy([Object(r.G)(),My("design:type",r.q)],t.prototype,"pageChange",void 0),jy([Object(r.G)(),My("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.Wb(0,"pagination-template",0,1),r.dc("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),r.yc(2,Ey,6,9,"ul",2),r.Vb()),2&t){var n=r.sc(1);r.mc("id",e.id)("maxSize",e.maxSize),r.Hb(2),r.mc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[Vy,U,V]},pipes:function(){return[H]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),Dy=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vy=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.max(Math.ceil(n/e),1),s=Math.ceil(r/2),a=t<=s,c=o-s<t,u=!a&&!c,l=r<o,h=1;h<=o&&h<=r;){var d=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(u||c)||h===r-1&&(u||a))?"...":d,value:d}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},Dy([Object(r.v)(),Ly("design:type",String)],t.prototype,"id",void 0),Dy([Object(r.v)(),Ly("design:type",Number)],t.prototype,"maxSize",void 0),Dy([Object(r.G)(),Ly("design:type",r.q)],t.prototype,"pageChange",void 0),Dy([Object(r.G)(),Ly("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),(t=Dy([Ly("design:paramtypes",[Iy,r.i])],t)).\u0275fac=function(e){return new(e||t)(r.Rb(Iy),r.Rb(r.i))},t.\u0275dir=r.Mb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.Fb]}),t}(),Fy=function(){function t(){}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Iy],imports:[[z]]}),t}(),Uy=n("5+tZ");function Wy(t,e){return Object(Uy.a)(t,e,1)}class qy{}class By{}class Hy{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Hy?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Hy;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Hy?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class zy{encodeKey(t){return Ky(t)}encodeValue(t){return Ky(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ky(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Gy{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Gy({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function $y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Qy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Yy(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xy{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Hy),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Gy,this.urlWithParams=e}serializeBody(){return null===this.body?null:$y(this.body)||Qy(this.body)||Yy(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yy(this.body)?null:Qy(this.body)?this.body.type||null:$y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Xy(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Jy=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Zy{constructor(t,e=200,n="OK"){this.headers=t.headers||new Hy,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class t_ extends Zy{constructor(t={}){super(t),this.type=Jy.ResponseHeader}clone(t={}){return new t_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class e_ extends Zy{constructor(t={}){super(t),this.type=Jy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new e_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class n_ extends Zy{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function r_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let i_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Xy)r=t;else{let i=void 0;i=n.headers instanceof Hy?n.headers:new Hy(n.headers);let o=void 0;n.params&&(o=n.params instanceof Gy?n.params:new Gy({fromObject:n.params})),r=new Xy(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Tt.a)(r).pipe(Wy(t=>this.handler.handle(t)));if(t instanceof Xy||"events"===n.observe)return i;const o=i.pipe(zt(t=>t instanceof e_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Ft.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Ft.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Gy).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,r_(n,e))}post(t,e,n={}){return this.request("POST",t,r_(n,e))}put(t,e,n={}){return this.request("PUT",t,r_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(qy))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class o_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const s_=new r.t("HTTP_INTERCEPTORS");let a_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const c_=/^\)\]\}',?\n/;class u_{}let l_=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),h_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Et.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Hy(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new t_({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(c_,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new e_({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new n_({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new n_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:Jy.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Jy.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Jy.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(u_))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const d_=new r.t("XSRF_COOKIE_NAME"),f_=new r.t("XSRF_HEADER_NAME");class p_{}let g_=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=D(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a),r.ac(r.H),r.ac(d_))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),m_=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(p_),r.ac(f_))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),b_=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(s_,[]);this.chain=t.reduceRight((t,e)=>new o_(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(By),r.ac(r.u))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),v_=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:m_,useClass:a_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:d_,useValue:e.cookieName}:[],e.headerName?{provide:f_,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[m_,{provide:s_,useExisting:m_,multi:!0},{provide:p_,useClass:g_},{provide:d_,useValue:"XSRF-TOKEN"},{provide:f_,useValue:"X-XSRF-TOKEN"}]}),t})(),y_=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[i_,{provide:qy,useClass:b_},h_,{provide:By,useExisting:h_},l_,{provide:u_,useExisting:l_}],imports:[[v_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var __=n("XoHu");function w_(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(It.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const O_=new r.t("NgValueAccessor"),C_={provide:O_,useExisting:Object(r.ab)(()=>x_),multi:!0};let x_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.dc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Gb([C_])]}),t})();const k_={provide:O_,useExisting:Object(r.ab)(()=>E_),multi:!0},S_=new r.t("CompositionEventMode");let E_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o),r.Rb(S_,8))},t.\u0275dir=r.Mb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.dc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Gb([k_])]}),t})(),I_=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})(),T_=(()=>{class t extends I_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return P_(e||t)},t.\u0275dir=r.Mb({type:t,features:[r.Eb]}),t})();const P_=r.Yb(T_);class A_ extends I_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class j_{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let M_=(()=>{class t extends j_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(A_,2))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Eb]}),t})(),R_=(()=>{class t extends j_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(T_,2))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Eb]}),t})();function N_(t){return null==t||0===t.length}function D_(t){return null!=t&&"number"==typeof t.length}const L_=new r.t("NgValidators"),V_=new r.t("NgAsyncValidators"),F_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U_{static min(t){return e=>{if(N_(e.value)||N_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(N_(e.value)||N_(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return N_(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return N_(t.value)||F_.test(t.value)?null:{email:!0}}static minLength(t){return e=>N_(e.value)||!D_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>D_(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return U_.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(N_(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(W_);return 0==e.length?null:function(t){return B_(H_(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(W_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Gb.a)(e))return w_(e,null);if(Object(__.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return w_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return w_(t=1===t.length&&Object(Gb.a)(t[0])?t[0]:t,null).pipe(Object(Ft.a)(t=>e(...t)))}return w_(t,null)}(H_(t,e).map(q_)).pipe(Object(Ft.a)(B_))}}}function W_(t){return null!=t}function q_(t){const e=Object(r.yb)(t)?Object(It.a)(t):t;return Object(r.xb)(e),e}function B_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function H_(t,e){return e.map(e=>e(t))}function z_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const K_={provide:O_,useExisting:Object(r.ab)(()=>G_),multi:!0};let G_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.dc("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Gb([K_])]}),t})();const $_={provide:O_,useExisting:Object(r.ab)(()=>Y_),multi:!0};let Q_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Y_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(A_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o),r.Rb(Q_),r.Rb(r.u))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.dc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Gb([$_])]}),t})();const X_={provide:O_,useExisting:Object(r.ab)(()=>J_),multi:!0};let J_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.dc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Gb([X_])]}),t})();const Z_={provide:O_,useExisting:Object(r.ab)(()=>ew),multi:!0};function tw(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ew=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=tw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.dc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Gb([Z_])]}),t})(),nw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o),r.Rb(r.K),r.Rb(ew,9))},t.\u0275dir=r.Mb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const rw={provide:O_,useExisting:Object(r.ab)(()=>ow),multi:!0};function iw(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ow=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.dc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Gb([rw])]}),t})(),sw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(iw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(iw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.o),r.Rb(r.K),r.Rb(ow,9))},t.\u0275dir=r.Mb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function aw(t,e){t.validator=U_.compose([t.validator,e.validator]),t.asyncValidator=U_.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function cw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uw(t,e){t.validator=U_.compose([t.validator,e.validator]),t.asyncValidator=U_.composeAsync([t.asyncValidator,e.asyncValidator])}function lw(t){return null!=t?U_.compose(z_(t)):null}function hw(t){return null!=t?U_.composeAsync(z_(t)):null}const dw=[x_,J_,G_,ew,ow,Y_],fw="VALID",pw="INVALID",gw="PENDING",mw="DISABLED";function bw(t){return(ww(t)?t.validators:t)||null}function vw(t){return Array.isArray(t)?lw(t):t||null}function yw(t,e){return(ww(e)?e.asyncValidators:t)||null}function _w(t){return Array.isArray(t)?hw(t):t||null}function ww(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ow{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=vw(this._rawValidators),this._composedAsyncValidatorFn=_w(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fw}get invalid(){return this.status===pw}get pending(){return this.status==gw}get disabled(){return this.status===mw}get enabled(){return this.status!==mw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=vw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_w(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fw&&this.status!==gw||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mw:fw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gw,this._hasOwnPendingAsyncValidator=!0;const e=q_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof xw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof kw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.q,this.statusChanges=new r.q}_calculateStatus(){return this._allControlsDisabled()?mw:this.errors?pw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gw)?gw:this._anyControlsHaveStatus(pw)?pw:fw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ww(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Cw extends Ow{constructor(t=null,e,n){super(bw(e),yw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class xw extends Ow{constructor(t,e,n){super(bw(e),yw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Cw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class kw extends Ow{constructor(t,e,n){super(bw(e),yw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Cw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Sw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ew=new r.t("NgModelWithFormControlWarning"),Iw={provide:T_,useExisting:Object(r.ab)(()=>Tw)};let Tw=(()=>{class t extends T_{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.q}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return aw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);uw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);uw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&aw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=lw(this._validators);this.form.validator=U_.compose([this.form.validator,t]);const e=hw(this._asyncValidators);this.form.asyncValidator=U_.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(L_,10),r.Rb(V_,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.dc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Gb([Iw]),r.Eb,r.Fb]}),t})();const Pw={provide:A_,useExisting:Object(r.ab)(()=>Aw)};let Aw=(()=>{class t extends A_{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.q,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===E_?n=t:(e=t,dw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(function(t,e,n,i){Object(r.cb)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return lw(this._rawValidators)}get asyncValidator(){return hw(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(T_,13),r.Rb(L_,10),r.Rb(V_,10),r.Rb(O_,10),r.Rb(Ew,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Gb([Pw]),r.Eb,r.Fb]}),t._ngModelWarningSentOnce=!1,t})(),jw=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),Mw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new xw(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Cw(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new kw(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Cw||t instanceof xw||t instanceof kw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Rw=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Q_],imports:[jw]}),t})(),Nw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ew,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Mw,Q_],imports:[jw]}),t})();class Dw extends gg.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cg.a;return this._value}next(t){super.next(this._value=t)}}class Lw extends Nt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Vw extends Nt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fw=n("SeVD");function Uw(t,e,n,r,i=new Vw(t,n,r)){if(!i.closed)return e instanceof Et.a?e.subscribe(i):Object(Fw.a)(e)(i)}var Ww=n("yCtX");const qw={};class Bw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Hw(t,this.resultSelector))}}class Hw extends Lw{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(qw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Uw(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===qw?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function zw(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(Pg.b)()).subscribe(e)})}function Kw(t){return function(e){return 0===t?Object(Pg.b)():e.lift(new Gw(t))}}class Gw{constructor(t){if(this.total=t,this.total<0)throw new Tg}call(t,e){return e.subscribe(new $w(t,this.total))}}class $w extends Nt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Qw(t){return function(e){const n=new Yw(t),r=e.lift(n);return n.caught=r}}class Yw{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Xw(t,this.selector,this.caught))}}class Xw extends bg.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new bg.a(this);this.add(r);const i=Object(bg.c)(n,r);i!==r&&this.add(i)}}}function Jw(t){return e=>e.lift(new Zw(t))}class Zw{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tO(t,this.callback))}}class tO extends Nt.a{constructor(t,e){super(t),this.add(new Og.a(e))}}class eO{constructor(t,e){this.id=t,this.url=e}}class nO extends eO{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rO extends eO{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iO extends eO{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oO extends eO{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sO extends eO{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aO extends eO{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cO extends eO{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uO extends eO{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lO extends eO{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hO{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dO{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bO{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vO="primary";class yO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _O(t){return new yO(t)}function wO(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function OO(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function CO(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xO(t[i],e[i]))return!1;return!0}function xO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function kO(t){return Array.prototype.concat.apply([],t)}function SO(t){return t.length>0?t[t.length-1]:null}function EO(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function IO(t){return Object(r.xb)(t)?t:Object(r.yb)(t)?Object(It.a)(Promise.resolve(t)):Object(Tt.a)(t)}function TO(t,e,n){return n?function(t,e){return CO(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!MO(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xO(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!MO(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!MO(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!MO(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class PO{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_O(this.queryParams)),this._queryParamMap}toString(){return LO.serialize(this)}}class AO{constructor(t,e){this.segments=t,this.children=e,this.parent=null,EO(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return VO(this)}}class jO{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_O(this.parameters)),this._parameterMap}toString(){return HO(this)}}function MO(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function RO(t,e){let n=[];return EO(t.children,(t,r)=>{r===vO&&(n=n.concat(e(t,r)))}),EO(t.children,(t,r)=>{r!==vO&&(n=n.concat(e(t,r)))}),n}class NO{}class DO{parse(t){const e=new QO(t);return new PO(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return VO(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return EO(e.children,(e,n)=>{n!==vO&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=RO(e,(n,r)=>r===vO?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${VO(e)}/${n[0]}`:`${VO(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${UO(e)}=${UO(t)}`).join("&"):`${UO(e)}=${UO(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const LO=new DO;function VO(t){return t.segments.map(t=>HO(t)).join("/")}function FO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function UO(t){return FO(t).replace(/%3B/gi,";")}function WO(t){return FO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qO(t){return decodeURIComponent(t)}function BO(t){return qO(t.replace(/\+/g,"%20"))}function HO(t){return`${WO(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${WO(t)}=${WO(e[t])}`).join("")}`;var e}const zO=/^[^\/()?;=#]+/;function KO(t){const e=t.match(zO);return e?e[0]:""}const GO=/^[^=?&#]+/,$O=/^[^?&#]+/;class QO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new AO([],{}):new AO([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new AO(t,e)),n}parseSegment(){const t=KO(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new jO(qO(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=KO(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=KO(this.remaining);t&&(n=t,this.capture(n))}t[qO(e)]=qO(n)}parseQueryParam(t){const e=function(t){const e=t.match(GO);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($O);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=BO(e),i=BO(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=KO(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vO);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new AO([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class YO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=XO(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=XO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=JO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return JO(t,this._root).map(t=>t.value)}}function XO(t,e){if(t===e.value)return e;for(const n of e.children){const e=XO(t,n);if(e)return e}return null}function JO(t,e){if(t===e.value)return[e];for(const n of e.children){const r=JO(t,n);if(r.length)return r.unshift(e),r}return[]}class ZO{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tC(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class eC extends YO{constructor(t,e){super(t),this.snapshot=e,aC(this,t)}toString(){return this.snapshot.toString()}}function nC(t,e){const n=function(t,e){const n=new oC([],{},{},"",{},vO,e,null,t.root,-1,{});return new sC("",new ZO(n,[]))}(t,e),r=new Dw([new jO("",{})]),i=new Dw({}),o=new Dw({}),s=new Dw({}),a=new Dw(""),c=new rC(r,i,s,a,o,vO,e,n.root);return c.snapshot=n.root,new eC(new ZO(c,[]),n)}class rC{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ft.a)(t=>_O(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ft.a)(t=>_O(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class oC{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_O(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_O(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sC extends YO{constructor(t,e){super(e),this.url=t,aC(this,e)}toString(){return cC(this._root)}}function aC(t,e){e.value._routerState=t,e.children.forEach(e=>aC(t,e))}function cC(t){const e=t.children.length>0?` { ${t.children.map(cC).join(", ")} } `:"";return`${t.value}${e}`}function uC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,CO(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),CO(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!CO(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),CO(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lC(t,e){return CO(t.params,e.params)&&function(t,e){return MO(t,e)&&t.every((t,n)=>CO(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||lC(t.parent,e.parent))}function hC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dC(t,e,n,r,i){let o={};return r&&EO(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new PO(n.root===t?e:function t(e,n,r){const i={};return EO(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new AO(e.segments,i)}(n.root,t,e),o,i)}class fC{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hC(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==SO(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pC{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gC(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mC(t,e,n){if(t||(t=new AO([],{})),0===t.segments.length&&t.hasChildren())return bC(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=gC(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!wC(s,a,e))return o;r+=2}else{if(!wC(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new AO(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new AO(t.segments.slice(r.pathIndex),t.children),bC(e,0,i)}return r.match&&0===i.length?new AO(t.segments,{}):r.match&&!t.hasChildren()?vC(t,e,n):r.match?bC(t,0,i):vC(t,e,n)}function bC(t,e,n){if(0===n.length)return new AO(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[vO]:t}}(n),i={};return EO(r,(n,r)=>{null!==n&&(i[r]=mC(t.children[r],e,n))}),EO(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new AO(t.segments,i)}}function vC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=yC(n[i].outlets);return new AO(r,t)}if(0===i&&hC(n[0])){r.push(new jO(t.segments[e].path,n[0])),i++;continue}const o=gC(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&hC(s)?(r.push(new jO(o,_C(s))),i+=2):(r.push(new jO(o,{})),i++)}return new AO(r,{})}function yC(t){const e={};return EO(t,(t,n)=>{null!==t&&(e[n]=vC(new AO([],{}),0,t))}),e}function _C(t){const e={};return EO(t,(t,n)=>e[n]=""+t),e}function wC(t,e,n){return t==n.path&&CO(e,n.parameters)}class OC{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),uC(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=tC(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),EO(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=tC(t),i=t.value.component?n.children:e;EO(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=tC(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mO(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pO(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(uC(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),CC(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function CC(t){uC(t.value),t.children.forEach(CC)}class xC{constructor(t,e){this.routes=t,this.module=e}}function kC(t){return"function"==typeof t}function SC(t){return t instanceof PO}const EC=Symbol("INITIAL_VALUE");function IC(){return vg(t=>function(...t){let e=void 0,n=void 0;return Object(Mt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Gb.a)(t[0])&&(t=t[0]),Object(Ww.a)(t,n).lift(new Bw(e))}(...t.map(t=>t.pipe(Ag(1),Rt(EC)))).pipe(Ut((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==EC)return t;if(r===EC&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||SC(r))return r}return t},t)},EC),zt(t=>t!==EC),Object(Ft.a)(t=>SC(t)?t:!0===t),Ag(1)))}class TC{constructor(t){this.segmentGroup=t||null}}class PC{constructor(t){this.urlTree=t}}function AC(t){return new Et.a(e=>e.error(new TC(t)))}function jC(t){return new Et.a(e=>e.error(new PC(t)))}function MC(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class RC{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.C)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vO).pipe(Object(Ft.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qw(t=>{if(t instanceof PC)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof TC)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vO).pipe(Object(Ft.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Qw(t=>{if(t instanceof TC)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new AO([],{[vO]:t}):t;return new PO(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ft.a)(t=>new AO([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Tt.a)({});const n=[],r=[],i={};return EO(t,(t,o)=>{const s=e(o,t).pipe(Object(Ft.a)(t=>i[o]=t));o===vO?n.push(s):r.push(s)}),Tt.a.apply(null,n.concat(r)).pipe(At(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zt((e,n)=>t(e,n,r)):Wg.a,Kw(1),n?Rg(e):Lg(()=>new Ig))}(),Object(Ft.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Tt.a)(...n).pipe(Wy(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Qw(t=>{if(t instanceof TC)return Object(Tt.a)(null);throw t}))),qg(t=>!!t),Qw((t,n)=>{if(t instanceof Ig||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Tt.a)(new AO([],{}));throw new TC(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return VC(r)!==o?AC(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):AC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jC(i):this.lineralizeSegments(n,i).pipe(Object(Uy.a)(n=>{const i=new AO(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=NC(e,r,i);if(!s)return AC(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?jC(l):this.lineralizeSegments(r,l).pipe(Object(Uy.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ft.a)(t=>(n._loadedConfig=t,new AO(r,{})))):Object(Tt.a)(new AO(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=NC(e,n,r);if(!i)return AC(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Uy.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>LC(t,e,n)&&VC(n)!==vO)}(t,n,r)?{segmentGroup:DC(new AO(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&VC(r)!==vO&&(n[VC(r)]=new AO([],{}));return n}(r,new AO(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>LC(t,e,n))}(t,n,r)?{segmentGroup:DC(new AO(t.segments,function(t,e,n,r){const i={};for(const o of n)LC(t,e,o)&&!r[VC(o)]&&(i[VC(o)]=new AO([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ft.a)(t=>new AO(o,t))):0===r.length&&0===s.length?Object(Tt.a)(new AO(o,{})):this.expandSegment(n,i,r,s,vO,!0).pipe(Object(Ft.a)(t=>new AO(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Tt.a)(new xC(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Uy.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ft.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(wO(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Tt.a)(new xC([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&kC(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!kC(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return IO(o)});return Object(Tt.a)(i).pipe(IC(),Object(_v.a)(t=>{if(!SC(t))return;const e=wO(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ft.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Tt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return MC(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new PO(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return EO(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return EO(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new AO(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function NC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||OO)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function DC(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new AO(t.segments.concat(e.segments),e.children)}return t}function LC(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function VC(t){return t.outlet||vO}class FC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class UC{constructor(t,e){this.component=t,this.route=e}}function WC(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=tC(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!MO(t.url,e.url);case"pathParamsOrQueryParamsChange":return!MO(t.url,e.url)||!CO(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lC(t,e)||!CO(t.queryParams,e.queryParams);case"paramsChange":default:return!lC(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new FC(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new UC(c.outlet.component,a))}else a&&BC(n,c,o),o.canActivateChecks.push(new FC(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),EO(s,(t,e)=>BC(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function qC(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function BC(t,e,n){const r=tC(t),i=t.value;EO(r,(t,r)=>{BC(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new UC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function HC(t,e){return null!==t&&e&&e(new gO(t)),Object(Tt.a)(!0)}function zC(t,e){return null!==t&&e&&e(new fO(t)),Object(Tt.a)(!0)}function KC(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>zw(()=>{const i=qC(r,e,n);let o;if(function(t){return t&&kC(t.canActivate)}(i))o=IO(i.canActivate(e,t));else{if(!kC(i))throw new Error("Invalid CanActivate guard");o=IO(i(e,t))}return o.pipe(qg())}));return Object(Tt.a)(i).pipe(IC())}function GC(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>zw(()=>{const i=e.guards.map(i=>{const o=qC(i,e.node,n);let s;if(function(t){return t&&kC(t.canActivateChild)}(o))s=IO(o.canActivateChild(r,t));else{if(!kC(o))throw new Error("Invalid CanActivateChild guard");s=IO(o(r,t))}return s.pipe(qg())});return Object(Tt.a)(i).pipe(IC())}));return Object(Tt.a)(i).pipe(IC())}class $C{}class QC{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=JC(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vO),n=new oC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vO,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ZO(n,e),i=new sC(this.url,r);return this.inheritParamsAndData(i._root),Object(Tt.a)(i)}catch(lg){return new Et.a(e=>e.error(lg))}}inheritParamsAndData(t){const e=t.value,n=iC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=RO(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vO?-1:e.value.outlet===vO?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(lg){if(!(lg instanceof $C))throw lg}if(this.noLeftoversInUrl(e,n,r))return[];throw new $C}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $C;if((t.outlet||vO)!==r)throw new $C;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?SO(n).parameters:{};i=new oC(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ex(t),r,t.component,t,YC(e),XC(e)+n.length,nx(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $C;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||OO)(n,t,e);if(!r)throw new $C;const i={};EO(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new oC(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ex(t),r,t.component,t,YC(e),XC(e)+o.length,nx(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=JC(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new ZO(i,t)]}if(0===a.length&&0===u.length)return[new ZO(i,[])];const l=this.processSegment(a,c,u,vO);return[new ZO(i,l)]}}function YC(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XC(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function JC(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ZC(t,e,n)&&tx(n)!==vO)}(t,n,r)){const i=new AO(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&tx(o)!==vO){const n=new AO([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[tx(o)]=n}return i}(t,e,r,new AO(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ZC(t,e,n))}(t,n,r)){const o=new AO(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ZC(t,n,a)&&!i[tx(a)]){const n=new AO([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[tx(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new AO(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ZC(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function tx(t){return t.outlet||vO}function ex(t){return t.data||{}}function nx(t){return t.resolve||{}}function rx(t){return function(e){return e.pipe(vg(e=>{const n=t(e);return n?Object(It.a)(n).pipe(Object(Ft.a)(()=>e)):Object(It.a)([e])}))}}class ix extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ox=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:function(){return[Cx]},encapsulation:2}),t})();function sx(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ax(r,cx(e,r))}}function ax(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vO)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&sx(t.children,e)}function cx(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ux(t){const e=t.children&&t.children.map(ux),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vO&&(n.component=ox),n}const lx=new r.t("ROUTES");class hx{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ft.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xC(kO(r.injector.get(lx)).map(ux),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(It.a)(this.loader.load(t)):IO(t()).pipe(Object(Uy.a)(t=>t instanceof r.A?Object(Tt.a)(t):Object(It.a)(this.compiler.compileModuleAsync(t))))}}class dx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fx,this.attachRef=null}}class fx{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dx,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class px{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gx(t){throw t}function mx(t,e,n){return e.parse("/")}function bx(t,e){return Object(Tt.a)(null)}let vx=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new gg.a,this.errorHandler=gx,this.malformedUriErrorHandler=mx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bx,afterPreactivation:bx},this.urlHandlingStrategy=new px,this.routeReuseStrategy=new ix,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.C),this.console=o.get(r.fb);const u=o.get(r.E);this.isNgZoneEnabled=u instanceof r.E,this.resetConfig(c),this.currentUrlTree=new PO(new AO([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hx(s,a,t=>this.triggerEvent(new hO(t)),t=>this.triggerEvent(new dO(t))),this.routerState=nC(this.currentUrlTree,this.rootComponentType),this.transitions=new Dw({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(zt(t=>0!==t.id),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),vg(t=>{let n=!1,r=!1;return Object(Tt.a)(t).pipe(Object(_v.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Tt.a)(t).pipe(vg(t=>{const n=this.transitions.getValue();return e.next(new nO(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pg.a:[t]}),vg(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(vg(t=>function(t,e,n,r,i){return new RC(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ft.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(_v.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Uy.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new QC(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ft.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(_v.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(_v.a)(t=>{const n=new sO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new nO(n,this.serializeUrl(r),i,o);e.next(a);const c=nC(r,this.rootComponentType).snapshot;return Object(Tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pg.a}),rx(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_v.a)(t=>{const e=new aO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ft.a)(t=>Object.assign(Object.assign({},t),{guards:WC(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Uy.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(Uy.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Tt.a)(!0);const s=o.map(o=>{const s=qC(o,e,i);let a;if(function(t){return t&&kC(t.canDeactivate)}(s))a=IO(s.canDeactivate(t,e,n,r));else{if(!kC(s))throw new Error("Invalid CanDeactivate guard");a=IO(s(t,e,n,r))}return a.pipe(qg())});return Object(Tt.a)(s).pipe(IC())}(t.component,t.route,n,e,r)),qg(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Uy.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(Wy(e=>Object(It.a)([zC(e.route.parent,r),HC(e.route,r),GC(t,e.path,n),KC(t,e.route,n)]).pipe(At(),qg(t=>!0!==t,!0))),qg(t=>!0!==t,!0))}(r,o,t,e):Object(Tt.a)(n)),Object(Ft.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(_v.a)(t=>{if(SC(t.guardsResult)){const e=wO(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(_v.a)(t=>{const e=new cO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),zt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new iO(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rx(t=>{if(t.guards.canActivateChecks.length)return Object(Tt.a)(t).pipe(Object(_v.a)(t=>{const e=new uO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),vg(t=>{let n=!1;return Object(Tt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Uy.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Tt.a)(t);let o=0;return Object(It.a)(n).pipe(Wy(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Tt.a)({});const o={};return Object(It.a)(i).pipe(Object(Uy.a)(i=>function(t,e,n,r){const i=qC(t,e,r);return IO(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(_v.a)(t=>{o[i]=t}))),Kw(1),Object(Uy.a)(()=>Object.keys(o).length===i.length?Object(Tt.a)(o):Pg.a))}(t._resolve,t,e,r).pipe(Object(Ft.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),iC(t,n).resolve),null)))}(t.route,e,r,i)),Object(_v.a)(()=>o++),Kw(1),Object(Uy.a)(e=>o===n.length?Object(Tt.a)(t):Pg.a))}))}),Object(_v.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new iO(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(_v.a)(t=>{const e=new lO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rx(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ft.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new ZO(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new rC(new Dw((i=n.value).url),new Dw(i.params),new Dw(i.queryParams),new Dw(i.fragment),new Dw(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new ZO(r,o)}}var i}(t,e._root,n?n._root:void 0);return new eC(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(_v.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Ft.a)(t=>(new OC(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(_v.a)({next(){n=!0},complete(){n=!0}}),Jw(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new iO(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Qw(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=SC(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new iO(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new oO(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(As){t.reject(As)}}var i;return Pg.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sx(t),this.config=t.map(ux),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.cb)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return dC(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fC(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return EO(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new fC(n,e,r)}(n);if(o.toRoot())return dC(e.root,new AO([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new pC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pC(t,t===e.root,0)}const r=hC(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pC(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?bC(s.segmentGroup,s.index,o.commands):mC(s.segmentGroup,s.index,o.commands);return dC(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.cb)()&&this.isNgZoneEnabled&&!r.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=SC(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(lg){e=this.malformedUriErrorHandler(lg,this.urlSerializer,t)}return e}isActive(t,e){if(SC(t))return TO(this.currentUrlTree,t,e);const n=this.parseUrl(t);return TO(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new rO(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.T),r.ac(NO),r.ac(fx),r.ac(O),r.ac(r.u),r.ac(r.B),r.ac(r.j),r.ac(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),yx=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new gg.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wx(this.skipLocationChange),replaceUrl:wx(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wx(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wx(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vx),r.Rb(rC),r.bc("tabindex"),r.Rb(r.K),r.Rb(r.o))},t.\u0275dir=r.Mb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.dc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Fb]}),t})(),_x=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new gg.a,this.subscription=t.events.subscribe(t=>{t instanceof rO&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:wx(this.skipLocationChange),replaceUrl:wx(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wx(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wx(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vx),r.Rb(rC),r.Rb(b))},t.\u0275dir=r.Mb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.dc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Zb("href",e.href,r.uc),r.Ib("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Fb]}),t})();function wx(t){return""===t||!!t}let Ox=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof rO&&this.update()})}ngAfterContentInit(){Object(It.a)([this.links.changes,this.linksWithHrefs.changes,Object(Tt.a)(null)]).pipe(Object(Pt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(It.a)(e).pipe(Object(Pt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vx),r.Rb(r.o),r.Rb(r.K),r.Rb(r.i),r.Rb(yx,8),r.Rb(_x,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Kb(n,yx,!0),r.Kb(n,_x,!0)),2&t&&(r.rc(i=r.ec())&&(e.links=i),r.rc(i=r.ec())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Fb]}),t})(),Cx=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.q,this.deactivateEvents=new r.q,this.name=i||vO,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xx(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(fx),r.Rb(r.W),r.Rb(r.l),r.bc("name"),r.Rb(r.i))},t.\u0275dir=r.Mb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xx{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rC?this.route:t===fx?this.childContexts:this.parent.get(t,e)}}class kx{}class Sx{preload(t,e){return Object(Tt.a)(null)}}let Ex=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new hx(e,n,e=>t.triggerEvent(new hO(e)),e=>t.triggerEvent(new dO(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(zt(t=>t instanceof rO),Wy(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.C);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(It.a)(n).pipe(Object(Pt.a)(),Object(Ft.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Uy.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(vx),r.ac(r.B),r.ac(r.j),r.ac(r.u),r.ac(kx))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Ix=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rO&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new bO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(vx),r.ac(G),r.ac(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Tx=new r.t("ROUTER_CONFIGURATION"),Px=new r.t("ROUTER_FORROOT_GUARD"),Ax=[O,{provide:NO,useClass:DO},{provide:vx,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new vx(null,t,e,n,r,i,o,kO(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[NO,fx,O,r.u,r.B,r.j,lx,Tx,[class{},new r.F],[class{},new r.F]]},fx,{provide:rC,useFactory:function(t){return t.routerState.root},deps:[vx]},{provide:r.B,useClass:r.Q},Ex,Sx,class{preload(t,e){return e().pipe(Qw(()=>Object(Tt.a)(null)))}},{provide:Tx,useValue:{enableTracing:!1}}];function jx(){return new r.D("Router",vx)}let Mx=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ax,Lx(e),{provide:Px,useFactory:Dx,deps:[[vx,new r.F,new r.P]]},{provide:Tx,useValue:n||{}},{provide:b,useFactory:Nx,deps:[c,[new r.s(y),new r.F],Tx]},{provide:Ix,useFactory:Rx,deps:[vx,G,Tx]},{provide:kx,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Sx},{provide:r.D,multi:!0,useFactory:jx},[Vx,{provide:r.d,multi:!0,useFactory:Fx,deps:[Vx]},{provide:Wx,useFactory:Ux,deps:[Vx]},{provide:r.b,multi:!0,useExisting:Wx}]]}}static forChild(e){return{ngModule:t,providers:[Lx(e)]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.ac(Px,8),r.ac(vx,8))}}),t})();function Rx(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ix(t,e,n)}function Nx(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Dx(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Lx(t){return[{provide:r.a,multi:!0,useValue:t},{provide:lx,multi:!0,useValue:t}]}let Vx=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new gg.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vx),r=this.injector.get(Tx);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Tt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Tx),n=this.injector.get(Ex),i=this.injector.get(Ix),o=this.injector.get(vx),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.u))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function Fx(t){return t.appInitializer.bind(t)}function Ux(t){return t.bootstrapListener.bind(t)}const Wx=new r.t("Router Initializer");let qx=(()=>{class t{constructor(){this.httpLoading$=new kg(1)}httpProgress(){return this.httpLoading$.asObservable()}setHttpProgressStatus(t){this.httpLoading$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bx=(()=>{class t{constructor(t,e){this.afAuth=t,this.loaderService=e}signUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>(this.loaderService.setHttpProgressStatus(!0),console.log("user created successfully",t),this.loaderService.setHttpProgressStatus(!1),t)).catch(t=>(console.log("An error occured",t.code),this.loaderService.setHttpProgressStatus(!1),t.code))}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>t)}SignOut(){return this.afAuth.signOut()}ResetPassword(t){return this.afAuth.sendPasswordResetEmail(t)}isLoggedIn(){return console.log("CURRENT USER",localStorage.getItem("user")),!!localStorage.getItem("user")}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Xg),r.ac(qx))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hx=(()=>{class t{constructor(t,e,n,r,i){this.auth=t,this.afs=e,this.afStorage=n,this.loaderService=r,this.router=i,this.basePath="uploads/profiles"}newUSer(t,e,n,r,i,o){return Object(Zi.b)(this,void 0,void 0,(function*(){let s={firstName:t,lastName:e,email:n,password:o,photo:i,isWorker:r,skill:null};this.loaderService.setHttpProgressStatus(!0),this.auth.signUp(s.email,s.password).then(t=>{if(console.log("checking results",t.user.uid),this.userdetails=s,"auth/email-already-in-use"==t||"auth/invalid-email"==t)return t;this.afs.collection("Users").doc(t.user.uid).set({user:s,id:t.user.uid}),this.auth.SignIn(s.email,s.password).then(t=>{this.loaderService.setHttpProgressStatus(!0),console.log("user log in ID",t.user.uid),localStorage.setItem("user",t.user.uid),this.router.navigate(["dashboard/content/home-page"]),this.loaderService.setHttpProgressStatus(!1)}),this.loaderService.setHttpProgressStatus(!1)}).catch(t=>{console.log(t),this.loaderService.setHttpProgressStatus(!1)})}))}UserProfilePhoto(t,e){this.uploadFile(t,e),console.log("some file",t),this.User_id=e}uploadFile(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){const n=`${this.basePath}/${e}`,r=this.afStorage.ref(n);this.afStorage.upload(n,t).snapshotChanges().pipe(Jw(()=>{r.getDownloadURL().subscribe(t=>{console.log("File available at",t),this.afs.collection("Users").doc(e).update({"user.photo":t})})})).subscribe()}))}getActiveUser(t){return this.afs.collection("Users").doc(t).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Bx),r.ac(fm),r.ac(Fb),r.ac(qx),r.ac(vx))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zx=(()=>{class t{constructor(t,e,n,r){this.userservice=t,this.afs=e,this.afStorage=n,this.loaderService=r,this.searchItem=new gg.a,this.downloadURL=[],this.basePath="uploads/worker",this.chatBox_is_open=!1}_setActiveUser(t){return Object(Zi.b)(this,void 0,void 0,(function*(){this.systemUser=t,console.log("this is the user info from volatile data",t),this.user_id=t.user.uid,localStorage.setItem("user",t.user.uid)}))}getuserid(){let t=localStorage.getItem("user");return console.log("the user id",t),t}setuserid(t){this.user_id=t}uploadFile(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){console.log("checking item",t);for(let n=0;n<t.length;n++)n<t.length?(yield this.uploadFile2(t[n],e),console.log("check",t[n])):console.log("done uploading")}))}uploadFile2(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){const n=`${this.basePath}/${e}/${t.name}`,r=this.afStorage.ref(n);console.log("loading item ",t),yield this.afStorage.upload(n,t),this.downloadURL.push(yield r.getDownloadURL().toPromise()),console.log("url",this.downloadURL)}))}newWorker(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){this.loaderService.setHttpProgressStatus(!0);let n=localStorage.getItem("user");this.afs.collection("Users").doc(n).update({"user.isWorker":!0}).then(r=>{this.afs.collection("Users").doc(n).update({"user.skill":t}).then(t=>{this.uploadFile(e,n).then(t=>{this.afs.collection("Users").doc(n).update({"user.skill.Wokerimages":this.downloadURL}),console.log("wokerresponse",t),this.loaderService.setHttpProgressStatus(!1),this.downloadURL=[],confirm("Please register your number with Whatsapp business\ud83d\ude0a")}),console.log("setting worker field successful",t)}).catch(t=>{console.log("error occured at setting up worker field",t)}),console.log("success of setting a user to true",r)}).catch(t=>{console.log("err occured setting a user to true",t)})}))}updateworkerdetails(t){let e=localStorage.getItem("user");this.afs.collection("Users").doc(e).update({"user.skill":t}),this.loaderService.setHttpProgressStatus(!1)}workerDetails(t){return this.afs.collection("Users").doc(t).valueChanges()}EditWorker(){}search(t){this.searchItem.next(t)}set_Chatbox_to_open(){this.chatBox_is_open=!0,console.log("chat box is open")}set_Chatbox_to_close(){this.chatBox_is_open=!1,console.log("chat box is closed")}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Hx),r.ac(fm),r.ac(Fb),r.ac(qx))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kx=(()=>{class t{constructor(t,e){this.auth=t,this.loaderService=e,this.onResult=new r.q}ngOnInit(){this.forgotPassword=new xw({forgotPassword:new Cw(null,U_.required)})}onSubmit(){console.log(this.forgotPassword.value.forgotPassword);try{this.loaderService.setHttpProgressStatus(!0),this.auth.ResetPassword(this.forgotPassword.value.forgotPassword).then(t=>{console.log("user exist",t),this.loaderService.setHttpProgressStatus(!1)}).catch(t=>{console.log("User does not exist",t.message),this.errormessage=t.message,this.loaderService.setHttpProgressStatus(!1)})}catch(t){console.log(t)}}onBack(t){this.onResult.emit(t),console.log("onBack",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-password"]],outputs:{onResult:"onResult"},decls:11,vars:2,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[3,"formGroup","ngSubmit"],["type","email","placeholder","Please enter your Email","formControlName","forgotPassword"],[1,"psd"],["type","submit"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.onBack(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"form",3),r.dc("ngSubmit",(function(){return e.onSubmit()})),r.Sb(4,"div"),r.Sb(5,"input",4),r.Wb(6,"p"),r.Ac(7),r.Vb(),r.Wb(8,"div",5),r.Wb(9,"button",6),r.Ac(10,"send"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(3),r.mc("formGroup",e.forgotPassword),r.Hb(4),r.Bc(e.errormessage))},directives:[Sw,R_,Tw,E_,M_,Aw],styles:[".Modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:200px auto;padding:20px;border:1px solid #888;width:350px;border-radius:10px}.psd[_ngcontent-%COMP%]{margin:10px 115px 5px}input[_ngcontent-%COMP%]{width:99%;height:50px;border:none;border-bottom:2px solid #000}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px auto;justify-content:center}button[_ngcontent-%COMP%]{height:40px;width:90px;border-radius:10px;font-size:16px;outline:transparent;cursor:pointer;background-color:rgba(45,41,145,.6784313725490196);color:#f0f8ff;border:none}p[_ngcontent-%COMP%]{padding:10px;color:red}"]}),t})();function Gx(t,e){if(1&t&&(r.Wb(0,"span",18),r.Ac(1),r.Vb()),2&t){const t=r.hc();r.Hb(1),r.Bc(t._errormessage)}}function $x(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"app-password",19),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalResult(e)})),r.Vb(),r.Vb()}}const Qx=function(t){return{"grid-template-rows":t}};let Yx=(()=>{class t{constructor(t,e,n,r){this.auth=t,this.router=e,this.loaderService=n,this.dataservice=r,this.isValid=!1,this.forgot=!1,this.errorMessage=!1,this._errormessage="",t.isLoggedIn()&&e.navigate(["home-page"])}ngOnInit(){this.LogInForm=new xw({email:new Cw(null,[U_.required,U_.email]),password:new Cw(null,U_.required),rememberMe:new Cw(null)})}onSubmit(){return Object(Zi.b)(this,void 0,void 0,(function*(){this.loaderService.setHttpProgressStatus(!0),yield this.auth.SignIn(this.LogInForm.value.email,this.LogInForm.value.password).then(t=>Object(Zi.b)(this,void 0,void 0,(function*(){console.log("sucessful loglin",t),yield this.dataservice._setActiveUser(t),this.router.navigate(["dashboard/content/home-page"]),this.loaderService.setHttpProgressStatus(!1)}))).catch(t=>{console.log("error",t),this.loaderService.setHttpProgressStatus(!1),this._errormessage=t.message,this.errorMessage=!0,this.isValid=!0})}))}onToggle(){this.forgot=!this.forgot}onModalResult(t){console.log(t),this.forgot=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bx),r.Rb(vx),r.Rb(qx),r.Rb(zx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-login"]],decls:30,vars:6,consts:[[1,"login-container"],[1,"login-box"],[1,"logo"],["src","assets/Construction Helmet Mockup 1 1.png","alt","","srcset",""],[3,"formGroup","ngSubmit"],[1,"Mycontainer",3,"ngStyle"],[1,"details"],[2,"font-size","16px","color","#FFFFFF"],["class","email-checker",4,"ngIf"],["type","email","placeholder","email","formControlName","email"],["type","password","placeholder","Password","formControlName","password","autocomplete","on"],[1,"forgot-password"],[1,"psw",3,"click"],[1,"change"],["type","submit"],["routerLink","/sign-up"],[2,"background-image","url(../../assets/Login.jpg)","background-size","cover","background-repeat","no-repeat","background-position","47%","background-color","#e7e7e7"],[4,"ngIf"],[1,"email-checker"],[3,"onResult"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Sb(3,"img",3),r.Wb(4,"h2"),r.Ac(5,"Construct-Tek"),r.Vb(),r.Vb(),r.Wb(6,"form",4),r.dc("ngSubmit",(function(){return e.onSubmit()})),r.Wb(7,"div",5),r.Wb(8,"div",6),r.Wb(9,"h1"),r.Ac(10,"Sign In"),r.Vb(),r.Wb(11,"h4",7),r.Ac(12,"Please enter the details you used during registration"),r.Vb(),r.Vb(),r.yc(13,Gx,2,1,"span",8),r.Sb(14,"input",9),r.Sb(15,"input",10),r.Wb(16,"div",11),r.Wb(17,"div"),r.Wb(18,"span",12),r.dc("click",(function(){return e.onToggle()})),r.Wb(19,"a"),r.Ac(20,"Forgot password?"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(21,"div",13),r.Wb(22,"button",14),r.Ac(23,"Sign In "),r.Vb(),r.Wb(24,"a",15),r.Ac(25,"Dont have an account? "),r.Wb(26,"strong"),r.Ac(27," Sign Up Here"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Sb(28,"div",16),r.Vb(),r.yc(29,$x,2,0,"div",17)),2&t&&(r.Hb(6),r.mc("formGroup",e.LogInForm),r.Hb(1),r.mc("ngStyle",r.pc(4,Qx,e.isValid?"1fr .5fr .5fr .5fr .5fr .5fr1fr 1fr 1fr 1fr 1fr 1fr":"2fr 1.4fr 1.4fr 1.4fr")),r.Hb(6),r.mc("ngIf",e.errorMessage),r.Hb(16),r.mc("ngIf",e.forgot))},directives:[Sw,R_,Tw,B,U,E_,M_,Aw,_x,Kx],styles:[".login-container[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-template-columns:1fr 1fr;height:100vh;background-color:#036}h1[_ngcontent-%COMP%]{font-size:30px;font-weight:800;color:#fff}.change[_ngcontent-%COMP%]{display:contents}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:60px;color:#fff}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#009caa;cursor:pointer}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   strong[_ngcontent-%COMP%]{font-weight:700}.login-box[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-rows:1fr 6fr;box-sizing:border-box;padding-left:40px;background-color:#036;height:100vh}.logo[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:flex-end;grid-gap:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:63px;height:47px;margin-top:1.63rem;margin-left:2.5rem}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:#fff;font-family:Poppins}.details[_ngcontent-%COMP%]{display:block;line-height:45px}.details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Montserrat}.details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}form[_ngcontent-%COMP%]{font-family:Poppins;background:#036;margin-top:1.13rem;border-radius:1.25rem;box-sizing:border-box;padding:1.25rem;margin-left:1.25rem}.Mycontainer[_ngcontent-%COMP%]{display:grid}.Mycontainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins;font-size:20px;font-style:normal;font-weight:900;line-height:30px;letter-spacing:0;text-align:left;color:#fff}.email-checker[_ngcontent-%COMP%]{text-align:center;margin:1.5rem;color:red}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:90%;padding:12px 20px;margin:8px 0;display:inline-block;box-sizing:border-box;font-family:Poppins;font-size:1rem;font-style:normal;font-weight:400;line-height:30px;letter-spacing:0;border-radius:5px;border:none;border-bottom:2px solid #f60}.forgot-password[_ngcontent-%COMP%]{margin-top:1.25rem;display:grid;grid-auto-flow:column;grid-template-columns:2fr 1fr;font-size:1.6rem}.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem;margin-right:.63rem}button[_ngcontent-%COMP%]{height:50px;border-radius:8px;background:#f60;border:transparent;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;letter-spacing:0;text-align:center;color:#fff;cursor:pointer;width:130px}button[_ngcontent-%COMP%]:hover{background:#be5a16;box-shadow:-1px -1px 5px -2px rgba(0,0,0,.75)}.psw[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.psw[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:800px){.right-side[_ngcontent-%COMP%]{background:#534e4e;display:none}.heading[_ngcontent-%COMP%]{margin-left:3.19rem}.login-container[_ngcontent-%COMP%]{display:contents;grid-auto-flow:column;grid-template-columns:1fr 1fr;height:100vh}}@media screen and (max-width:500px){button[_ngcontent-%COMP%]{height:40px;width:110px;font-size:17px;margin-top:11px}h1[_ngcontent-%COMP%]{font-size:25px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{height:40px}.psw[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2697ff;font-size:12px}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.forgot-password[_ngcontent-%COMP%]{display:block}.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:11px;width:11px;margin-bottom:10px}}@media screen and (max-width:400px){h1[_ngcontent-%COMP%]{font-size:18px}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}.forgot-password[_ngcontent-%COMP%]{display:block}}"]}),t})(),Xx=(()=>{class t{constructor(t,e,n){this.router=t,this.userservice=e,this.loaderService=n,this.signupForm=new xw({Surname:new Cw(null),Othername:new Cw(null),email:new Cw(null,[U_.required,U_.email]),password:new Cw(null),Confirmpassword:new Cw(null)})}ngOnInit(){}onSubnmit(){this.loaderService.setHttpProgressStatus(!0),this.userservice.newUSer(this.signupForm.value.Othername,this.signupForm.value.Surname,this.signupForm.value.email,!1,"null",this.signupForm.value.Confirmpassword)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vx),r.Rb(Hx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-signup"]],decls:23,vars:1,consts:[[1,"login-container"],[1,"login-box"],[1,"logo"],["src","assets/Construction Helmet Mockup 1 1.png","alt","","srcset",""],[3,"formGroup","ngSubmit"],[1,"Mycontainer"],["type","text","placeholder","Surname","formControlName","Surname"],["type","text","placeholder","Other names","formControlName","Othername"],["type","email","placeholder","company Email","formControlName","email"],["type","password","placeholder","password","formControlName","Confirmpassword","autocomplete","on"],[1,"change"],["type","submit"],["routerLink","/login"],[2,"background-image","url(../../assets/signup.jpg)","background-size","cover","background-repeat","no-repeat","background-position","47%","background-color","#e7e7e7"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Sb(3,"img",3),r.Wb(4,"h2"),r.Ac(5,"Construct-Tek"),r.Vb(),r.Vb(),r.Wb(6,"form",4),r.dc("ngSubmit",(function(){return e.onSubnmit()})),r.Wb(7,"div",5),r.Wb(8,"h1"),r.Ac(9,"SignUp"),r.Vb(),r.Sb(10,"input",6),r.Sb(11,"input",7),r.Sb(12,"input",8),r.Sb(13,"input",9),r.Wb(14,"div",10),r.Wb(15,"button",11),r.Ac(16," Sign Up"),r.Vb(),r.Wb(17,"a",12),r.Wb(18,"u"),r.Ac(19,"Already have an account? "),r.Wb(20,"strong"),r.Ac(21," Login"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Sb(22,"div",13),r.Vb()),2&t&&(r.Hb(6),r.mc("formGroup",e.signupForm))},directives:[Sw,R_,Tw,E_,M_,Aw,_x],styles:[".login-container[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-template-columns:1fr 1fr;height:100vh;background-color:#036}h1[_ngcontent-%COMP%]{font-size:24px;font-weight:800;margin-bottom:40px;font-family:Poppins;color:#fff}.right-side[_ngcontent-%COMP%]{background:#ed1e23}.login-box[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-rows:1fr 6fr;box-sizing:border-box;padding-left:40px;background-color:#036;height:100vh}.logo[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:flex-end;grid-gap:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:63px;height:47px;margin-top:1.63rem;margin-left:2.5rem}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:#fff}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{font-family:Poppins}form[_ngcontent-%COMP%]{background:#036;width:90%;margin-top:1.13rem;border-radius:1.25rem;box-sizing:border-box;padding:1.25rem;margin-left:1.25rem}.Mycontainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins;font-size:20px;font-style:normal;font-weight:900;line-height:30px;letter-spacing:0;text-align:left;color:#fff}.email-checker[_ngcontent-%COMP%]{text-align:center;margin:1.5rem;color:red}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:90%;padding:12px 20px;margin:8px 0 15px;display:inline-block;box-sizing:border-box;font-family:Poppins;font-size:1rem;font-style:normal;font-weight:400;border-radius:5px;border:none;border-bottom:2px solid #f60}.show[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.forgot-password[_ngcontent-%COMP%]{margin-top:1.25rem;display:grid;grid-auto-flow:column;grid-template-columns:2fr 1fr;font-size:1.6rem}.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem;margin-right:.63rem}button[_ngcontent-%COMP%]{height:50px;border-radius:8px;background:#f60;border:transparent;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;letter-spacing:0;text-align:center;color:#fff;cursor:pointer;width:130px}button[_ngcontent-%COMP%]:hover{background:#be5a16;box-shadow:-1px -1px 5px -2px rgba(0,0,0,.75)}.change[_ngcontent-%COMP%]{display:grid;justify-content:space-between}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:60px;color:#fff}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#009caa;cursor:pointer}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   strong[_ngcontent-%COMP%]{font-weight:700}.psw[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.psw[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:900px){.right-side[_ngcontent-%COMP%]{background:#534e4e;display:none}.login-container[_ngcontent-%COMP%]{display:contents}}@media screen and (max-width:500px){button[_ngcontent-%COMP%]{height:40px;width:110px;font-size:17px;margin-top:11px}h1[_ngcontent-%COMP%]{font-size:25px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{height:40px}.psw[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#009caa;font-size:12px}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.forgot-password[_ngcontent-%COMP%]{display:block}.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:11px;width:11px;margin-bottom:10px}}@media screen and (max-width:400px){h1[_ngcontent-%COMP%]{font-size:18px}.change[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}.forgot-password[_ngcontent-%COMP%]{display:block}}"]}),t})();var Jx;n("t6oF"),n("6Uf2"),(Jx=$p).prototype.loadBundle=function(t){return function(t,e){var n=jf(t=bf(t,Af)),r=new Pf;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Ud(t,e)}(function(t,e){if(t instanceof Uint8Array)return Vd(t,e);if(t instanceof ArrayBuffer)return Vd(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,th(e));t.asyncQueue.enqueueAndForget((function(){return Object(Zi.b)(i,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return e=Md,[4,Xd(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,t._databaseId,e,r),r}(this._delegate,t)},Jx.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Object(Zi.b)(n,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=ho(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Qe.getNamedQuery(t,e)}))},[4,Qd(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(jf(e=bf(e,Af)),n).then((function(t){return t?new Of(e,null,t.query):null}))).then((function(t){return t?new og(r,t):null}))};var Zx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tk=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(Zi.c)(e,t),e}(Error),ek=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(lg){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function nk(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var rk=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return nk(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?nk(t,(function(t){return e.decode(t)})):t},t}(),ik=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new rk,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new ek(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(lg){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h,d;return Object(Zi.d)(this,(function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new tk("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([ok(c,this.postJSON(r,i,o)),u,ok(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new tk("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!Zx[a])return new tk("internal","internal");r=Zx[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(lg){}return"ok"===r?null:new tk(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new tk("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new tk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function ok(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:ik};t.INTERNAL.registerComponent(new fg.a("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new ik(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Yt.a,fetch.bind(self)),Yt.a.registerVersion("@firebase/functions","0.6.8");var sk,ak=n("nbvr"),ck="w:0.4.26",uk=((sk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',sk["not-registered"]="Firebase Installation is not registered.",sk["installation-not-found"]="Firebase Installation not found.",sk["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',sk["app-offline"]="Could not process request. Application offline.",sk["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",sk),lk=new Xt.b("installations","Installations",uk);function hk(t){return t instanceof Xt.c&&t.code.includes("request-failed")}function dk(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function fk(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function pk(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,lk.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function gk(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function mk(t,e){var n=e.refreshToken,r=gk(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function bk(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function vk(t,e){var n=e.fid;return Object(Zi.b)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return e=dk(t),r=gk(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:ck})},[4,bk((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:fk(s.authToken)}];case 3:return[4,pk("Create Installation",o)];case 4:throw a.sent()}}))}))}function yk(t){return new Promise((function(e){setTimeout(e,t)}))}var _k=/^[cdef][\w-]{21}$/;function wk(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(Zi.f)([],Object(Zi.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return _k.test(e)?e:""}catch(Kj){return""}}function Ok(t){return t.appName+"!"+t.appId}var Ck=new Map;function xk(t,e){var n=Ok(t);kk(n,e),function(t,e){var n=Ek();n&&n.postMessage({key:t,fid:e}),Ik()}(n,e)}function kk(t,e){var n,r,i=Ck.get(t);if(i)try{for(var o=Object(Zi.g)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Sk=null;function Ek(){return!Sk&&"BroadcastChannel"in self&&((Sk=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){kk(t.data.key,t.data.fid)}),Sk}function Ik(){0===Ck.size&&Sk&&(Sk.close(),Sk=null)}var Tk,Pk="firebase-installations-store",Ak=null;function jk(){return Ak||(Ak=Object(ak.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Pk)}}))),Ak}function Mk(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return n=Ok(t),[4,jk()];case 1:return r=a.sent(),i=r.transaction(Pk,"readwrite"),[4,(o=i.objectStore(Pk)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||xk(t,e.fid),[2,e]}}))}))}function Rk(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return e=Ok(t),[4,jk()];case 1:return n=i.sent(),[4,(r=n.transaction(Pk,"readwrite")).objectStore(Pk).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Nk(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return n=Ok(t),[4,jk()];case 1:return r=c.sent(),i=r.transaction(Pk,"readwrite"),[4,(o=i.objectStore(Pk)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||xk(t,a.fid),[2,a]}}))}))}function Dk(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,Nk(t,(function(n){var r=function(t){return Fk(t||{fid:wk(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(lk.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,vk(t,e)];case 1:return n=i.sent(),[2,Mk(t,n)];case 2:return hk(r=i.sent())&&409===r.customData.serverCode?[4,Rk(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Mk(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lk(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Lk(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return[4,Vk(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,yk(100)];case 3:return o.sent(),[4,Vk(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Dk(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Vk(t){return Nk(t,(function(t){if(!t)throw lk.create("installation-not-found");return Fk(t)}))}function Fk(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Uk(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(Zi.b)(this,void 0,void 0,(function(){var t,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return dk(t)+"/"+n+"/authTokens:generate"}(n,e),i=mk(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ck}})},[4,bk((function(){return fetch(t,s)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,fk(c.sent())];case 3:return[4,pk("Generate Auth Token",a)];case 4:throw c.sent()}}))}))}function Wk(t,e){return void 0===e&&(e=!1),Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return[4,Nk(t.appConfig,(function(r){if(!Bk(r))throw lk.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,qk(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,yk(100)];case 3:return i.sent(),[4,qk(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Wk(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw lk.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(Zi.a)(Object(Zi.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Uk(t,e)];case 1:return n=o.sent(),i=Object(Zi.a)(Object(Zi.a)({},e),{authToken:n}),[4,Mk(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!hk(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Rk(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(Zi.a)(Object(Zi.a)({},e),{authToken:{requestStatus:0}}),[4,Mk(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function qk(t){return Nk(t,(function(t){if(!Bk(t))throw lk.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(Zi.a)(Object(Zi.a)({},t),{authToken:{requestStatus:0}}):t}))}function Bk(t){return void 0!==t&&2===t.registrationStatus}function Hk(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,Dk(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function zk(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return dk(t)+"/"+n}(t,e),r=mk(t,e),i={method:"DELETE",headers:r},[4,bk((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,pk("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function Kk(t){return lk.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new fg.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Kk("App Configuration");if(!t.name)throw Kk("App Name");try{for(var r=Object(Zi.g)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Kk(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,Dk(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Wk(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,Hk(t.appConfig)];case 1:return n.sent(),[4,Wk(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,Nk(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw lk.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw lk.create("app-offline");case 3:return[4,zk(e,n)];case 4:return r.sent(),[4,Rk(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){Ek();var n=Ok(t),r=Ck.get(n);r||(r=new Set,Ck.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Ok(t),r=Ck.get(n);r&&(r.delete(e),0===r.size&&Ck.delete(n),Ik())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.26")}(Yt.a);var Gk=((Tk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Tk["only-available-in-window"]="This method is available in a Window context.",Tk["only-available-in-sw"]="This method is available in a service worker context.",Tk["permission-default"]="The notification permission was not granted and dismissed instead.",Tk["permission-blocked"]="The notification permission was not granted and blocked instead.",Tk["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Tk["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Tk["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Tk["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Tk["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Tk["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Tk["token-update-no-token"]="FCM returned no token when updating the user to push.",Tk["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Tk["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Tk["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Tk["invalid-vapid-key"]="The public VAPID key must be a string.",Tk["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Tk),$k=new Xt.b("messaging","Messaging",Gk),Qk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yk=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function Xk(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(Zi.f)([],Object(Zi.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jk(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var Zk="fcm_token_details_db",tS="fcm_token_object_Store";function eS(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(Zk))return[2,null];r.label=2;case 2:return e=null,[4,Object(ak.openDb)(Zk,5,(function(r){return Object(Zi.b)(n,void 0,void 0,(function(){var n,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(tS)?[4,(n=r.transaction.objectStore(tS)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Xk(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Xk(o.auth),p256dh:Xk(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Xk(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(ak.deleteDb)(Zk)];case 4:return r.sent(),[4,Object(ak.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(ak.deleteDb)("undefined")];case 6:return r.sent(),[2,nS(e)?e:null]}}))}))}function nS(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var rS="firebase-messaging-store",iS=null;function oS(){return iS||(iS=Object(ak.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(rS)}}))),iS}function sS(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return e=uS(t),[4,oS()];case 1:return[4,i.sent().transaction(rS).objectStore(rS).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,eS(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,aS(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function aS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return n=uS(t),[4,oS()];case 1:return r=o.sent(),[4,(i=r.transaction(rS,"readwrite")).objectStore(rS).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function cS(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return e=uS(t),[4,oS()];case 1:return n=i.sent(),[4,(r=n.transaction(rS,"readwrite")).objectStore(rS).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function uS(t){return t.appConfig.appId}function lS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return[4,pS(t)];case 1:n=a.sent(),r=gS(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(fS(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),$k.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw $k.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw $k.create("token-subscribe-no-token");return[2,o.token]}}))}))}function hS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return[4,pS(t)];case 1:n=a.sent(),r=gS(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(fS(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),$k.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw $k.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw $k.create("token-update-no-token");return[2,o.token]}}))}))}function dS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return[4,pS(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(fS(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw $k.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),$k.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function fS(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function pS(t){var e=t.appConfig,n=t.installations;return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function gS(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==Qk&&(n.web.applicationPubKey=e),n}function mS(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw $k.create("permission-blocked");return[4,_S(e,n)];case 1:return r=a.sent(),[4,sS(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Xk(r.getKey("auth")),p256dh:Xk(r.getKey("p256dh"))},i?[3,3]:[2,yS(t,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,dS(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,yS(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,vS({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,u,l}))}))}function bS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,sS(t)];case 1:return(n=i.sent())?[4,dS(t,n.token)]:[3,4];case 2:return i.sent(),[4,cS(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function vS(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,hS(e,t)];case 1:return r=s.sent(),i=Object(Zi.a)(Object(Zi.a)({},t),{token:r,createTime:Date.now()}),[4,aS(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,bS(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function yS(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,lS(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,aS(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function _S(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jk(e)})]}}))}))}function wS(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function OS(t){return new Promise((function(e){setTimeout(e,t)}))}var CS=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw $k.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,sS(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Qk,r.label=2;case 2:return[2,mS(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return bS(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw $k.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw $k.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw $k.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw $k.create("only-available-in-window")},t.prototype.onMessage=function(){throw $k.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw $k.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,ES()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,SS(n,e)]:(r=!1,e.notification?[4,IS(xS(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,OS(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(Zi.b)(this,void 0,void 0,(function(){var r;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,bS(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,sS(this.firebaseDependencies)];case 3:return r=i.sent(),[4,bS(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,mS(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Qk)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(Zi.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(wS(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,kS(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,OS(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=Yk.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function xS(t){var e,n=Object(Zi.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function kS(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return[4,ES()];case 1:e=c.sent();try{for(n=Object(Zi.g)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function SS(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Yk.PUSH_RECEIVED;try{for(var i=Object(Zi.g)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ES(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function IS(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var TS=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Yk.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),wS(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw $k.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,mS(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Qk),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw $k.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),$k.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,bS(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw $k.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw $k.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw $k.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw $k.create("invalid-sw-registration");if(this.swRegistration)throw $k.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw $k.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw $k.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case Yk.NOTIFICATION_CLICKED:return"notification_open";case Yk.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function PS(t){return $k.create("missing-app-config-values",{valueName:t})}var AS={isSupported:jS};function jS(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Yt.a.INTERNAL.registerComponent(new fg.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw PS("App Configuration Object");if(!t.name)throw PS("App Name");var r=t.options;try{for(var i=Object(Zi.g)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw PS(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!jS())throw $k.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new CS(n):new TS(n)}),"PUBLIC").setServiceProps(AS));var MS,RS,NS,DS="0.4.12",LS=DS,VS="FB-PERF-TRACE-MEASURE",FS="_wt_",US="_fcp",WS="_fid",qS="@firebase/performance/config",BS="@firebase/performance/configexpire",HS="Performance",zS=((MS={})["trace started"]="Trace {$traceName} was started before.",MS["trace stopped"]="Trace {$traceName} is not running.",MS["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",MS["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",MS["no window"]="Window is not available.",MS["no app id"]="App id is not available.",MS["no project id"]="Project id is not available.",MS["no api key"]="Api key is not available.",MS["invalid cc log"]="Attempted to queue invalid cc event",MS["FB not default"]="Performance can only start when Firebase app instance is the default one.",MS["RC response not ok"]="RC response is not ok",MS["invalid attribute name"]="Attribute name {$attributeName} is invalid.",MS["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",MS["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",MS["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",MS),KS=new Xt.b("performance",HS,zS),GS=new Jt.b(HS);GS.logLevel=Jt.a.INFO;var $S,QS=function(){function t(t){if(this.window=t,!t)throw KS.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(Xt.y)()||(GS.info("IndexedDB is not supported by current browswer"),!1):(GS.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===RS&&(RS=new t(NS)),RS},t}();function YS(t,e){var n=t.length-e.length;if(n<0||n>1)throw KS.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var XS,JS=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=YS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=YS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw KS.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw KS.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw KS.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===$S&&($S=new t),$S},t}();function ZS(){return XS}var tE=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),eE=["firebase_","google_","ga_"],nE=new RegExp("^[a-zA-Z]\\w*$");function rE(){var t=QS.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function iE(){switch(QS.getInstance().document.visibilityState){case"visible":return tE.VISIBLE;case"hidden":return tE.HIDDEN;default:return tE.UNKNOWN}}function oE(){var t=QS.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function sE(t){if(!t)return t;var e=JS.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=aE(e.tracesSamplingRate),e.logNetworkAfterSampling=aE(e.networkRequestsSamplingRate),t}function aE(t){return Math.random()<=t}var cE,uE=1;function lE(){return uE=2,cE=cE||function(){var t=QS.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=JS.getInstance().installationsService.getId()).then((function(t){XS=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=QS.getInstance().localStorage;if(t){var e=t.getItem(BS);if(e&&Number(e)>Date.now()){var n=t.getItem(qS);if(n)try{return JSON.parse(n)}catch(Kj){return}}}}();return e?(sE(e),Promise.resolve()):function(t){return(e=JS.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+JS.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+JS.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:JS.getInstance().getAppId(),app_version:LS,sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw KS.create("RC response not ok")}))})).catch((function(){GS.info("Could not fetch config, will use default configs")}));var e}(t).then(sE).then((function(t){return function(t){var e=QS.getInstance().localStorage;t&&e&&(e.setItem(qS,JSON.stringify(t)),e.setItem(BS,String(Date.now()+60*JS.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return hE()}),(function(){return hE()}))}function hE(){uE=3}var dE,fE=1e4,pE=3,gE=[],mE=!1;function bE(t){if(!t.eventTime||!t.message)throw KS.create("invalid cc log");gE=Object(Zi.f)(Object(Zi.f)([],gE),[t])}function vE(t,e){var n;dE||(n=wE,dE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];bE({message:n.apply(void 0,t),eventTime:Date.now()})}),dE(t,e)}function yE(t){var e=JS.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&QS.getInstance().requiredApisAvailable()&&(t.isAuto&&iE()!==tE.VISIBLE||(3===uE?_E(t):lE().then((function(){return _E(t)}),(function(){return _E(t)}))))}function _E(t){if(ZS()){var e=JS.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return vE(t,1)}),0)}}function wE(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:OE(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:OE(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function OE(){return{google_app_id:JS.getInstance().getAppId(),app_instance_id:ZS(),web_app_info:{sdk_version:LS,page_url:QS.getInstance().getUrl(),service_worker_status:rE(),visibility_state:iE(),effective_connection_type:oE()},application_process_state:0}}var CE=["_fp",US,WS],xE=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=QS.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw KS.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw KS.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),yE(this)},t.prototype.record=function(t,e,n){if(t<=0)throw KS.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw KS.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(Zi.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}yE(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith(FS)&&CE.indexOf(i)>-1)&&i.startsWith("_"))throw KS.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&GS.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||eE.some((function(t){return n.startsWith(t)}))||!n.match(nE)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw KS.create("invalid attribute name",{attributeName:t});if(!i)throw KS.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(Zi.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=QS.getInstance().getUrl();if(i){var o=new t(FS+i,!0),s=Math.floor(1e3*QS.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find((function(t){return"first-contentful-paint"===t.name}));c&&c.startTime&&o.putMetric(US,Math.floor(1e3*c.startTime)),r&&o.putMetric(WS,Math.floor(1e3*r))}yE(o)}},t.createUserTimingTrace=function(e){yE(new t(e,!1,e))},t}();function kE(t){var e=t;if(e&&void 0!==e.responseStart){var n=QS.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=JS.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return vE(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function SE(){ZS()&&(setTimeout((function(){return function(){var t=QS.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){xE.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),xE.createOobTrace(e,n,t))}))}else xE.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=QS.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)kE(n[e]);t.setupObserver("resource",kE)}()}),0),setTimeout((function(){return function(){for(var t=QS.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)EE(n[e]);t.setupObserver("measure",EE)}()}),0))}function EE(t){var e=t.name;e.substring(0,VS.length)!==VS&&xE.createUserTimingTrace(e)}var IE=function(){function t(t){this.app=t,QS.getInstance().requiredApisAvailable()&&Object(Xt.P)().then((function(t){t&&(mE||(function t(e){setTimeout((function(){var e,n;if(0!==pE)return gE.length?(n=(e=gE.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(e,n){return function(t){var e=JS.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||GS.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=fE;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(gE=Object(Zi.f)(Object(Zi.f)([],n),gE),GS.info("Retry transport request later.")),pE=3,t(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:JS.getInstance().logSource,log_event:n},e).catch((function(){gE=Object(Zi.f)(Object(Zi.f)([],e),gE),pE--,GS.info("Tries left: "+pE+"."),t(fE)}))):t(fE)}),e)}(5500),mE=!0),lE().then(SE,SE))})).catch((function(t){GS.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new xE(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return JS.getInstance().instrumentationEnabled},set:function(t){JS.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return JS.getInstance().dataCollectionEnabled},set:function(t){JS.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new fg.a("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw KS.create("FB not default");if("undefined"==typeof window)throw KS.create("no window");return function(t){NS=t}(window),JS.getInstance().firebaseAppInstance=t,JS.getInstance().installationsService=e,new IE(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance",DS)}(Yt.a);var TE,PE="https://www.googletagmanager.com/gtag/js",AE=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),jE=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),ME=new Jt.b("@firebase/analytics");function RE(t,e,n,r,i,o){return Object(Zi.b)(this,void 0,void 0,(function(){var s,a,c,u;return Object(Zi.d)(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(c=a.find((function(t){return t.measurementId===i})))?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),ME.error(u),[3,8];case 8:return t(AE.CONFIG,i,o),[2]}}))}))}function NE(t,e,n,r,i){return Object(Zi.b)(this,void 0,void 0,(function(){var o,s,a,c,u,l,h;return Object(Zi.d)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),c=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=s;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(AE.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),ME.error(h),[3,5];case 5:return[2]}}))}))}var DE=((TE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",TE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",TE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",TE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",TE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",TE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",TE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",TE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',TE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',TE),LE=new Xt.b("analytics","Analytics",DE),VE=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function FE(t){var e;return Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw LE.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var u}))}))}function UE(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=VE),Object(Zi.b)(this,void 0,void 0,(function(){var e,s,a,c,u,l,h;return Object(Zi.d)(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,WE(n,i)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return ME.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,FE(t)];case 5:return c=d.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof Xt.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u=d.sent())){if(r.deleteThrottleMetadata(e),s)return ME.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u}return l=503===Number(u.customData.httpStatus)?Object(Xt.j)(o,r.intervalMillis,30):Object(Xt.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),ME.debug("Calling attemptFetch again in "+l+" millis"),[2,UE(t,h,n,r)];case 7:return[2]}}))}))}function WE(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(LE.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var qE,BE,HE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),zE={},KE=[],GE={},$E="dataLayer",QE="gtag",YE=!1;function XE(t){if(YE)throw LE.create("already-initialized");t.dataLayerName&&($E=t.dataLayerName),t.gtagName&&(QE=t.gtagName)}var JE="analytics";function ZE(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:if(Object(Xt.u)())return[2,!1];if(!Object(Xt.e)())return[2,!1];if(!Object(Xt.y)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(Xt.P)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new fg.a(JE,(function(t){return function(t,e){!function(){var t=[];if(Object(Xt.u)()&&t.push("This is a browser extension environment."),Object(Xt.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=LE.create("invalid-analytics-context",{errorInfo:e});ME.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw LE.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw LE.create("no-api-key");ME.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=zE[i])throw LE.create("already-exists",{id:i});if(!YE){n=$E,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Object(Zi.b)(this,void 0,void 0,(function(){var a;return Object(Zi.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==AE.EVENT?[3,2]:[4,NE(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==AE.CONFIG?[3,4]:[4,RE(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(AE.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),ME.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(zE,KE,GE,$E,QE);BE=o.wrappedGtag,qE=o.gtagCore,YE=!0}return zE[i]=function(t,e,n,r,i,o){return Object(Zi.b)(this,void 0,void 0,(function(){var s,a,c,u,l,h,d;return Object(Zi.d)(this,(function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=VE),Object(Zi.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c=this;return Object(Zi.d)(this,(function(u){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw LE.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw LE.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HE,setTimeout((function(){return Object(Zi.b)(c,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,UE({appId:r,apiKey:i,measurementId:o},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ME.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ME.error(t)})),e.push(s),a=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t;return Object(Zi.d)(this,(function(e){switch(e.label){case 0:return Object(Xt.y)()?[3,1]:(ME.warn(LE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(Xt.P)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ME.warn(LE.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return c=f.sent(),u=c[0],l=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(PE))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=PE+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),i(AE.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}(t,KE,GE,e,qE,$E),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Object(Zi.b)(this,void 0,void 0,(function(){var o,s;return Object(Zi.d)(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(AE.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(Zi.a)(Object(Zi.a)({},r),{send_to:o}),t(AE.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(BE,zE[i],t,e,n).catch((function(t){return ME.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(AE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(AE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(BE,zE[i],t,e).catch((function(t){return ME.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i;return Object(Zi.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(AE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(AE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(BE,zE[i],t,e).catch((function(t){return ME.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(Zi.b)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(Zi.d)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(AE.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(AE.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(BE,zE[i],t,e).catch((function(t){return ME.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(zE[i],t).catch((function(t){return ME.error(t)}))},INTERNAL:{delete:function(){return delete zE[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:XE,EventName:jE,isSupported:ZE})),t.INTERNAL.registerComponent(new fg.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(JE).getImmediate().logEvent}}catch(lg){throw LE.create("interop-component-reg-failed",{reason:lg})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(Yt.a);var tI,eI=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),nI=((tI={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",tI["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",tI["registration-api-key"]="Undefined API key. Check Firebase app initialization.",tI["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",tI["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",tI["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",tI["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",tI["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",tI["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",tI["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',tI["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',tI["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",tI["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",tI),rI=new Xt.b("remoteconfig","Remote Config",nI),iI=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,d,f,p,g,m;return Object(Zi.d)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return c=b.sent(),[3,6];case 5:throw u=b.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),rI.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,c.json()];case 8:return g=b.sent(),[3,10];case 9:throw m=b.sent(),rI.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:f=g.entries,p=g.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw rI.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var v}))}))},t}(),oI=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),sI=["1","true","t","yes","y","on"],aI=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&sI.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),cI=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Jt.a.DEBUG;break;case"silent":this._logger.logLevel=Jt.a.SILENT;break;default:this._logger.logLevel=Jt.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:t=new oI,setTimeout((function(){return Object(Zi.b)(r,void 0,void 0,(function(){return Object(Zi.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Xt.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(Zi.b)(this,void 0,void 0,(function(){return Object(Zi.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(Zi.a)(Object(Zi.a)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new aI("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new aI("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new aI("static"))},t}();function uI(t,e){var n=t.target.error||void 0;return rI.create(e,{originalErrorMessage:n&&n.message})}var lI="app_namespace_store",hI=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(uI(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(lI,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([lI],"readonly").objectStore(lI),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(uI(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(lg){i(rI.create("storage-get",{originalErrorMessage:lg&&lg.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(Zi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Zi.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([lI],"readwrite").objectStore(lI),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(uI(t,"storage-set"))},c.onsuccess=function(){i()}}catch(lg){o(rI.create("storage-set",{originalErrorMessage:lg&&lg.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Zi.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([lI],"readwrite").objectStore(lI),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(uI(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(lg){i(rI.create("storage-delete",{originalErrorMessage:lg&&lg.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),dI=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(Zi.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function fI(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(rI.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var pI,gI=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(Zi.b)(this,void 0,void 0,(function(){var e;return Object(Zi.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(Zi.b)(this,void 0,void 0,(function(){var e,i,o;return Object(Zi.d)(this,(function(s){switch(s.label){case 0:return[4,fI(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Xt.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(Xt.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),mI="@firebase/remote-config";(pI=Yt.a).INTERNAL.registerComponent(new fg.a("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw rI.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw rI.create("registration-project-id");if(!a)throw rI.create("registration-api-key");if(!c)throw rI.create("registration-app-id");var u=new hI(c,r.name,n=n||"firebase"),l=new dI(u),h=new Jt.b(mI);h.logLevel=Jt.a.ERROR;var d=new iI(i,pI.SDK_VERSION,n,s,a,c),f=new gI(d,u),p=new eI(f,u,l,h),g=new cI(r,p,l,u,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),pI.registerVersion(mI,"0.1.37"),Yt.a.registerVersion("firebase","8.5.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Yt.a.registerVersion("firebase","8.5.0");let bI=(()=>{class t{constructor(t,e){this.afs=t,this.afStorage=e,this.arrayUnion=Yt.a.firestore.FieldValue.arrayUnion,this.arrayRemove=Yt.a.firestore.FieldValue.arrayRemove,this.useridproject=new Dw({}),this.workerDetails=new Dw({}),this.basePath="uploads/worker"}getallwokers(){return this.afs.collection("Users",t=>t.where("user.isWorker","==",!0)).valueChanges()}highratingworkers(){return this.afs.collection("Users",t=>t.where("user.skill.ratings",">",4.5)).valueChanges()}getcategoryworkers(t){return console.log("recieved value",t),this.afs.collection("Users",e=>e.where("user.skill.profession","==",""+t)).valueChanges()}selectedwoker(t){this.workerDetails.next(t)}_detailsWorker(t){return this.afs.collection("Users").doc(t).valueChanges()}assignedprojects(){let t=localStorage.getItem("user");return this.afs.collection("Users").doc(t).collection("AssignedProjects").get()}viewuserproject(t,e){return this.afs.collection("Users").doc(e).collection("Projects").doc(t).valueChanges()}viewinguseridproject(t){console.log("the user id",t),this.useridproject.next(t)}onImagedelete(t){let e=localStorage.getItem("user");this.afs.collection("Users").doc(e).update({"user.skill.Wokerimages":this.arrayRemove(t)})}deleteprofile(t){console.log("the deleting user id",t),this.afs.collection("Users").doc(t).update({"user.skill":null,"user.isWorker":!1})}getdetailsofleaveproject(t){console.log("the project",t.projectId);let e=localStorage.getItem("user");this.afs.collection("Users").doc(e).collection("AssignedProjects").doc(t.projectId).get().subscribe(n=>{console.log("the leaving data",n.data().userid);let r=n.data().userid,i=n.data().userprojectid;this.removeworker(r,i,e),this.afs.collection("Users").doc(e).collection("AssignedProjects").doc(t.projectId).delete()})}removeworker(t,e,n){this.afs.collection("Users").doc(t).collection("Projects").doc(e).update({Teams:this.arrayRemove(n)})}uploadFile(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){console.log("checking item",t);for(let n=0;n<t.length;n++)n<t.length?(yield this.uploadFile2(t[n],e),console.log("check",t[n])):console.log("done uploading")}))}uploadFile2(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){const n=`${this.basePath}/${e}/${t.name}`,r=this.afStorage.ref(n);console.log("loading item ",t),yield this.afStorage.upload(n,t),yield this.afs.collection("Users").doc(e).update({"user.skill.Wokerimages":this.arrayUnion(yield r.getDownloadURL().toPromise())}),console.log("url",yield r.getDownloadURL().toPromise())}))}addreview(t,e){this.afs.collection("Users").doc(t).update({"user.skill.reviews":this.arrayUnion(e)}),console.log("review added")}}return t.\u0275fac=function(e){return new(e||t)(r.ac(fm),r.ac(Fb))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vI=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.data=e,this.userservice=n,this.afStorage=r,this.arrayUnion=Qt.a.firestore.FieldValue.arrayUnion,this.arrayRemove=Qt.a.firestore.FieldValue.arrayRemove,this.backgroundImage=["../../../assets/image1.jpg","../../../assets/image2.jpg","../../../assets/image3.jpg","../../../assets/image4.jpg","../../../assets/image1.jpg"],this.project=new Dw({}),this.Userid=localStorage.getItem("user"),this.basePath="uploads/projectImages",this._userid=this.data.getuserid(),this.randomColor=Math.floor(16777215*Math.random()).toString(16),this.image=Math.floor(5*Math.random()),this.userservice.getActiveUser(this.Userid).subscribe(t=>{this.username=t.user.lastName})}newproject(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){let n={name:t,description:e,tasks:0,workers:0,color:"#"+this.randomColor,projectProgress:"0"},r={taskname:"New task",task:[{issuedby:"user",assignedto:"worker",task:"my first task",img:""}]};console.log("background image",this.backgroundImage[this.image]),console.log("created projects",n),console.log("user id",this._userid),this.afs.collection("Users").doc(this._userid).collection("Projects").add({project:n}).then(t=>Object(Zi.b)(this,void 0,void 0,(function*(){yield this.afs.collection("Users").doc(this._userid).collection("Projects").doc(t.id).set({projectId:t.id,project:n,Tasks:[r],backgroundImage:this.backgroundImage[this.image],isProjectComplete:!1}),console.log("Document written with ID: ",t.id),this.image=0}))).catch(t=>{console.log("error occured",t)})}))}getUserproject(){let t=localStorage.getItem("user");return this.afs.collection("Users").doc(t).collection("Projects").valueChanges()}oneproject(t){this.project.next(t)}userproject(t,e){return this.afs.collection("Users").doc(e).collection("Projects").doc(t).valueChanges()}newtask(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){let n={taskname:t,task:[]};console.log("Username",this.username),console.log("The new task",n),console.log("projectid",e),this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(e).update({Tasks:this.arrayUnion(n)})}))}deletetask(t,e,n){console.log("task",e),this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(n).update({Task:this.arrayRemove(e.taskname)})}onaddcard(t,e,n,r){let i=t,o={issuedby:this.username,assignedto:"",task:r,img:""};for(let s=0;s<t.length;s++)e==s&&(console.log("updated task in firebase",i[s].task.push(o)),console.log("updated task in firebase222",i),this.UpdateTasks(i,n))}onaddcardworker(t,e,n,r,i){let o=t,s={issuedby:this.username,assignedto:"",task:r,img:""};for(let a=0;a<t.length;a++)e==a&&(console.log("updated task in firebase",o[a].task.push(s)),console.log("updated task in firebase222",o),this.UpdateTasksworkers(o,n,i))}deletecardonlist(t,e,n,r,i){console.log("cliked",r[n].task);for(let o=0;o<r[n].task.length;o++)o==e&&(console.log("card and index",o,r[n].task),r[n].task.splice(o,1),this.UpdateTasks(r,i))}deletecardonlistworker(t,e,n,r,i,o){console.log("cliked",r[n].task);for(let s=0;s<r[n].task.length;s++)s==e&&(console.log("card and index",s,r[n].task),r[n].task.splice(s,1),this.UpdateTasksworkers(r,i,o))}UpdateTasks(t,e){return Object(Zi.b)(this,void 0,void 0,(function*(){let n,r,i=this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(e);console.log("the tasks",t),i.update({Tasks:t}),yield this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(e).get().subscribe(t=>Object(Zi.b)(this,void 0,void 0,(function*(){console.log("the dtata recieved",t.data().Tasks),n=t.data().indexedValue,r=t.data().Tasks;let i=yield this.subtaskcalc(n,r);yield this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(e).update({"project.projectProgress":Math.round(i)})})))}))}UpdateTasksworkers(t,e,n){return Object(Zi.b)(this,void 0,void 0,(function*(){let r,i,o=this.afs.collection("Users").doc(n).collection("Projects").doc(e);console.log("the tasks",t),o.update({Tasks:t}),yield this.afs.collection("Users").doc(n).collection("Projects").doc(e).get().subscribe(t=>Object(Zi.b)(this,void 0,void 0,(function*(){console.log("the dtata recieved",t.data().Tasks),r=t.data().indexedValue,i=t.data().Tasks;let n=yield this.subtaskcalc(r,i);yield this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(e).update({"project.projectProgress":Math.round(n)})})))}))}addworker(t,e){let n=localStorage.getItem("user");console.log("wokerid and projectid",t,e),this.afs.collection("Users").doc(n).collection("Projects").doc(t).update({Teams:this.arrayUnion(e)})}assignproject(t,e){let n=localStorage.getItem("user");console.log("workerid:",t,"userprojectid:",e),this.afs.collection("Users").doc(t).collection("AssignedProjects").doc(e).set({userprojectid:e,userid:n})}deleteproject(t){console.log("the delete project id",t),this.afs.collection("Users").doc(this.Userid).collection("Projects").doc(t).delete()}_editproject(){}editproject(t){console.log("the id of the project to be editted",t)}workerImageUpload(t,e,n,r,i,o){this.uploadFile(t,e,n,r,i,o),console.log("some file",t,"main tasks index",r,"sub tasks index",i,"list of task",o)}uploadFile(t,e,n,r,i,o){return Object(Zi.b)(this,void 0,void 0,(function*(){const s=`${this.basePath}/${e}/${n}/${t.name}/`,a=this.afStorage.ref(s),c=this.afStorage.upload(s,t);let u=o;c.snapshotChanges().pipe(Jw(()=>{a.getDownloadURL().subscribe(t=>{console.log("File available at",t);for(let o=0;o<u[r].task.length;o++)o==i&&(console.log("card and index",o,u[r].task[i].img=t),this.UpdateTasksworkers(u,n,e))})})).subscribe()}))}AssignTasktoWorker(t,e,n,r,i,o){let s=o;for(let a=0;a<s[r].task.length;a++)a==i&&(console.log("card and index",a,s[r].task[i].assignedto=t),this.UpdateTasks(s,n))}subtaskcalc(t,e){console.log("the list of the task",e,"index cal",t);let n=e[t].task.length;console.log("the why thing",n);let r=0;for(let o=0;o<e.length;o++)console.log("the index reached",o),console.log("he  sdnkndkns",r+=e[o].task.length);let i=n/r*100;return console.log("teh final total",i),i}}return t.\u0275fac=function(e){return new(e||t)(r.ac(fm),r.ac(zx),r.ac(Hx),r.ac(Fb))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yI(t,e){if(1&t&&(r.Wb(0,"span",14),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.Hb(1),r.Bc(t.project.name)}}function _I(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",6),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc().openWorker(n)})),r.Wb(1,"div",7),r.Sb(2,"img",8),r.Vb(),r.Wb(3,"h4"),r.Ac(4),r.Sb(5,"span",9),r.Vb(),r.Wb(6,"div",10),r.Wb(7,"h3"),r.Ac(8," Name: "),r.Wb(9,"span"),r.Ac(10),r.Vb(),r.Vb(),r.Wb(11,"h3"),r.Ac(12," Profession: "),r.Wb(13,"span"),r.Ac(14),r.Vb(),r.Vb(),r.Vb(),r.Wb(15,"button",11),r.Ac(16," Add "),r.yc(17,yI,2,1,"span",12),r.Vb(),r.Wb(18,"button",13),r.Ac(19," View Profile "),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit,n=r.hc();r.Hb(2),r.mc("src",t.user.photo,r.uc),r.Hb(2),r.Cc(" ",null==t.user?null:t.user.skill.ratings," "),r.Hb(6),r.Bc(null==t.user?null:t.user.skill.name),r.Hb(4),r.Bc(null==t.user?null:t.user.skill.profession),r.Hb(3),r.mc("ngForOf",n.projects)}}const wI=function(t,e){return{itemsPerPage:t,currentPage:e}};let OI=(()=>{class t{constructor(t,e,n,r,i,o){this.worker=t,this.activatedroute=e,this.loaderService=n,this.data=r,this.router=i,this.projectservice=o,this.allWokers=[],this.p=1,this.c=1,this.count=4,this.projectservice.getUserproject().subscribe(t=>{this.projects=t,console.log("the projects of the user",t)})}ngOnInit(){this.activatedroute.params.subscribe(t=>{console.log("these are the activated route",t.name),this.nameofCategory=t.name,console.log("the name of the category",this.nameofCategory)}),this.getallwokersofaCategory()}openWorker(t){console.log("worker",t),this.router.navigate(["dashboard/content/worker",t.id])}getallwokersofaCategory(){try{this.loaderService.setHttpProgressStatus(!0),this.worker.getcategoryworkers(this.nameofCategory).subscribe(t=>{this.allWokers=t,console.log("all the workers response",t),console.log("all the workers",this.allWokers),this.loaderService.setHttpProgressStatus(!1)})}catch(t){this.loaderService.setHttpProgressStatus(!1),console.log(t.message)}}updateSearch(t){t?(document.getElementById("workers").style.display="none",document.getElementById("searchResults").style.display="flex",this.data.search(t),console.log(t)):(document.getElementById("workers").style.display="flex",document.getElementById("searchResults").style.display="none")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(bI),r.Rb(rC),r.Rb(qx),r.Rb(zx),r.Rb(vx),r.Rb(vI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-homepage"]],decls:8,vars:8,consts:[[2,"padding","0px 1px"],[1,"contents",2,"background","url('../../assets/background.png')","background-repeat","no-repeat","background-size","cover"],[2,"padding","20px 62px","font-size","30px","font-weight","500","color","white","font-family","Roboto"],["id","workers",1,"workers-container"],["class","worker",3,"click",4,"ngFor","ngForOf"],[3,"pageChange"],[1,"worker",3,"click"],[1,"img-container"],["alt","",3,"src"],[1,"fa","fa-star"],[1,"details"],["smart-tooltip-container","",2,"background-color","#006bd8","width","80%","height","36px","margin-left","20px","border-radius","5px","color","white"],["class","smart-tooltip stay-buttom stick-300 stayonhover",4,"ngFor","ngForOf"],[2,"background-color","#003366","height","36px","width","80%","margin-left","20px","border-radius","5px","color","white","margin-bottom","10px"],[1,"smart-tooltip","stay-buttom","stick-300","stayonhover"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"h3",2),r.Ac(3),r.Vb(),r.Wb(4,"div",3),r.yc(5,_I,20,5,"div",4),r.ic(6,"paginate"),r.Vb(),r.Wb(7,"pagination-controls",5),r.dc("pageChange",(function(t){return e.c=t})),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(3),r.Cc("",e.nameofCategory,"s Category"),r.Hb(2),r.mc("ngForOf",r.jc(6,2,e.allWokers,r.qc(5,wI,e.count,e.c))))},directives:[V,Ny,qb],pipes:[Ay],styles:[".contents[_ngcontent-%COMP%]{background-image:url(pop.2e60850e6ff93bf417b9.jpg);background-size:cover;width:100%;background-position:50%;background-repeat:no-repeat;padding:84px 0 47px;display:block}.contents[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;text-align:center}.contents[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:37%;left:26%}.contents[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]{border-radius:4px;width:50%;padding:.5rem .5rem .5rem 2.5rem;border:transparent;background:#fff;margin:30px 20px;height:23px;font-size:13px}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:20px;padding:15px 60px}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .worker[_ngcontent-%COMP%]{background:#fff;position:relative;display:grid;grid-gap:20px;align-items:stretch;flex-direction:column;border:1px solid #ccc;box-shadow:2px 2px 6px 0 rgba(0,0,0,.8)}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .worker[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:33px;background-color:#006bd8;text-align:center;color:#fff;padding:3px 4px;font-size:14px}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:200px;max-width:220px;background-color:#ccc}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:2px;margin-left:21px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:196px;color:#000}.contents[_ngcontent-%COMP%]   .workers-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-family:Poppins;text-transform:capitalize}.worker[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})();function CI(t,e){if(1&t&&r.Sb(0,"img",39),2&t){const t=r.hc();r.nc("src",null==t.user.user?null:t.user.user.photo,r.uc)}}function xI(t,e){if(1&t&&r.Sb(0,"img",40),2&t){const t=r.hc();r.nc("src",null==t.user.user?null:t.user.user.photo,r.uc)}}function kI(t,e){1&t&&r.Sb(0,"i",41)}function SI(t,e){if(1&t&&r.Sb(0,"img",42),2&t){const t=r.hc();r.nc("src",null==t.user.user?null:t.user.user.photo,r.uc)}}function EI(t,e){if(1&t&&r.Sb(0,"img",43),2&t){const t=r.hc();r.nc("src",null==t.user.user?null:t.user.user.photo,r.uc)}}let II=(()=>{class t{constructor(t,e,n,r){this.auth=t,this.router=e,this.userservice=n,this.dataservice=r}ngOnInit(){this._userId=this.dataservice.getuserid(),this.user=this.userservice.getActiveUser(this.dataservice.getuserid()).subscribe(t=>{this.user=t,console.log("user",this.user.user.firstName)})}onOpensidebar(){let t=document.querySelector(".sidebar"),e=document.querySelector(".sidebarBtn");t.classList.toggle("active"),t.classList.contains("active")?e.classList.replace("bx-menu","bx-menu-alt-right"):e.classList.replace("bx-menu-alt-right","bx-menu")}onLogOut(){this.auth.SignOut().then(()=>{localStorage.clear(),this.router.navigate(["login"])})}updateSearch(t){t?(this.dataservice.search(t),console.log(t),this.router.navigate(["dashboard/content/search"])):this.router.navigate(["dashboard/content/home-page"])}changeProfile(t){console.log(t),document.getElementById("file-upload").click()}onChange(t){let e=t.target.files[0];e&&this.userservice.UserProfilePhoto(e,this._userId)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bx),r.Rb(vx),r.Rb(Hx),r.Rb(zx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-dashboard"]],decls:59,vars:10,consts:[["href","https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css","rel","stylesheet"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"sidebar"],[1,"logo-details"],[1,"bx","bxl-c-plus-plus"],[1,"logo_name"],[1,"nav-links"],["routerLink","/dashboard/content/home-page","routerLinkActive","active"],[1,"bx","bx-grid-alt"],[1,"links_name"],["routerLink","/dashboard/content/projects","routerLinkActive","active"],[1,"bx","bx-folder-open"],["routerLink","/dashboard/content/worker","routerLinkActive","active"],[1,"bx","bx-briefcase"],[1,"log_out"],[3,"click"],[1,"bx","bx-log-out"],[1,"home-section"],[1,"sidebar-button"],[1,"bx","bx-menu","sidebarBtn",3,"click"],[1,"dashboard"],[1,"search-box"],["type","text","placeholder","Search...",3,"keyup"],[1,"bx","bx-search"],["smart-tooltip-container","",1,"profile-details"],["style","width: 30%;\n            height: 90%;\n            object-fit: cover;","id","image",3,"src",4,"ngIf"],["style","width: 30%;\n            height: 90%;\n            object-fit: cover;","id","imagedisplay",3,"src",4,"ngIf"],[1,"admin_name"],[1,"bx","bx-chevron-down"],["id","hiddenText",1,"smart-tooltip","stay-left","stick-300","stayonhover",2,"top","0px","right","1px","text-align","center"],[1,"profile"],["style","position: relative;\n                  top: 0px;\n                  left: 0px;\n                  font-size: 75px;\n                  color: black;\n                  padding: 0px;","class","fas fa-user-circle",4,"ngIf"],[1,"imgdisp"],["style","height: 70px;width: 70px;border-radius: 50%;","id","image",3,"src",4,"ngIf"],["id","imagedisplay",3,"src",4,"ngIf"],[1,"fa","fa-camera",3,"click"],["data-icon","fa:home",1,"iconify"],["id","file-upload","type","file","accept","image/*",3,"change"],[1,"home-content"],["id","image",2,"width","30%","height","90%","object-fit","cover",3,"src"],["id","imagedisplay",2,"width","30%","height","90%","object-fit","cover",3,"src"],[1,"fas","fa-user-circle",2,"position","relative","top","0px","left","0px","font-size","75px","color","black","padding","0px"],["id","image",2,"height","70px","width","70px","border-radius","50%",3,"src"],["id","imagedisplay",3,"src"]],template:function(t,e){1&t&&(r.Sb(0,"link",0),r.Sb(1,"meta",1),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Sb(4,"i",4),r.Wb(5,"span",5),r.Ac(6,"Con-Tek"),r.Vb(),r.Vb(),r.Wb(7,"ul",6),r.Wb(8,"li"),r.Wb(9,"a",7),r.Sb(10,"i",8),r.Wb(11,"span",9),r.Ac(12,"Dashboard"),r.Vb(),r.Vb(),r.Vb(),r.Wb(13,"li"),r.Wb(14,"a",10),r.Sb(15,"i",11),r.Wb(16,"span",9),r.Ac(17,"Project"),r.Vb(),r.Vb(),r.Vb(),r.Wb(18,"li"),r.Wb(19,"a",12),r.Sb(20,"i",13),r.Wb(21,"span",9),r.Ac(22,"Worker"),r.Vb(),r.Vb(),r.Vb(),r.Wb(23,"li",14),r.Wb(24,"a",15),r.dc("click",(function(){return e.onLogOut()})),r.Sb(25,"i",16),r.Wb(26,"span",9),r.Ac(27,"Log out"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(28,"section",17),r.Wb(29,"nav"),r.Wb(30,"div",18),r.Wb(31,"i",19),r.dc("click",(function(){return e.onOpensidebar()})),r.Vb(),r.Wb(32,"span",20),r.Ac(33,"Dashboard"),r.Vb(),r.Vb(),r.Wb(34,"div",21),r.Wb(35,"input",22),r.dc("keyup",(function(t){return e.updateSearch(t.target.value)})),r.Vb(),r.Sb(36,"i",23),r.Vb(),r.Wb(37,"div",24),r.yc(38,CI,1,1,"img",25),r.yc(39,xI,1,1,"img",26),r.Wb(40,"span",27),r.Ac(41),r.Vb(),r.Sb(42,"i",28),r.Wb(43,"h3",29),r.Wb(44,"div",30),r.yc(45,kI,1,0,"i",31),r.Wb(46,"div",32),r.yc(47,SI,1,1,"img",33),r.yc(48,EI,1,1,"img",34),r.Vb(),r.Wb(49,"i",35),r.dc("click",(function(t){return e.changeProfile(t)})),r.Vb(),r.Sb(50,"span",36),r.Wb(51,"input",37),r.dc("change",(function(t){return e.onChange(t)})),r.Vb(),r.Wb(52,"h5"),r.Ac(53),r.Vb(),r.Wb(54,"h6"),r.Ac(55),r.Vb(),r.Vb(),r.Sb(56,"hr"),r.Vb(),r.Vb(),r.Vb(),r.Wb(57,"div",38),r.Sb(58,"router-outlet"),r.Vb(),r.Vb()),2&t&&(r.Hb(38),r.mc("ngIf","null"!=(null==e.user.user?null:e.user.user.photo)),r.Hb(1),r.mc("ngIf",null==e.user?null:e.user.photo),r.Hb(2),r.Dc("",null==e.user||null==e.user.user?null:e.user.user.firstName," ",null==e.user.user?null:e.user.user.lastName,""),r.Hb(4),r.mc("ngIf","null"==(null==e.user.user?null:e.user.user.photo)),r.Hb(2),r.mc("ngIf","null"!=(null==e.user.user?null:e.user.user.photo)),r.Hb(1),r.mc("ngIf",null==e.user?null:e.user.photo),r.Hb(5),r.Dc("",null==e.user||null==e.user.user?null:e.user.user.firstName," ",null==e.user.user?null:e.user.user.lastName,""),r.Hb(2),r.Bc(null==e.user.user?null:e.user.user.email))},directives:[_x,Ox,qb,U,Cx],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.sidebar[_ngcontent-%COMP%]{position:fixed;height:100%;width:240px;background:#036;transition:all .5s ease}.sidebar.active[_ngcontent-%COMP%]{width:60px}.sidebar[_ngcontent-%COMP%]   .logo-details[_ngcontent-%COMP%]{height:80px;display:flex;align-items:center}.sidebar[_ngcontent-%COMP%]   .logo-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;font-weight:500;color:#fff;min-width:60px;text-align:center}.sidebar[_ngcontent-%COMP%]   .logo-details[_ngcontent-%COMP%]   .logo_name[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:500;margin-right:5px}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{margin-top:10px}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;list-style:none;height:50px}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;text-decoration:none;transition:all .4s ease}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#081d45}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#081d45;outline:none;position:relative;border-top-left-radius:20px;border-bottom-left-radius:20px}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{min-width:60px;text-align:center;font-size:18px;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .links_name[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:400;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .log_out[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.home-section[_ngcontent-%COMP%]{position:relative;background:#fff;min-height:100vh;width:calc(100% - 240px);left:240px;transition:all .5s ease}.sidebar.active[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]{width:calc(100% - 60px);left:60px}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{justify-content:space-between;height:80px;background:#ccc;display:flex;align-items:center;position:fixed;width:calc(100% - 240px);left:240px;padding:0 20px;transition:all .5s ease;box-shadow:0 5px 10px rgba(0,0,0,.5);z-index:2}.sidebar.active[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{left:60px;width:calc(100% - 60px)}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:24px;font-weight:500}nav[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px;margin-right:10px}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;height:50px;max-width:550px;width:100%;margin:0 20px}nav[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;background:#081d45;border:2px solid #efeef1;border-radius:6px;font-size:18px;padding:0 15px;color:#fff}nav[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .bx-search[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;background:#2697ff;right:5px;top:50%;transform:translateY(-50%);border-radius:4px;line-height:40px;text-align:center;color:#fff;font-size:22px;transition:all .4 ease}.bx-search[_ngcontent-%COMP%]::placeholder{color:#fff}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f6fa;border:2px solid #efeef1;border-radius:6px;height:50px;min-width:190px;padding:0 15px 0 2px}nav.profile-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:6px;object-fit:cover}nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .admin_name[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#333;margin:0 10px;white-space:nowrap}nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;color:#333}#hiddenText[_ngcontent-%COMP%]{color:#000;font-family:poppins;padding:10px;background-color:#fff;box-shadow:0 2px 10px rgba(0,0,0,.2)}#hiddenText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;text-align:center}#hiddenText[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:hsla(0,0%,50.2%,.253)}#hiddenText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], #hiddenText[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 66px 4px 39px;cursor:pointer;font-size:90px;color:#459ce3}#hiddenText[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px;text-align:center;font-family:Poppins;font-weight:500}#hiddenText[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px;text-align:center;opacity:.5}#hiddenText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;border-radius:.5rem;font-size:1rem;margin:.7rem 0!important;border:1px solid #e8b9b9;display:inline-block;padding:5px 15px}#hiddenText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#000;background-color:#459ce3}.profile[_ngcontent-%COMP%]{padding:10px;border-radius:15px;line-height:10px}.profile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:95px;top:60px;padding:10px;color:#cfdae5;font-size:20px;cursor:pointer}#file-upload[_ngcontent-%COMP%]{display:none}.ta[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#00f}#image[_ngcontent-%COMP%]:hover, .right-side[_ngcontent-%COMP%]:hover, .ta[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}#image[_ngcontent-%COMP%]:hover{border:2px solid #000}#imagedisplay[_ngcontent-%COMP%]{display:none;height:140px;width:140px;position:absolute;right:90%;top:1%}.imgdisp[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   #imagedisplay[_ngcontent-%COMP%]{display:block}@media (max-width:1240px){.sidebar[_ngcontent-%COMP%]{width:60px}.sidebar.active[_ngcontent-%COMP%]{width:220px}.home-section[_ngcontent-%COMP%]{width:calc(100% - 60px);left:60px}.sidebar.active[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]{overflow:hidden;left:220px}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:calc(100% - 60px);left:60px}.sidebar.active[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:calc(100% - 220px);left:220px}}@media (max-width:1000px){.overview-boxes[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:calc(100% / 2 - 15px);margin-bottom:15px}}@media (max-width:700px){nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .admin_name[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{display:none}.home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{height:50px;min-width:40px}}@media (max-width:550px){.overview-boxes[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.sidebar.active[_ngcontent-%COMP%] ~ .home-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{display:none}}']}),t})(),TI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-contents"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Sb(1,"router-outlet"),r.Vb())},directives:[Cx],styles:[".container[_ngcontent-%COMP%]{display:1px solid #000;max-width:100%!important;padding:0}"]}),t})(),PI=(()=>{class t{constructor(t,e){this.project=t,this.loaderService=e,this.onResult=new r.q}ngOnInit(){this.ProjectForm=new xw({name:new Cw(null),description:new Cw(null)})}onSubmit(){return Object(Zi.b)(this,void 0,void 0,(function*(){this.loaderService.setHttpProgressStatus(!0),console.log("Project form",this.ProjectForm.value),yield this.project.newproject(this.ProjectForm.value.name,this.ProjectForm.value.description),this.ProjectForm.reset(),this.onResult.emit(!1),this.loaderService.setHttpProgressStatus(!1)}))}onBack(t){this.onResult.emit(t),console.log("onBack",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vI),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-project-modal"]],outputs:{onResult:"onResult"},decls:9,vars:1,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[3,"formGroup","ngSubmit"],["type","email","placeholder","Name","formControlName","name"],["type","email","placeholder","Description","formControlName","description"],["type","submit"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.onBack(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"form",3),r.dc("ngSubmit",(function(){return e.onSubmit()})),r.Sb(4,"div"),r.Sb(5,"input",4),r.Sb(6,"input",5),r.Wb(7,"button",6),r.Ac(8,"Add"),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(3),r.mc("formGroup",e.ProjectForm))},directives:[Sw,R_,Tw,E_,M_,Aw],styles:[".Modal[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;float:left;background-color:#000;background-color:rgba(0,0,0,.4);z-index:1;position:fixed}.modal-content[_ngcontent-%COMP%]{background:#036;padding:30px 20px;width:450px;margin:200px auto;box-shadow:0 15px 25px rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{box-sizing:border-box}input[_ngcontent-%COMP%]{font-family:Poppins;color:#000;font-weight:300;font-size:14px;border-radius:4px;line-height:10px;background-color:#fff;padding:13px;margin-bottom:10px;width:80%;-ms-box-sizing:border-box;border:1px solid #000}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px 20px;justify-content:center}button[_ngcontent-%COMP%]{background-color:#ff6801;color:#fff;font-family:Poppins;text-transform:uppercase;letter-spacing:1px;width:37%;cursor:pointer;font-size:18px;padding-top:10px;padding-bottom:10px;transition:all .3s;border-radius:4px;margin:4px 25%}p[_ngcontent-%COMP%]{padding:10px;color:red}@media only screen and (max-width:580px){.modal-content[_ngcontent-%COMP%]{left:3%;margin-right:3%;width:50%;margin-left:27%;padding-left:3%;padding-right:3%;margin-top:50%}}"]}),t})(),AI=(()=>{class t{constructor(){this.OnResult=new r.q}ngOnInit(){}chooseOption(t){this.OnResult.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-deletemodal"]],inputs:{title:"title"},outputs:{OnResult:"onResult"},decls:10,vars:1,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[1,"submit"],[2,"background-color","rgb(202 80 80)","border-color","rgb(192, 247, 111)",3,"click"],["id","btn",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.chooseOption(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"h4"),r.Ac(4),r.Vb(),r.Wb(5,"div",3),r.Wb(6,"button",4),r.dc("click",(function(){return e.chooseOption(!0)})),r.Ac(7,"Yes, Delete!"),r.Vb(),r.Wb(8,"button",5),r.dc("click",(function(){return e.chooseOption(!1)})),r.Ac(9,"Cancel"),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(4),r.Bc(e.title))},styles:[".Modal[_ngcontent-%COMP%]{position:fixed;background-color:#fff!important;z-index:200;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.Modal[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:20px;position:absolute;right:2rem;top:2rem;color:red;cursor:pointer}.modal-content[_ngcontent-%COMP%]{background-color:#fff;flex-direction:column;margin:200px auto;padding:20px;border:1px solid #888;width:260px;border-radius:10px}h4[_ngcontent-%COMP%]{text-align:center;color:#ed1e23;font-size:1rem}button[_ngcontent-%COMP%]{width:87px;height:35px;border-radius:5px;background:#2980b9;border:none}.submit[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:10px}"]}),t})(),jI=(()=>{class t{constructor(t){this.projectservice=t,this.onResult=new r.q}ngOnInit(){this.editProjectForm=new xw({name:new Cw(null),description:new Cw(null)})}onBack(t){this.onResult.emit(t),console.log("onBack",t)}onSubmit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-edit-project"]],outputs:{onResult:"onResult"},decls:12,vars:1,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[2,"text-align","center","font-size","16px","color","green"],["type","email","placeholder","Name","formControlName","name"],["type","email","placeholder","Description","formControlName","description"],[1,"psd"],["type","submit"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.onBack(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"form",3),r.dc("ngSubmit",(function(){return e.onSubmit()})),r.Wb(4,"div"),r.Wb(5,"h3",4),r.Ac(6,"Edit your project"),r.Vb(),r.Vb(),r.Sb(7,"input",5),r.Sb(8,"input",6),r.Wb(9,"div",7),r.Wb(10,"button",8),r.Ac(11,"send"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(3),r.mc("formGroup",e.editProjectForm))},directives:[Sw,R_,Tw,E_,M_,Aw],styles:[".Modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:200px auto;padding:20px;border:1px solid #888;width:350px;border-radius:10px}.psd[_ngcontent-%COMP%]{margin:10px 115px 5px}input[_ngcontent-%COMP%]{width:85%;height:50px;border:none;border-bottom:2px solid #000}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px auto;justify-content:center}button[_ngcontent-%COMP%]{height:4.5rem;width:12.25rem;border-radius:1rem;font-size:1.5rem;outline:transparent;cursor:pointer;background-color:#279127;color:#f0f8ff;border:none}p[_ngcontent-%COMP%]{padding:10px;color:red}"]}),t})();function MI(t,e){1&t&&r.Sb(0,"div")}const RI=function(t){return{"background-color":t}};function NI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",7),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc().onprojectclicked(n)})),r.Wb(1,"div",8),r.Wb(2,"div"),r.Wb(3,"h1"),r.Ac(4),r.Vb(),r.Wb(5,"h4"),r.Ac(6),r.Vb(),r.Vb(),r.Wb(7,"div",9),r.Sb(8,"i",10),r.Wb(9,"h3",11),r.Wb(10,"span",12),r.dc("click",(function(n){r.tc(t);const i=e.$implicit;return r.hc().deleteproject(n,i)})),r.Ac(11,"Delete project"),r.Vb(),r.Sb(12,"hr"),r.Wb(13,"span",12),r.dc("click",(function(n){r.tc(t);const i=e.$implicit;return r.hc().oneditproject(i,n)})),r.Ac(14,"Edit project"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(15,"div",13),r.Sb(16,"div",14),r.Wb(17,"div",15),r.Ac(18),r.Vb(),r.Wb(19,"div",16),r.Wb(20,"div",17),r.Sb(21,"div",18),r.Vb(),r.Wb(22,"div",19),r.Sb(23,"div",18),r.Vb(),r.Vb(),r.Vb(),r.Wb(24,"div",20),r.Sb(25,"div",21),r.Wb(26,"div",22),r.Wb(27,"i",23),r.Wb(28,"span"),r.Ac(29),r.Vb(),r.Vb(),r.yc(30,MI,1,0,"div",5),r.Wb(31,"i",24),r.Wb(32,"span"),r.Ac(33),r.Vb(),r.Vb(),r.Wb(34,"i",25),r.dc("click",(function(n){r.tc(t);const i=e.$implicit;return r.hc().deleteproject(n,i)})),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit,n=r.hc();r.Hb(1),r.mc("ngStyle",r.pc(7,RI,t.project.color)),r.Hb(3),r.Bc(t.project.name),r.Hb(2),r.Bc(t.project.description),r.Hb(12),r.Cc("",t.project.projectProgress,"%"),r.Hb(11),r.Bc(null==t||null==t.Teams?null:t.Teams.length),r.Hb(1),r.mc("ngIf",n.it),r.Hb(3),r.Bc(null==t||null==t.Tasks?null:t.Tasks.length)}}function DI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"app-project-modal",26),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalResult(e)})),r.Vb(),r.Vb()}}function LI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",27),r.Wb(1,"app-deletemodal",28),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalResultdelete(e)})),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(1),r.mc("title",t.message)}}function VI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"app-edit-project",26),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalResultEdit(e)})),r.Vb(),r.Vb()}}let FI=(()=>{class t{constructor(t,e,n){this.projectservice=t,this.router=e,this.loaderService=n,this.toggle=!1,this.allprojects=[],this.c=2,this.count=3}ngOnInit(){this.loaderService.setHttpProgressStatus(!0),this.userprojects()}onCreateProject(){this.toggle=!this.toggle}userprojects(){this.loaderService.setHttpProgressStatus(!0),this.projectservice.getUserproject().subscribe(t=>{console.log("users projects",t),this.allprojects=t}),this.loaderService.setHttpProgressStatus(!1)}onModalResult(t){console.log(t),this.toggle=t}onprojectclicked(t){this.router.navigate(["/dashboard/content/projectboard/",t.projectId]),console.log("clicked project",t)}onModalResultdelete(t){t?(console.log("the project",this.deletedproject.projectId),this.projectservice.deleteproject(this.deletedproject.projectId),this.modalState=!1):this.modalState=!1}deleteproject(t,e){t.stopPropagation(),this.modalState=!0,this.message="Are you sure you want to delete this project?",this.deletedproject=e}oneditproject(t,e){e.stopPropagation(),console.log("item to be edited",t.projectId),this.projectservice.oneproject(t),this.isEdit=!0}onModalResultEdit(t){console.log(t),this.isEdit=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vI),r.Rb(vx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-projects"]],outputs:{message:"message"},decls:12,vars:4,consts:[[1,"container"],[1,"add",3,"click"],[1,"fas","fa-plus"],[1,"Project_container"],["class","project",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","Modal",4,"ngIf"],[1,"project",3,"click"],[1,"top",3,"ngStyle"],["smart-tooltip-container","",1,""],[1,"fas","fa-ellipsis-v",2,"padding","5px","cursor","pointer"],["id","tts",1,"smart-tooltip","stay-right","stick-300","stayonhover"],[3,"click"],[1,"circular"],[1,"inner"],[1,"number"],[1,"circle"],[1,"bar","left"],[1,"progress"],[1,"bar","right"],[1,"bottom"],[1,"hl"],[1,"controls"],[1,"fas","fa-hard-hat"],[1,"fas","fa-tasks"],[1,"far","fa-trash-alt",2,"padding","5px",3,"click"],[3,"onResult"],[1,"Modal"],[3,"title","onResult"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"h1"),r.Ac(2,"Projects"),r.Vb(),r.Wb(3,"div",1),r.dc("click",(function(){return e.onCreateProject()})),r.Sb(4,"i",2),r.Wb(5,"h3"),r.Ac(6,"Add a New Project"),r.Vb(),r.Vb(),r.Wb(7,"div",3),r.yc(8,NI,35,9,"div",4),r.Vb(),r.Vb(),r.yc(9,DI,2,0,"div",5),r.yc(10,LI,2,1,"div",6),r.yc(11,VI,2,0,"div",5)),2&t&&(r.Hb(8),r.mc("ngForOf",e.allprojects),r.Hb(1),r.mc("ngIf",e.toggle),r.Hb(1),r.mc("ngIf",e.modalState),r.Hb(1),r.mc("ngIf",e.isEdit))},directives:[V,U,B,qb,PI,AI,jI],styles:[".container[_ngcontent-%COMP%]{padding:85px 12px;margin:0 auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:poppins;font-size:18px;color:rgba(0,0,0,.5686274509803921)}.container[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;margin-top:10px;grid-gap:10px;align-items:center;color:rgba(0,128,0,.8705882352941177)}.add[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;color:#adff2f}.Project_container[_ngcontent-%COMP%]{margin-top:20px;position:relative;flex-wrap:wrap;display:flex;grid-gap:20px 60px;height:86vh;overflow:auto;width:100%}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid rgba(0,0,0,.25);box-sizing:border-box;box-shadow:0 4px 10px rgba(0,0,0,.25);border-radius:15px;width:290px;height:280px;cursor:pointer}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-radius:15px 15px 0 0;padding:15px 20px;font-family:Poppins;color:#000;display:flex;justify-content:space-between}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:700;color:#000}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:100;font-family:emoji;padding-top:12px}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:8px}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{position:absolute;bottom:-2px;padding:15px 20px;width:244px}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{font-family:Material Icons;display:flex;text-align:center;justify-content:space-between;align-items:center}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(0,0,0,.603);font-size:16px}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:2px}.Project_container[_ngcontent-%COMP%]   .project[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .hl[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:3px solid rgba(17,16,16,.5019607843137255);width:100%}.circular[_ngcontent-%COMP%]{height:100px;width:100px;position:relative;margin:10px 90px}.circular[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:80px;width:80px;margin:-40px 0 0 -40px;background:#fff;border-radius:100%}.circular[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%], .circular[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{position:absolute;z-index:1;top:50%;left:50%}.circular[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{transform:translate(-50%,-50%);font-size:18px;font-weight:500;color:rgba(58,59,63,.5490196078431373)}.circular[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background:#fff;clip:rect(0,100px,100px,50px)}.circle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%], .circular[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;-webkit-border-radius:100%}.circle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{clip:rect(0,50px,100px,0);background:#4158d0}.circle[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{animation:left 4s linear both}@keyframes left{to{transform:rotate(180deg)}}.circle[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{transform:rotate(180deg)}.circle[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{animation:right 4s linear both;animation-delay:4s}@keyframes right{to{transform:rotate(180deg)}}#tts[_ngcontent-%COMP%]{padding:10px;background-color:rgba(46,62,150,.815);width:100px}"]}),t})();function UI(t,e){if(1&t&&(r.Wb(0,"option",26),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.nc("value",t),r.Hb(1),r.Cc(" ",t," ")}}function WI(t,e){1&t&&r.Sb(0,"img",27),2&t&&r.mc("src",e.$implicit,r.uc)}let qI=(()=>{class t{constructor(t,e,n){this.userservice=t,this.data=e,this.loaderService=n,this.profession=["Acoustics consultant","Architect","Architectural technician","Architectural technologist","Bricklayer","Builders merchant","Building control officer","Building services engineer","Building site inspector","Building surveyor","Building technician","Carpenter","Carpet fitter and floor layer","Cavity insulation installer","Ceiling fixer","Construction contracts manager","Construction labourer","Construction manager","Construction site supervisor","Dry liner","Electrician","Facilities manager","Fence installer","Gas service technician","Gas mains layer","General practice surveyor","Glazier","Kitchen and bathroom fitter","Landscaper","Paint sprayer","Painter and decorator","Plasterer","Plumber","Quantity surveyor","Refrigeration and air-conditioning installer","Roofer","Scaffolder","Steel erector","Stonemason","Tiler","Welder","Water network operative","Window fitter","Wood machinist"],this.onResultWorker=new r.q,this.images=[],this.workerimages=[],this.workerForm=new xw({name:new Cw("",[U_.required,U_.minLength(3)]),profession:new Cw("",U_.required),location:new Cw("",U_.required),phoneNumber:new Cw("",U_.required),email:new Cw("",[U_.required,U_.email]),gender:new Cw("",U_.required),Wokerimages:new Cw,ratings:new Cw(2.5),reviews:new Cw([{}])})}ngOnInit(){}onBack(t){this.onResultWorker.emit(t),console.log("onBack",t)}onsubmit(){return Object(Zi.b)(this,void 0,void 0,(function*(){console.log("this is the workers details",this.workerForm.value);try{this.loaderService.setHttpProgressStatus(!0);let t=this.data.newWorker(this.workerForm.value,this.workerimages);this.onBack(!1),console.log("response from woker ipload",t)}catch(t){console.log("rerror from upload",t),this.loaderService.setHttpProgressStatus(!1)}}))}onAddpic(){document.getElementById("image-upload").click()}onChange(t){if(t.target.files&&t.target.files[0]){var e=t.target.files.length;for(let r=0;r<e;r++){var n=new FileReader;n.onload=e=>{this.workerimages.push(t.target.files[r]),this.images.push(e.target.result)},n.readAsDataURL(t.target.files[r])}}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hx),r.Rb(zx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-woker-modal"]],outputs:{onResultWorker:"onResultWorker"},decls:37,vars:3,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[1,"wokerbox"],[1,"woker-content"],[3,"formGroup","ngSubmit"],[1,"right-side"],["type","text","placeholder","Name of Company","formControlName","name"],[2,"display","block"],["for","profession"],["name","profession","id","profession","formControlName","profession"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Other Profession","formControlName","profession"],["type","text","placeholder","Location(kumasi, Region)","formControlName","location"],["type","number","placeholder","Phone(+233)","formControlName","phoneNumber"],["type","email","placeholder","Email","formControlName","email"],["for","gender"],["name","Gender","id","Gender","formControlName","gender"],["value","Male"],["value","Female"],[1,"left-side"],[2,"margin-top","5px","display","flex","color","#ff6801","cursor","pointer","grid-gap","5px",3,"click"],[1,"fas","fa-plus",2,"margin-top","6px"],["id","image-upload","type","file","accept","image/*","multiple","",2,"display","none",3,"change"],["style","margin: 3px; height: 35px; width: 60px;",3,"src",4,"ngFor","ngForOf"],["type","submit"],[3,"value"],[2,"margin","3px","height","35px","width","60px",3,"src"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.onBack(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Wb(4,"h1"),r.Ac(5,"Add Profession Details"),r.Vb(),r.Wb(6,"div",4),r.Wb(7,"form",5),r.dc("ngSubmit",(function(){return e.onsubmit()})),r.Wb(8,"div",6),r.Sb(9,"input",7),r.Wb(10,"div",8),r.Wb(11,"label",9),r.Ac(12,"Select Profession: "),r.Vb(),r.Wb(13,"select",10),r.yc(14,UI,2,2,"option",11),r.Vb(),r.Vb(),r.Sb(15,"input",12),r.Sb(16,"input",13),r.Sb(17,"input",14),r.Sb(18,"input",15),r.Wb(19,"div",8),r.Wb(20,"label",16),r.Ac(21,"Select Gender: "),r.Vb(),r.Wb(22,"select",17),r.Wb(23,"option",18),r.Ac(24,"Male"),r.Vb(),r.Wb(25,"option",19),r.Ac(26,"Female"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(27,"div",20),r.Wb(28,"div",21),r.dc("click",(function(){return e.onAddpic()})),r.Sb(29,"i",22),r.Wb(30,"h3"),r.Ac(31,"Add pictures of past works"),r.Vb(),r.Vb(),r.Wb(32,"input",23),r.dc("change",(function(t){return e.onChange(t)})),r.Vb(),r.yc(33,WI,1,1,"img",24),r.Sb(34,"br"),r.Vb(),r.Wb(35,"button",25),r.Ac(36,"Submit"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(7),r.mc("formGroup",e.workerForm),r.Hb(7),r.mc("ngForOf",e.profession),r.Hb(19),r.mc("ngForOf",e.images))},directives:[Sw,R_,Tw,E_,M_,Aw,ew,V,G_,nw,sw],styles:[".Modal[_ngcontent-%COMP%]{width:100%;height:100%;z-index:3;position:fixed;top:0;left:0;float:left;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#036;margin:10px auto;padding:20px;border:1px solid #888;width:350px;border-radius:10px}h1[_ngcontent-%COMP%]{margin:0 0 30px!important;color:#fff;font-weight:700;font-size:20px;text-transform:uppercase}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px auto;justify-content:center}button[_ngcontent-%COMP%]{background-color:#ff6801;text-transform:uppercase;letter-spacing:1px;font-weight:400;width:80%;border:0 solid transparent;cursor:pointer;font-size:18px;padding-top:10px;padding-bottom:10px;transition:all .3s;margin-top:5px;border-radius:4px;margin-left:8%}button[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff;float:left;font-family:Poppins}label[_ngcontent-%COMP%]{margin-right:20px;font-size:14px;margin-top:1px;margin-bottom:3px}.right-side[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Poppins;color:#000;font-weight:300;font-size:14px;border-radius:4px;line-height:10px;background-color:#fff;padding:13px;margin-bottom:10px;width:88%;-ms-box-sizing:border-box;box-sizing:border-box;border:1px solid #000}@media only screen and (max-width:580px){.modal-content[_ngcontent-%COMP%]{left:3%;margin-right:3%;width:88%;margin-left:0;padding-left:3%;padding-right:3%}}"]}),t})(),BI=(()=>{class t{constructor(t,e,n){this.userservice=t,this.dataservice=e,this.loaderService=n,this.profession=["Acoustics consultant","Architect","Architectural technician","Architectural technologist","Bricklayer","Builders merchant","Building control officer","Building services engineer","Building site inspector","Building surveyor","Building technician","Carpenter","Carpet fitter and floor layer","Cavity insulation installer","Ceiling fixer","Construction contracts manager","Construction labourer","Construction manager","Construction site supervisor","Dry liner","Electrician","Facilities manager","Fence installer","Gas service technician","Gas mains layer","General practice surveyor","Glazier","Kitchen and bathroom fitter","Landscaper","Paint sprayer","Painter and decorator","Plasterer","Plumber","Quantity surveyor","Refrigeration and air-conditioning installer","Roofer","Scaffolder","Steel erector","Stonemason","Tiler","Welder","Water network operative","Window fitter","Wood machinist"],this.onResultWorker=new r.q,this.images=[],this.workerimages=[]}ngOnInit(){this.dataservice.workerDetails(this.dataservice.getuserid()).subscribe(t=>{console.log("worker details",t.user.skill),this.name=t.user.skill.name,this.profession=t.user.skill.profession,this.location=t.user.skill.location,this.phoneNumber=t.user.skill.phoneNumber,this.email=t.user.skill.email,this.gender=t.user.skill.gender,this.Wokerimages=t.user.skill.Wokerimages,this.EditWorkerForm=new xw({name:new Cw(this.name),profession:new Cw(this.profession),location:new Cw(this.location),phoneNumber:new Cw(this.phoneNumber),email:new Cw(this.email),gender:new Cw(this.gender),Wokerimages:new Cw(this.Wokerimages)})})}onBack(t){this.onResultWorker.emit(t),console.log("onBack",t)}onUpdate(){return Object(Zi.b)(this,void 0,void 0,(function*(){console.log("this is the workers details",this.EditWorkerForm.value);try{this.loaderService.setHttpProgressStatus(!0);let t=this.dataservice.updateworkerdetails(this.EditWorkerForm.value);this.onBack(!1),console.log("response from woker ipload",t)}catch(t){console.log("rerror from upload",t),this.loaderService.setHttpProgressStatus(!1)}}))}onAddpic(){document.getElementById("image-upload").click()}onChange(t){if(t.target.files&&t.target.files[0]){var e=t.target.files.length;for(let r=0;r<e;r++){var n=new FileReader;n.onload=e=>{this.workerimages.push(t.target.files[r]),this.images.push(e.target.result)},n.readAsDataURL(t.target.files[r])}}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hx),r.Rb(zx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-edit-worker-modal"]],outputs:{onResultWorker:"onResultWorker"},decls:24,vars:1,consts:[["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[1,"wokerbox"],[1,"woker-content"],[3,"formGroup","ngSubmit"],[1,"right-side"],["type","text","placeholder","Name or Name of Company","formControlName","name"],["type","text","placeholder","Other Profession","formControlName","profession"],["type","text","placeholder","Location(kumasi, Region)","formControlName","location"],["type","number","placeholder","Phone(+233)","formControlName","phoneNumber"],["type","email","placeholder","Email","formControlName","email"],[2,"display","block"],["for","gender"],["name","Gender","id","Gender","formControlName","gender"],["value","Male"],["value","Female"],["type","submit"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.dc("click",(function(){return e.onBack(!1)})),r.Vb(),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Wb(4,"h1"),r.Ac(5,"Edit Profession Details"),r.Vb(),r.Wb(6,"div",4),r.Wb(7,"form",5),r.dc("ngSubmit",(function(){return e.onUpdate()})),r.Wb(8,"div",6),r.Sb(9,"input",7),r.Sb(10,"input",8),r.Sb(11,"input",9),r.Sb(12,"input",10),r.Sb(13,"input",11),r.Wb(14,"div",12),r.Wb(15,"label",13),r.Ac(16,"Select Gender: "),r.Vb(),r.Wb(17,"select",14),r.Wb(18,"option",15),r.Ac(19,"Male"),r.Vb(),r.Wb(20,"option",16),r.Ac(21,"Female"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(22,"button",17),r.Ac(23,"Submit"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(7),r.mc("formGroup",e.EditWorkerForm))},directives:[Sw,R_,Tw,E_,M_,Aw,G_,ew,nw,sw],styles:[".Modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#036;margin:200px auto;padding:20px;border:1px solid #888;width:100%;border-radius:10px;box-shadow:0 15px 25px rgba(0,0,0,.9);z-index:1}h1[_ngcontent-%COMP%]{margin:0 0 30px;padding:0;color:#fff;font-weight:700;font-size:20px;text-transform:uppercase}.psd[_ngcontent-%COMP%]{margin:10px 115px 5px}input[_ngcontent-%COMP%]{width:99%;height:50px;border:none;border-bottom:2px solid #000;margin-left:25px}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px auto;justify-content:center}button[_ngcontent-%COMP%]{background-color:#ff6801;color:#fff;height:40px;width:140px;font-size:13px;outline:transparent;cursor:pointer;display:inline-block;font-family:Poppins;text-transform:uppercase;letter-spacing:1px;font-weight:400;border:none;margin-left:25px}.wokerbox[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-family:Roboto;align-items:center;margin-left:25%}.wokerbox[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:10px;display:grid;grid-auto-flow:row;box-sizing:border-box;padding-left:40px;grid-gap:10px}.right-side[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:46px;padding:0 16px;border:2px solid #ddd;border-radius:4px;outline:0;transition:.2s;margin-top:20px;width:85%;font-family:Poppins}.right-side[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{position:relative;background:0 0;z-index:10;width:85%;background-color:#f9f9f9;border:1px solid #e5e5e5;border-radius:4px;font-family:Poppins;margin-left:25px}.right-side[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-family:Poppins;font-size:.9rem;font-size:14px;font-weight:700;margin-top:2px;margin-bottom:2px;display:block;margin-left:25px}.left-side[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();function HI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",4),r.Wb(1,"h1"),r.Ac(2,"Worker"),r.Vb(),r.Wb(3,"div",5),r.dc("click",(function(){return r.tc(t),r.hc().onWorker()})),r.Sb(4,"i",6),r.Wb(5,"h3"),r.Ac(6,"Add a worker profile"),r.Vb(),r.Vb(),r.Vb()}}function zI(t,e){1&t&&(r.Wb(0,"span",30),r.Ac(1," account_circle "),r.Vb())}function KI(t,e){if(1&t&&r.Sb(0,"img",31),2&t){const t=r.hc(2);r.mc("src",t.workerDetails.user.photo,r.uc)}}function GI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",32),r.Wb(1,"i",33),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc(2).imagedelete(n)})),r.Vb(),r.Sb(2,"img",34),r.Wb(3,"div",35),r.Wb(4,"div",36),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc(2).setfeaturedimage(n)})),r.Ac(5,"set image"),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(2),r.mc("src",t,r.uc)}}function $I(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",37),r.Wb(1,"div",38),r.Wb(2,"h3"),r.Ac(3),r.Vb(),r.Wb(4,"h4"),r.Ac(5),r.Vb(),r.Vb(),r.Wb(6,"div",39),r.Wb(7,"button",40),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index;return r.hc(2).joinproject(n,i)})),r.Ac(8," Join "),r.Vb(),r.Wb(9,"button",41),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index;return r.hc(2).leaveproject(n,i)})),r.Ac(10," Leave "),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(3),r.Bc(t.project.name),r.Hb(2),r.Bc(t.project.description)}}function QI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",4),r.Wb(1,"h1"),r.Ac(2,"Account"),r.Vb(),r.Wb(3,"div",7),r.Wb(4,"div"),r.Wb(5,"div",8),r.Wb(6,"div",9),r.yc(7,zI,2,0,"span",10),r.yc(8,KI,1,1,"img",11),r.Wb(9,"div"),r.Wb(10,"div",12),r.Wb(11,"div",13),r.dc("click",(function(){return r.tc(t),r.hc().onEdit()})),r.Sb(12,"i",14),r.Wb(13,"h3"),r.Ac(14,"Edit Details"),r.Vb(),r.Vb(),r.Wb(15,"div",15),r.dc("click",(function(){return r.tc(t),r.hc().onDelete()})),r.Sb(16,"i",16),r.Wb(17,"h3"),r.Ac(18,"Delete Details"),r.Vb(),r.Vb(),r.Wb(19,"div",17),r.dc("click",(function(){return r.tc(t),r.hc().assignedmodalbutton()})),r.Ac(20,"Assigned Projects"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(21,"div",18),r.Wb(22,"div",19),r.Wb(23,"div",20),r.Wb(24,"h4"),r.Ac(25,"Display Name"),r.Vb(),r.Wb(26,"h3"),r.Ac(27),r.Vb(),r.Vb(),r.Wb(28,"div",20),r.Wb(29,"h4"),r.Ac(30,"Location"),r.Vb(),r.Wb(31,"h3"),r.Ac(32),r.Vb(),r.Vb(),r.Wb(33,"div",20),r.Wb(34,"h4"),r.Ac(35,"Email"),r.Vb(),r.Wb(36,"h3"),r.Ac(37),r.Vb(),r.Vb(),r.Wb(38,"div",20),r.Wb(39,"h4"),r.Ac(40,"Profession"),r.Vb(),r.Wb(41,"h3"),r.Ac(42),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(43,"div",21),r.Wb(44,"h3"),r.Ac(45,"Timeline Photos"),r.Vb(),r.Sb(46,"hr"),r.Wb(47,"div",22),r.dc("click",(function(e){return r.tc(t),r.hc().Uploadimage(e)})),r.Wb(48,"h3",23),r.Ac(49,"Upload images"),r.Vb(),r.Sb(50,"i",24),r.Wb(51,"input",25),r.dc("change",(function(e){return r.tc(t),r.hc().onChange(e)})),r.Vb(),r.Vb(),r.Wb(52,"div",26),r.yc(53,GI,6,1,"div",27),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(54,"div",28),r.Wb(55,"h2"),r.Ac(56,"Assigned projects"),r.Vb(),r.yc(57,$I,11,2,"div",29),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(7),r.mc("ngIf",!t.workerDetails.user.photo),r.Hb(1),r.mc("ngIf",t.workerDetails.user.photo),r.Hb(19),r.Bc(t.workerDetails.user.skill.name),r.Hb(5),r.Bc(t.workerDetails.user.skill.location),r.Hb(5),r.Bc(t.workerDetails.user.skill.email),r.Hb(5),r.Bc(t.workerDetails.user.skill.profession),r.Hb(11),r.mc("ngForOf",t.workerDetails.user.skill.Wokerimages),r.Hb(4),r.mc("ngForOf",t.asignedprojects)}}function YI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"app-woker-modal",42),r.dc("onResultWorker",(function(e){return r.tc(t),r.hc().onModalResult(e)})),r.Vb(),r.Vb()}}function XI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"app-edit-worker-modal",42),r.dc("onResultWorker",(function(e){return r.tc(t),r.hc().onModalResult(e)})),r.Vb(),r.Vb()}}function JI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",43),r.Wb(1,"app-deletemodal",44),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalResultdelete(e)})),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(1),r.mc("title",t.message)}}function ZI(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",43),r.Wb(1,"app-deletemodal",44),r.dc("onResult",(function(e){return r.tc(t),r.hc().onModalprojectdelete(e)})),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(1),r.mc("title",t.message)}}function tT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",37),r.Wb(1,"div",38),r.Wb(2,"h3"),r.Ac(3),r.Vb(),r.Wb(4,"h4"),r.Ac(5),r.Vb(),r.Vb(),r.Wb(6,"div",39),r.Wb(7,"button",40),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index;return r.hc(2).joinproject(n,i)})),r.Ac(8," Join "),r.Vb(),r.Wb(9,"button",41),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index;return r.hc(2).leaveproject(n,i)})),r.Ac(10," Leave "),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(3),r.Bc(t.project.name),r.Hb(2),r.Bc(t.project.description)}}function eT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",45),r.Wb(1,"div",46),r.dc("click",(function(){return r.tc(t),r.hc().onBack(!1)})),r.Vb(),r.Wb(2,"div",47),r.Wb(3,"div",28),r.Wb(4,"h2"),r.Ac(5,"Assigned projects"),r.Vb(),r.yc(6,tT,11,2,"div",29),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(6),r.mc("ngForOf",t.asignedprojects)}}let nT=(()=>{class t{constructor(t,e,n,r,i){this.dataservice=t,this.workerservice=e,this.afs=n,this.router=r,this.loaderService=i,this.worker=!1,this.asignedprojects=[],this.Editworker=!1,this.imagesupload=[],this.AssignedModal=!1,this._userId=this.dataservice.getuserid(),this.workerDetails=this.dataservice.workerDetails(this.dataservice.getuserid()).subscribe(t=>{this.workerDetails=t})}ngOnInit(){this.loaderService.setHttpProgressStatus(!0),this.workerservice.assignedprojects().subscribe(t=>{for(let e=0;e<t.docs.length;e++)this.afs.collection("Users").doc(t.docs[e].data().userid).collection("Projects").doc(t.docs[e].data().userprojectid).get().subscribe(t=>{this.asignedprojects.push(t.data()),console.log("tkhe assigned project",this.asignedprojects)});this.loaderService.setHttpProgressStatus(!1)})}onWorker(){this.worker=!0}onModalResult(t){console.log(t),this.worker=!1,this.Editworker=!1}onEdit(){this.Editworker=!0}joinproject(t,e){this.workerservice.assignedprojects().subscribe(n=>{console.log("project",t),this.workerservice.viewinguseridproject(n.docs[e].data().userid),this.router.navigate(["/dashboard/content/viewboard/",t.projectId,n.docs[e].data().userid])})}imagedelete(t){console.log("image url",t),this.workerservice.onImagedelete(t)}setfeaturedimage(t){console.log("the image link",t)}Uploadimage(){document.getElementById("file-upload3").click()}onChange(t){if(t.target.files&&t.target.files[0]){var e=t.target.files.length;for(let r=0;r<e;r++){var n=new FileReader;n.onload=e=>{console.log("the uploaded images",this.imagesupload);let n=localStorage.getItem("user");this.workerservice.uploadFile2(t.target.files[r],n)},n.readAsDataURL(t.target.files[r])}}}assignedmodalbutton(){this.AssignedModal=!0}onDelete(){this.modalState=!0,this.message="Are you sure you want to delete your profile?"}onModalResultdelete(t){if(t){console.log("the results is true",t);let e=localStorage.getItem("user");this.workerservice.deleteprofile(e),this.workerDetails=this.dataservice.workerDetails(e).subscribe(t=>{this.workerDetails=t}),this.modalState=!1}else this.modalState=t}leaveproject(t,e){this.modalState2=!0,console.log("the project leeave",t,e),this.message="Are you sure you want to leave this project?",this.itemproject=t}onModalprojectdelete(t){t?(this.workerservice.getdetailsofleaveproject(this.itemproject),this.modalState2=!1):this.modalState2=t}onBack(t){this.AssignedModal=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zx),r.Rb(bI),r.Rb(fm),r.Rb(vx),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-worker"]],outputs:{message:"message"},decls:7,vars:7,consts:[["class","container",4,"ngIf"],[4,"ngIf"],["class","Modal",4,"ngIf"],["id","myModal","class","Modal",4,"ngIf"],[1,"container"],[1,"add",3,"click"],[1,"fas","fa-plus"],[1,"profile"],[1,"right_side"],[1,"top"],["class","material-icons",4,"ngIf"],[3,"src",4,"ngIf"],[1,"controls"],[1,"controls_button",2,"background-color","#006bd8","width","160px","height","36px","margin-left","15px","border-radius","5px",3,"click"],[1,"far","fa-edit",2,"color","white","margin-left","10px"],[1,"controls_button",2,"background-color","#003366","height","36px","width","160px","margin-left","15px","border-radius","5px","color","white",3,"click"],[1,"far","fa-trash-alt",2,"color","white","margin-left","10px"],[1,"special_button",3,"click"],[1,"down"],[1,"details"],[1,"details_section"],[1,"timeline"],[2,"display","flex","align-items","center","grid-gap","5px","cursor","pointer","background-color","#006bd8","width","165px","height","36px","margin-bottom","25px","border-radius","5px","margin-top","25px",3,"click"],[2,"margin-left","10px","color","white"],[1,"fa","fa-camera",2,"color","white","margin-left","10px"],["id","file-upload3","type","file","accept","image/*","multiple","",2,"display","none",3,"change"],[1,"img_container"],["class","ccnn",4,"ngFor","ngForOf"],[1,"left_side"],["class","container1",4,"ngFor","ngForOf"],[1,"material-icons"],[3,"src"],[1,"ccnn"],["title","Delete image",1,"fas","fa-times",3,"click"],["alt","img.jpg",3,"src"],[1,"middle"],[1,"text",3,"click"],[1,"container1"],[1,"nameproject"],[1,"controlsproject"],[2,"background-color","rgba(42, 177, 42, 0.836)",3,"click"],[2,"background-color","rgba(199, 43, 43, 0.815)",3,"click"],[3,"onResultWorker"],[1,"Modal"],[3,"title","onResult"],["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"]],template:function(t,e){1&t&&(r.yc(0,HI,7,0,"div",0),r.yc(1,QI,58,8,"div",0),r.yc(2,YI,2,0,"div",1),r.yc(3,XI,2,0,"div",1),r.yc(4,JI,2,1,"div",2),r.yc(5,ZI,2,1,"div",2),r.yc(6,eT,7,1,"div",3)),2&t&&(r.mc("ngIf",!(null!=e.workerDetails&&null!=e.workerDetails.user&&e.workerDetails.user.isWorker)),r.Hb(1),r.mc("ngIf",null==e.workerDetails.user?null:e.workerDetails.user.isWorker),r.Hb(1),r.mc("ngIf",e.worker),r.Hb(1),r.mc("ngIf",e.Editworker),r.Hb(1),r.mc("ngIf",e.modalState),r.Hb(1),r.mc("ngIf",e.modalState2),r.Hb(1),r.mc("ngIf",e.AssignedModal))},directives:[U,V,qI,BI,AI],styles:[".container[_ngcontent-%COMP%]{padding:90px 0;margin:0 22px}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:poppins;font-size:18px;color:rgba(0,0,0,.5686274509803921);font-weight:700;font-size:20px;text-transform:uppercase}.container[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;margin-top:10px;grid-gap:10px;color:rgba(0,128,0,.8705882352941177);align-items:center}.add[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;color:#adff2f}.profile[_ngcontent-%COMP%]{margin-top:30px;display:grid;grid-template-columns:auto auto;overflow:auto;grid-gap:10px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:50%}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;grid-gap:5px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .controls_button[_ngcontent-%COMP%]{display:flex;grid-gap:10px;align-items:center}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .controls_button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{display:grid;margin-top:20px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;margin-top:20px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .details_section[_ngcontent-%COMP%]{display:grid;grid-gap:10px;margin-bottom:10px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .details_section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:rgba(0,0,0,.5490196078431373);margin-right:10px;font-family:Poppins;font-size:.9rem;font-size:14px;font-weight:700;margin-top:3px;margin-bottom:2px;display:block;overflow:hidden}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .details_section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:26px;padding:8px 16px;border:2px solid #006db8;border-radius:4px;outline:0;transition:.2s;width:70%;font-family:Poppins;background-color:#ccc;overflow:hidden}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{margin-top:20px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:rgba(0,0,0,.5490196078431373)}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]{overflow:auto;height:330px;display:flex;flex-wrap:wrap;grid-gap:20px;position:relative}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;padding:5px;background-color:#bebcbc;border-radius:20%;z-index:1;left:5px;top:5px}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(49,41,41,.5490196078431373)}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;position:relative}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]{height:600px;width:300px;padding:10px;background-color:#006bd8;border-radius:25px}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;font-family:Roboto;color:#fff;text-transform:capitalize}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]   .container1[_ngcontent-%COMP%]{grid-gap:10px;height:50px;margin-top:10px;display:grid;grid-template-columns:1fr auto;padding:5px 10px;justify-content:center;align-items:center;background-color:hsla(0,0%,69%,.4);border-radius:5px}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]   .nameproject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Roboto}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]   .controlsproject[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:10px}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]   .controlsproject[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border:none;width:50px;height:20px;border-radius:6px;cursor:pointer;font-size:10px;margin:0}.ccnn[_ngcontent-%COMP%]{position:relative}.left_side[_ngcontent-%COMP%]{height:600px;padding:10px;border-radius:25px}.left_side[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;font-family:Roboto;color:#fff;text-transform:capitalize}.left_side[_ngcontent-%COMP%]   .container1[_ngcontent-%COMP%]{grid-gap:10px;height:50px;margin-top:10px;display:grid;grid-template-columns:1fr auto;padding:5px 10px;justify-content:center;align-items:center;background-color:hsla(0,0%,69%,.4);border-radius:5px}.left_side[_ngcontent-%COMP%]   .nameproject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Roboto}.left_side[_ngcontent-%COMP%]   .controlsproject[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:10px}.left_side[_ngcontent-%COMP%]   .controlsproject[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border:none;width:50px;height:20px;border-radius:6px;cursor:pointer;font-size:10px;margin:0}.ccnn[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{opacity:.3}.ccnn[_ngcontent-%COMP%]:hover   .middle[_ngcontent-%COMP%]{opacity:1}.special_button[_ngcontent-%COMP%]{display:none;background-color:#4e9030;height:25px;width:140px;margin-left:15px;border-radius:5px;color:#fff;padding:7px 11px;align-items:center;cursor:pointer}.middle[_ngcontent-%COMP%]{transition:.5s ease;opacity:0;position:absolute;top:165px;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);text-align:center}.text[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;font-size:14px;padding:5px 10px;width:100%}.controls_button[_ngcontent-%COMP%]:hover{cursor:pointer}.Modal[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;float:left;background-color:#000;background-color:rgba(0,0,0,.4);z-index:1;position:fixed}.modal-content[_ngcontent-%COMP%]{background:#036;padding:30px 20px;width:450px;margin:75px auto;box-shadow:0 15px 25px rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{box-sizing:border-box}input[_ngcontent-%COMP%]{font-family:Poppins;color:#000;font-weight:300;font-size:14px;border-radius:4px;line-height:10px;background-color:#fff;padding:13px;margin-bottom:10px;width:80%;-ms-box-sizing:border-box;border:1px solid #000}.submit[_ngcontent-%COMP%]{display:flex;grid-gap:.94rem;margin:40px 20px;justify-content:center}button[_ngcontent-%COMP%]{background-color:#ff6801;color:#fff;font-family:Poppins;text-transform:uppercase;letter-spacing:1px;width:37%;cursor:pointer;font-size:18px;padding-top:10px;padding-bottom:10px;transition:all .3s;border-radius:4px;margin:4px 25%}p[_ngcontent-%COMP%]{padding:10px;color:red}@media screen and (max-width:800px){.special_button[_ngcontent-%COMP%]{display:block}.profile[_ngcontent-%COMP%]   .left_side[_ngcontent-%COMP%]{display:none}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{margin:0}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:block}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;grid-gap:5px;flex-direction:column}.profile[_ngcontent-%COMP%]   .right_side[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}}"]}),t})();const rT=["Listname"],iT=["Cardname"],oT=["changeListname"];function sT(t,e){if(1&t&&(r.Wb(0,"div"),r.Sb(1,"img",16),r.Wb(2,"p"),r.Ac(3),r.Vb(),r.Vb()),2&t){const t=e.$implicit;r.Hb(1),r.mc("src",t.user.photo,r.uc),r.Hb(2),r.Bc(t.user.firstName)}}function aT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",17),r.dc("click",(function(){return r.tc(t),r.hc().toggle()})),r.Wb(1,"h3",18),r.Ac(2),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(2),r.Bc(t.Tittle)}}function cT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",19),r.Wb(1,"input",20,21),r.dc("keydown.enter",(function(){return r.tc(t),r.hc().onaddlistname()})),r.Vb(),r.Vb()}}function uT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"span",17),r.dc("click",(function(){r.tc(t);const e=r.hc(2).index;return r.hc().setmeasure(e)})),r.Ac(2,"Set Measure"),r.Vb(),r.Sb(3,"hr"),r.Wb(4,"span",17),r.dc("click",(function(){r.tc(t);const e=r.hc(2).index;return r.hc().unsetmeasure(e)})),r.Ac(5,"Unset Measure"),r.Vb(),r.Vb()}}function lT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",28),r.Wb(1,"h3",29),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().toggle3(e)})),r.Ac(2),r.Vb(),r.Sb(3,"div",30),r.Wb(4,"div",31),r.Sb(5,"i",32),r.Wb(6,"h3",33),r.Wb(7,"span",17),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().deletelist(e)})),r.Ac(8,"Delete List"),r.Vb(),r.Sb(9,"hr"),r.Wb(10,"span",17),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().toggle3(e)})),r.Ac(11,"Rename"),r.Vb(),r.Sb(12,"hr"),r.yc(13,uT,6,0,"div",34),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.hc(),e=t.$implicit,n=t.index,i=r.hc();r.Hb(2),r.Bc(e.taskname),r.Hb(11),r.mc("ngIf",n+1==i.listoftasks.length)}}function hT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",19),r.Wb(1,"input",35,36),r.dc("keydown.enter",(function(){r.tc(t);const e=r.hc().index;return r.hc().onlistname(e)})),r.Vb(),r.Vb()}}function dT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",37),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().Addcard(e)})),r.Wb(1,"h3",38),r.Ac(2,"Add card"),r.Vb(),r.Sb(3,"i",39),r.Vb()}}function fT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",40),r.Wb(1,"input",41,42),r.dc("keydown.enter",(function(){r.tc(t);const e=r.hc().index;return r.hc().oncardname(e)})),r.Vb(),r.Vb()}}function pT(t,e){if(1&t&&(r.Wb(0,"div",59),r.Sb(1,"img",60),r.Wb(2,"a",61),r.Sb(3,"i",62),r.Vb(),r.Vb()),2&t){const t=r.hc().$implicit,e=r.hc(3);r.Hb(1),r.mc("src",t.img,r.uc),r.Hb(1),r.mc("href",t.img,r.uc)("download",e.filename)}}function gT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",46),r.Wb(1,"div",47),r.Wb(2,"div",48),r.Wb(3,"span"),r.Ac(4),r.Vb(),r.Wb(5,"div",31),r.Sb(6,"i",49),r.Wb(7,"h3",50),r.Wb(8,"span",17),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index,o=r.hc(2).index;return r.hc().deletecard(n,i,o)})),r.Ac(9,"Delete card"),r.Sb(10,"i",51),r.Vb(),r.Sb(11,"hr"),r.Wb(12,"span",17),r.dc("click",(function(){r.tc(t);const n=e.index,i=r.hc(2).index;return r.hc().assigntaskmodal(n,i)})),r.Ac(13,"Assign to"),r.Sb(14,"i",52),r.Vb(),r.Sb(15,"hr"),r.Wb(16,"span",17),r.dc("click",(function(){r.tc(t);const n=e.index,i=r.hc(2).index;return r.hc().uploadimage(n,i)})),r.Ac(17,"Add Image "),r.Sb(18,"i",53),r.Vb(),r.Wb(19,"input",54),r.dc("change",(function(e){return r.tc(t),r.hc(3).onChange(e)})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.yc(20,pT,4,3,"div",55),r.Wb(21,"div",56),r.Wb(22,"h4"),r.Ac(23," IB: "),r.Wb(24,"span"),r.Ac(25),r.Vb(),r.Vb(),r.Wb(26,"h4",57),r.Ac(27,"AT: "),r.Wb(28,"h5",58),r.Ac(29),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(4),r.Bc(t.task),r.Hb(16),r.mc("ngIf",0!=t.img),r.Hb(5),r.Cc("",t.issuedby," "),r.Hb(4),r.Cc("",t.assignedto," ")}}function mT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",43,44),r.dc("cdkDropListDropped",(function(e){r.tc(t);const n=r.hc().index;return r.hc().drop(e,n)})),r.Wb(2,"div"),r.yc(3,gT,30,4,"div",45),r.Vb(),r.Vb()}if(2&t){const t=r.hc().$implicit;r.mc("cdkDropListData",t.taskname),r.Hb(3),r.mc("ngForOf",t.task)}}function bT(t,e){if(1&t&&(r.Wb(0,"div",22),r.Wb(1,"div"),r.Wb(2,"div"),r.yc(3,lT,14,2,"div",23),r.Vb(),r.yc(4,hT,3,0,"ng-template",null,24,r.zc),r.Vb(),r.Wb(6,"div"),r.yc(7,dT,4,0,"div",25),r.yc(8,fT,3,0,"ng-template",null,26,r.zc),r.Vb(),r.yc(10,mT,4,2,"div",27),r.Vb()),2&t){const t=e.$implicit,n=e.index,i=r.sc(5),o=r.sc(9),s=r.hc();r.Hb(3),r.mc("ngIf",!s.hooks[n])("ngIfElse",i),r.Hb(4),r.mc("ngIf",!s.hooks2[n])("ngIfElse",o),r.Hb(3),r.mc("ngIf",0!=t.task)}}function vT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",69),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc(2).assigntask(n)})),r.Wb(1,"div",70),r.Wb(2,"h3"),r.Ac(3),r.Vb(),r.Wb(4,"h4"),r.Ac(5),r.Sb(6,"span",71),r.Vb(),r.Vb(),r.Wb(7,"div",72),r.Sb(8,"i",73),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(3),r.Bc(t.user.skill.name),r.Hb(2),r.Bc(t.user.skill.ratings)}}function yT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",63),r.Wb(1,"div",64),r.dc("click",(function(){return r.tc(t),r.hc().onBack(!1)})),r.Vb(),r.Wb(2,"div",65),r.Wb(3,"div",66),r.Wb(4,"h1",67),r.Ac(5,"List of workers"),r.Vb(),r.yc(6,vT,9,2,"div",68),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(6),r.mc("ngForOf",t.Team)}}const _T=function(){return{"background-size":"cover","background-repeat":"repeat"}};let wT=(()=>{class t{constructor(t,e,n,r){this.projectservice=t,this.activatedroute=e,this.afs=n,this.loaderService=r,this.listname=!0,this.Tittle="tittle",this.card="",this.Team=[],this.listoftasks=[],this.TeamId=[]}ngOnInit(){this.loaderService.setHttpProgressStatus(!0);let t=localStorage.getItem("user");this.activatedroute.params.subscribe(e=>{console.log("these are the activated route",e),this._projectid=e.projectId,console.log("projectId",this._projectid),this.projectservice.userproject(this._projectid,t).subscribe(t=>{console.log("these are the results",t),this._projects=t,this.listoftasks=this._projects.Tasks,console.log("all the task",this.listoftasks),this.loaderService.setHttpProgressStatus(!1),null!=t.Teams&&this.loadTeamMembers(t.Teams)})}),this.hooks=this.listoftasks.map(t=>!0),this.hooks2=this.listoftasks.map(t=>!0)}loadTeamMembers(t){let e=[];this.Team=[];for(let n=0;n<t.length;n++)this.afs.collection("Users").doc(t[n]).get().subscribe(t=>{e.push(t.data()),this.Team.push(t.data()),console.log("members of the team",e),console.log("membersssssss of the team",this.Team)})}Addlist(){document.getElementById("newTasklist").style.display="block",console.log("clicked")}toggle(){this.listname=!this.listname,console.log("clicked")}onaddlistname(){console.log("title",this.nameInputRef.nativeElement.value),this.Tittle=this.nameInputRef.nativeElement.value,this.projectservice.newtask(this.Tittle,this._projectid),document.getElementById("newTasklist").style.display="none",this.toggle()}onlistname(t){console.log(" change title",this.changeListname.nativeElement.value);for(let e=0;e<this.listoftasks.length;e++)e==t&&(this.listoftasks[t].taskname=this.changeListname.nativeElement.value,console.log("new name",this.listoftasks[t].taskname),console.log("entire list",this.listoftasks),this.projectservice.UpdateTasks(this.listoftasks,this._projectid),this.hooks[e]=!1)}toggle3(t){console.log(t);for(let e=0;e<this.hooks.length;e++)e==t?(this.hooks[t]=!0,this.hooks2[e]=!1):(this.hooks[e]=!1,this.hooks2[e]=!1);this.hooks[t]=!0,console.log("add tittle",this.hooks[t]),console.log("index of the titl",t)}deletelist(t){for(let e=0;e<this.listoftasks.length;e++)t==e&&(console.log("index of the item to be deleted",t),this.listoftasks.splice(t,1),this.projectservice.UpdateTasks(this.listoftasks,this._projectid))}Addcard(t){console.log("index of the card",t);for(let e=0;e<this.hooks2.length;e++)e==t?(this.hooks[e]=!1,this.hooks2[e]=!0):(this.hooks2[e]=!1,this.hooks[e]=!1);this.hooks2[t]=!0}oncardname(t){console.log(" change card",t,this.CardName.nativeElement.value),this.projectservice.onaddcard(this.listoftasks,t,this._projectid,this.CardName.nativeElement.value),this.hooks2[t]=!1}deletecard(t,e,n){this.projectservice.deletecardonlist(t,e,n,this.listoftasks,this._projectid)}uploadimage(t,e){this.MainTaskindex=e,this.Subtaskindex=t;for(let n=0;n<this.listoftasks[e].task.length;n++)n==t&&(console.log("you clicking ",t),document.getElementById("file-upload5").click())}onChange(t){let e=localStorage.getItem("user"),n=t.target.files[0];n&&this.projectservice.workerImageUpload(n,e,this._projectid,this.MainTaskindex,this.Subtaskindex,this.listoftasks)}assigntaskmodal(t,e){this.MainTaskindex=e,this.Subtaskindex=t,this.modalstate=!0}onBack(t){this.modalstate=!1}assigntask(t){let e=t.user.skill.name,n=localStorage.getItem("user");this.projectservice.AssignTasktoWorker(e,n,this._projectid,this.MainTaskindex,this.Subtaskindex,this.listoftasks),this.modalstate=!1}setmeasure(t){let e=t,n=localStorage.getItem("user");console.log("the index to set measure",e),this.afs.collection("Users").doc(n).collection("Projects").doc(this._projectid).update({OnSetmeasure:!0,indexedValue:t}),document.getElementById("elemtrack").style.display="flex",this.numbersubtask=this.projectservice.subtaskcalc(t,this.listoftasks),console.log("the progress",this.numbersubtask)}unsetmeasure(t){let e=t;document.getElementById("elemtrack").style.display="none";let n=localStorage.getItem("user");console.log("the index to set measure",e),this.afs.collection("Users").doc(n).collection("Projects").doc(this._projectid).update({OnSetmeasure:!1,indexedValue:null})}drop(t,e){t.previousContainer===t.container?(console.log("event container",t.container),Kv(this.listoftasks[e].task,t.previousIndex,t.currentIndex),this.projectservice.UpdateTasks(this.listoftasks,this._projectid)):(Gv(this.listoftasks[e-1].task,this.listoftasks[e].task,t.previousIndex,t.currentIndex),this.projectservice.UpdateTasks(this.listoftasks,this._projectid),console.log("event previous container",t.previousContainer.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vI),r.Rb(rC),r.Rb(fm),r.Rb(qx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-workboard"]],viewQuery:function(t,e){var n;1&t&&(r.Ec(rT,!0),r.Ec(iT,!0),r.Ec(oT,!0)),2&t&&(r.rc(n=r.ec())&&(e.nameInputRef=n.first),r.rc(n=r.ec())&&(e.CardName=n.first),r.rc(n=r.ec())&&(e.changeListname=n.first))},decls:22,vars:10,consts:[[1,"content",3,"ngStyle"],[1,"container"],[1,"container_top"],[1,"teamcontainer"],[4,"ngFor","ngForOf"],[1,"workarea"],[1,"add",3,"click"],[2,"color","#003366","font-weight","bold","padding-left","5px"],[1,"fas","fa-plus",2,"color","#ff6600"],["id","newTasklist",1,"Taskadd"],[3,"click",4,"ngIf","ngIfElse"],["listdata",""],["cdkDropListGroup","",2,"display","flex","grid-gap","10px"],["class","list",4,"ngFor","ngForOf"],["id","myModal","class","Modal",4,"ngIf"],[1,"smallscrren"],["alt","",1,"team",3,"src"],[3,"click"],[2,"color","#003366"],[1,"Listname"],["type","text","placeholder","Title",3,"keydown.enter"],["Listname",""],[1,"list"],["class","control-button",4,"ngIf","ngIfElse"],["Data",""],["class","add1",3,"click",4,"ngIf","ngIfElse"],["carddata",""],["cdkDropList","","class","example-list",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],[1,"control-button"],[2,"width","90%",3,"click"],["id","elemtrack",2,"height","15px","width","15px","background-color","rgb(17 117 10)","border-radius","50%","display","none"],["smart-tooltip-container","",1,"clicktoshow"],[1,"fas","fa-ellipsis-v"],["id","tts",1,"smart-tooltip","stay-buttom","stick-300","stayonhover"],[4,"ngIf"],["type","text","placeholder","New title",3,"keydown.enter"],["changeListname",""],[1,"add1",3,"click"],[2,"margin-left","5px"],[1,"fas","fa-plus"],[1,"cardname"],["type","text","placeholder","Add a text",3,"keydown.enter"],["Cardname",""],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["task.taskname","cdkDropList"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[1,"example-box1",2,"margin-bottom","5px"],[1,"example-box"],[1,"fas","fa-ellipsis-v",2,"padding","5px","cursor","pointer"],["id","tts",1,"smart-tooltip","stay-left","stick-300","stayonhover"],[1,"fas","fa-trash"],[1,"fas","fa-tasks"],[1,"fas","fa-camera"],["id","file-upload5","type","file","accept","image/*",2,"display","none",3,"change"],["class","img-container",4,"ngIf"],[1,"example-box2"],[2,"display","flex","align-items","center"],[2,"white-space","nowrap","text-overflow","ellipsis","overflow","hidden","width","65px"],[1,"img-container"],["alt","",3,"src"],[3,"href","download"],[1,"fas","fa-download"],["id","myModal",1,"Modal"],[2,"position","absolute","left","0","top","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.4)","z-index","-1",3,"click"],[1,"modal-content"],[1,"wokerbox"],[2,"text-align","center"],["class","woker-content",3,"click",4,"ngFor","ngForOf"],[1,"woker-content",3,"click"],[1,"nameworker"],[1,"fa","fa-star","checked",2,"color","orange"],[1,"controls"],[1,"fas","fa-user-minus"]],template:function(t,e){if(1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"h1"),r.Ac(4),r.Vb(),r.Wb(5,"div",3),r.yc(6,sT,4,2,"div",4),r.Vb(),r.Vb(),r.Wb(7,"div",5),r.Wb(8,"div",6),r.dc("click",(function(){return e.Addlist()})),r.Wb(9,"h3",7),r.Ac(10,"Add list"),r.Vb(),r.Sb(11,"i",8),r.Vb(),r.Wb(12,"div",9),r.yc(13,aT,3,1,"div",10),r.yc(14,cT,3,0,"ng-template",null,11,r.zc),r.Vb(),r.Wb(16,"div",12),r.yc(17,bT,11,5,"div",13),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.yc(18,yT,7,1,"div",14),r.Wb(19,"div",15),r.Wb(20,"h2"),r.Ac(21,"Use a computer or a devive with a wider screen for great user experience."),r.Vb(),r.Vb()),2&t){const t=r.sc(15);r.xc("background-image","url(/img/"+(null==e._projects?null:e._projects.backgroundImage)+")"),r.mc("ngStyle",r.oc(9,_T)),r.Hb(4),r.Bc(null==e._projects||null==e._projects.project?null:e._projects.project.name),r.Hb(2),r.mc("ngForOf",e.Team),r.Hb(7),r.mc("ngIf",e.listname)("ngIfElse",t),r.Hb(4),r.mc("ngForOf",e.listoftasks),r.Hb(1),r.mc("ngIf",e.modalstate)}},directives:[B,V,U,ay,qb,hy,gy],styles:[".content[_ngcontent-%COMP%]{height:100vh;margin-top:0;overflow:hidden;padding:60px 0}.container[_ngcontent-%COMP%]{padding:30px 0 0;width:auto}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]{display:flex;grid-gap:22px;align-items:center}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:19px;border-radius:8px;color:#fff;background:#f60;padding:10px;font-weight:700;font-family:sans-serif}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f60;background:#fff;padding:10px;font-size:16px;font-family:sans-serif;font-weight:600;border-radius:8px}.teamcontainer[_ngcontent-%COMP%]{display:flex;position:relative}.teamcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;width:40px;overflow:hidden;top:14px;margin-left:12px!important}.teamcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]:first-letter{color:#fff;overflow:hidden;width:40px;font-size:200%;padding:6px 3px;margin-right:6px}.team[_ngcontent-%COMP%]{height:48px;border-radius:50%;width:50px;margin-right:-11px;border:1px solid #fff}.workarea[_ngcontent-%COMP%]{display:flex;grid-gap:10px;margin-top:20px;overflow:auto;width:auto;height:100vh}.workarea[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;cursor:pointer;grid-gap:5px;align-items:center;background:#fff;padding:5px 15px;border-radius:10px 10px 0 0;height:30px;width:130px;justify-content:space-between}.workarea[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f60;padding:10px;border-radius:50%}.newlist-container[_ngcontent-%COMP%]{display:none;background:#c4c4c4;padding:5px 15px;border-radius:10px 10px 0 0;width:130px}.newlist-container[_ngcontent-%COMP%]   .newlist[_ngcontent-%COMP%]{display:flex;cursor:pointer;grid-gap:5px;align-items:center;justify-content:space-between}.newlist-container[_ngcontent-%COMP%]   .newlist[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(0,0,0,.788);padding:10px;border-radius:50%}.newlist-container[_ngcontent-%COMP%]   .cardname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;width:96%;padding:5px;border-radius:5px;background-color:#fff;margin-bottom:10px}.list[_ngcontent-%COMP%]{background-color:#fff;min-width:250px;padding:10px 15px;border-radius:15px 15px 0 0;height:-webkit-max-content;height:max-content}.list[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.Listname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:26px;border-radius:15px 15px 0 0;background-color:#036;color:#fff}.cardname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .Listname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px;width:96%;margin-bottom:10px}.cardname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#fff}.Taskadd[_ngcontent-%COMP%]{display:none;grid-gap:5px;padding:5px 15px;border-radius:10px 10px 0 0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:130px}.add1[_ngcontent-%COMP%], .Taskadd[_ngcontent-%COMP%]{cursor:pointer;align-items:center;background:#c4c4c4;justify-content:space-between}.add1[_ngcontent-%COMP%]{display:flex;border-radius:10px 10px 10px 10px;color:rgba(0,0,0,.7019607843137254);padding:5px 10px;margin-bottom:5px}#tts[_ngcontent-%COMP%]{width:105px;background-color:#036;font-size:14px}#tts[_ngcontent-%COMP%], #tts[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}#tts[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer;color:#f60}.example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{min-height:60px;border-radius:4px;overflow:hidden;display:block}.img-container[_ngcontent-%COMP%]{height:160px;width:248px}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;background-size:cover;border-radius:1px;background-position:45%}.img-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:-36px;left:204px;position:relative;padding:5px;background:#c4b5b5}.img-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fff}.example-box2[_ngcontent-%COMP%]{padding:13px 10px;color:rgba(0,0,0,.58);font-size:4px;height:0;border-radius:0 0 10px 10px}.example-box[_ngcontent-%COMP%], .example-box2[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);font-size:14px;border-radius:10px 10px 0 0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.Modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:200px auto;padding:20px;border:1px solid #888;width:30%;border-radius:10px}.woker-content[_ngcontent-%COMP%]{background:rgba(0,0,255,.25098039215686274);display:flex;justify-content:space-between;align-items:center;padding:10px 15px}.woker-content[_ngcontent-%COMP%]:hover{background:#484877;cursor:pointer}.woker-content[_ngcontent-%COMP%]   .nameworker[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto;font-size:16px;font-weight:500;line-height:1}.woker-content[_ngcontent-%COMP%]   .nameworker[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{color:orange}.woker-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{background:rgba(216,214,214,.9607843137254902);padding:11px;border-radius:50%}.woker-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fff}.smallscrren[_ngcontent-%COMP%]{display:none}@media screen and (max-width:750px){.content[_ngcontent-%COMP%]{display:none}.smallscrren[_ngcontent-%COMP%]{display:block;padding:200px 10px}}"]}),t})();function OT(t,e){1&t&&r.Sb(0,"i",51)}function CT(t,e){if(1&t&&r.Sb(0,"img",41),2&t){const t=r.hc();r.mc("src",t.workerdetails.user.photo,r.uc)}}function xT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"span"),r.Wb(1,"h5",53),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc(2).onRequest(n)})),r.Ac(2),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(2),r.Bc(t.project.name)}}function kT(t,e){if(1&t&&(r.Wb(0,"div"),r.yc(1,xT,3,1,"span",52),r.Vb()),2&t){const t=r.hc();r.Hb(1),r.mc("ngForOf",t.projects)}}function ST(t,e){1&t&&(r.Wb(0,"h5"),r.Ac(1,"No projects "),r.Vb())}function ET(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"i",55),r.Vb())}function IT(t,e){if(1&t&&(r.Wb(0,"div"),r.Sb(1,"img",56),r.Vb()),2&t){const t=r.hc().$implicit;r.Hb(1),r.mc("src",t.image,r.uc)}}function TT(t,e){if(1&t&&(r.Wb(0,"div",27),r.yc(1,ET,2,0,"div",54),r.yc(2,IT,2,1,"div",54),r.Wb(3,"span",29),r.Wb(4,"span",7),r.Ac(5),r.Vb(),r.Ac(6,"\u2022"),r.Wb(7,"span",30),r.Ac(8),r.Vb(),r.Sb(9,"br"),r.Ac(10),r.Vb(),r.Wb(11,"div",32),r.Wb(12,"span",33),r.Wb(13,"a"),r.Sb(14,"img",35),r.Vb(),r.Vb(),r.Wb(15,"span",36),r.Wb(16,"a"),r.Sb(17,"img",37),r.Vb(),r.Vb(),r.Wb(18,"span",38),r.Wb(19,"a"),r.Sb(20,"img",39),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=e.$implicit,n=r.hc();r.Hb(1),r.mc("ngIf",!n.workerdetails.user.skill.reviews),r.Hb(1),r.mc("ngIf",n.workerdetails.user.skill.reviews),r.Hb(3),r.Bc(t.name),r.Hb(3),r.Cc("@",t.name,""),r.Hb(2),r.Bc(t.comment)}}function PT(t,e){if(1&t&&(r.Wb(0,"div",59),r.Sb(1,"img",41),r.Vb()),2&t){const t=e.$implicit;r.Hb(1),r.mc("src",t,r.uc)}}function AT(t,e){if(1&t&&(r.Wb(0,"div",57),r.yc(1,PT,2,1,"div",58),r.Vb()),2&t){const t=r.hc();r.Hb(1),r.mc("ngForOf",t.workerdetails.user.skill.Wokerimages)}}function jT(t,e){1&t&&(r.Wb(0,"h3",60),r.Ac(1,"No timeline photos available"),r.Vb())}n("ip79");let MT=(()=>{class t{constructor(t,e,n,r,i,o){this.loaderService=t,this.userservice=e,this.activatedroute=n,this.workerservice=r,this.dataservice=i,this.projectservice=o,this.projectservice.getUserproject().subscribe(t=>{this.projects=t,console.log("the projects of the user",t)})}ngOnInit(){this.loaderService.setHttpProgressStatus(!0),this.activatedroute.params.subscribe(t=>{console.log("these are the activated route",t.id),this._workerid=t.id,console.log("workerid",this._workerid),this.workerservice._detailsWorker(this._workerid).subscribe(t=>{console.log("these are the results",t),this.workerdetails=t,this.loaderService.setHttpProgressStatus(!1)})});let t=localStorage.getItem("user");this.userservice.getActiveUser(t).subscribe(t=>{console.log("the users details",t.user.firstName),this.CurrentUser=t,this.reviewname=t.user.firstName,this.reviewimage=t.user.photo,console.log("the users details",t.user.firstName),this.ReviewForm=new xw({comment:new Cw,name:new Cw(this.reviewname),image:new Cw(this.reviewimage)})})}chatworker(){console.log(document.getElementById("chat")),this.dataservice.set_Chatbox_to_open(),this.openchat(!0)}openchat(t){console.log(t)}onRequest(t){console.log("request","the project id",t.projectId,"worker id",this._workerid),this.projectservice.addworker(t.projectId,this._workerid),this.projectservice.assignproject(this._workerid,t.projectId),Email.send({Host:"smtp.elasticemail.com",Username:"constructtek1@gmail.com",Password:"E56B99B1B6B725ACD1D440C3DF367D21BE0F",To:""+this.workerdetails.user.skill.email,From:"constructtek1@gmail.com",Subject:"Construct-tek",Body:`\n      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" lang="EN">\n  <head>\n    <style type="text/css">\n      @media screen {\n        @font-face {\n          font-family: "Lato";\n          font-style: normal;\n          font-weight: 400;\n          src: local("Lato Regular"), local("Lato-Regular"), url(https://fonts.gstatic.com/s/lato/v11/qIIYRU-oROkIk8vfvxw6QvesZW2xOQ-xsNqO47m55DA.woff) format("woff");\n        }\n        body, html {\n          margin: 0px;\n          padding: 0px;\n          -webkit-font-smoothing: antialiased;\n          text-size-adjust: none;\n          width: 100% !important;\n          background: #F9F9FF;\n          font-family: "Lato", "Lucida Grande", "Lucida Sans Unicode", Tahoma, Sans-Serif;\n          word-break: break-word;\n        }\n        .contentMainTable {\n          background: #FFFFFF;\n          border: 1px solid #EEEEFF;\n          margin-top: 98px;\n          margin-bottom: 69px;\n          margin-left: auto;\n          margin-right: auto;\n          width: 600px;\n          height: 1003px;\n        }\n        .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div {\n          line-height: 100%;\n        }\n        .ExternalClass {\n          width: 100%;\n        }\n        .logoImage {\n          margin-top: -50px;\n          padding-bottom: 7px;\n        }\n        h1 {\n          font-weight: bold;\n          font-size: 30px;\n          font-family: "Lato";\n          letter-spacing: 0px;\n          color: #25254E;\n        }\n        p {\n          font-weight: 300;\n          font-size: 14px;\n          letter-spacing: 0px;\n          color: #4D4D80;\n        }\n        .greyLine {\n          border: 1px solid #CED7F7;\n          width: 100%;\n          margin-top: 32px\n        }\n        h2 {\n          font-weight: bold;\n          font-size: 15px;\n          letter-spacing: 0px;\n          color: #25254E;\n        }\n        h3 {\n          font-weight: 300;\n          font-size: 15px;\n          letter-spacing: 0px;\n          color: #4D4D80;\n        }\n        .footer {\n          margin-top: 32px;\n          margin-bottom: 20px;\n          font-size: 11px;\n          font-weight: 300px;\n          color: #4D4D80;\n        }\n        .footerIcons img {\n          margin-left: 11px;\n          margin-right: 11px;\n        }\n        .blueButton {\n          background: #8AA1EB;\n          border-radius: 10px;\n          padding: 17px 35px;\n          border: none;\n          color: #FFFFFF;\n          font-size: 15px;\n          margin-bottom: 32px;\n          cursor: pointer;\n        }\n        .blueButton:focus {\n          outline: none;\n          border: 2px solid #5457FF;\n          padding: 15px 33px;\n        }\n        @media only screen and (max-width: 480px) {\n          table, table tr td, table td {\n            width: 100%;\n          }\n          .contentMainTable {\n            width: 100%;\n            border: none;\n          }\n          body, html {\n            background: #FFFFFF;\n          }\n          h1 {\n            font-size: 24px;\n          }\n        }\n      }\n    </style>\n    <title>\n    </title>\n    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n  </head>\n  <body style="padding:0; margin: 0;">\n    <table border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="body_table">\n      <tbody>\n        <tr>\n          <td align="center" valign="top">\n            <table border="0" cellpadding="20" cellspacing="0" width="100%" class="contentMainTable">\n              <tbody>\n                <tr>\n                  <td align="center" valign="top">\n                    <img class="logoImage" src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/logodefaulttemplate.png" alt="#">\n                    <table border="0" cellpadding="20" cellspacing="0" width="100%" id="content">\n                      <tbody>\n                        <tr>\n                          <td align="center" valign="top">\n                            <span class="isDesktop">\n                              <h1 style="margin-bottom: 32px">\n                                Welcome to Construct-tek!\n                              </h1>\n                              <p style="margin-top:0px"> ${this.CurrentUser.user.firstName} has invited to join a project. Kindly log in and  visit your dashboard...\n                              </p></span>\n                            <div class="greyLine">\n                            </div>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td align="center" valign="top">\n                            <img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/security_illu.png" alt="#">\n                            <h2>Security\n                            </h2>\n                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr.\n                            </p>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td align="center" valign="top">\n                            <img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/Mask_Group_2.png" alt="#">\n                            <h2>Settings\n                            </h2>\n                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr.\n                            </p>\n                          </td>\n                        </tr>\n                        <tr>\n                          <td align="center" valign="top">\n                            <a target="_blank"><button class="blueButton">See more</button></a> <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr,\n                            sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat.\n                            </p>\n                            <div class="greyLine">\n                            </div>\n                            <div class="footer">\n                              If you no longer wish to receive mail from us, you can\n                              <a href="{unsubscribe}" target="_blank">Unsubscribe</a>\n                              <br>\n                              {accountaddress}\n                            </div>\n                            <div class="footerIcons">\n                              <a href="http://facebook.com" target="_blank"><img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/facebook.png" alt="#"></a> <a href="http://twitter.com" target="_blank"><img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/twitter.png" alt="#"></a> <a href="http://youtube.com" target="_blank"><img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/youtube.png" alt="#"></a> <a href="http://linkedin.com" target="_blank"><img src="https://api.elasticemail.com/userfile/a18de9fc-4724-42f2-b203-4992ceddc1de/linkedin.png" alt="#"></a></div>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </body>\n</html>`}).then(t=>{console.log("message is sent"),alert(t)})}onsend(){this.workerservice.addreview(this._workerid,this.ReviewForm.value),this.ReviewForm.reset()}ontimeline(){document.getElementById("timeline").style.display="block",document.getElementById("about").style.display="none",document.getElementById("tweets").style.display="none"}onAbout(){document.getElementById("about").style.display="block",document.getElementById("timeline").style.display="none",document.getElementById("tweets").style.display="none"}onReviews(){document.getElementById("tweets").style.display="block",document.getElementById("timeline").style.display="none",document.getElementById("about").style.display="none"}messageworker(t){console.log("the number","0"+t),window.open("https://wa.me/c/233"+t,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qx),r.Rb(Hx),r.Rb(rC),r.Rb(bI),r.Rb(zx),r.Rb(vI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-profile"]],decls:102,vars:14,consts:[[2,"padding","80px 0px"],[1,"profile-container"],[1,"profile-container-wrapper"],[1,"profile-photo"],["class","far fa-user",4,"ngIf"],["alt","",3,"src",4,"ngIf"],[1,"profile-info"],[1,"display-name"],[1,"join-date"],[1,"controlqwee"],[1,"control"],["smart-tooltip-container","",1,"control","clicktoshow"],[1,"fas","fa-plus"],["id","requests",1,"smart-tooltip","stay-buttom","stick-300","stayonhover"],[4,"ngIf","ngIfElse"],["pppp",""],[1,"message_worker",3,"click"],[1,"profile-bio"],[1,"profile-links-container"],["id","reviewfont",1,"active",3,"click"],["id","tweets-link"],["id","timefont",3,"click"],["id","media-link"],["id","aboutfont",3,"click"],["id","likes-link"],["id","tweets",1,"tweets"],["class","tweet-block",4,"ngFor","ngForOf"],[1,"tweet-block"],["src","https://res.cloudinary.com/jorpdesigns/image/upload/v1533122246/profile-picture.jpg","alt","profile photo"],[1,"tweet-content"],[1,"username"],[1,"timestamp"],[1,"tweet-links"],[1,"reply-tweet-link"],["href","#"],["src","https://res.cloudinary.com/jorpdesigns/image/upload/v1533134295/speech-bubble.png","alt","reply tweet"],[1,"retweet-tweet-link"],["src","https://res.cloudinary.com/jorpdesigns/image/upload/v1533134296/retweet.png","alt","retweet tweet"],[1,"like-tweet-link"],["src","https://res.cloudinary.com/jorpdesigns/image/upload/v1533134295/star.png","alt","like tweet"],[1,"add-comment"],["alt","",3,"src"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Add a review","formControlName","comment"],[1,"far","fa-paper-plane",2,"cursor","pointer",3,"click"],["id","timeline",1,"timeline"],[2,"margin","10px 60px !important"],["class","img-container",4,"ngIf","ngIfElse"],["name",""],["id","about",1,"about"],[1,"qqqq"],[1,"far","fa-user"],[4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[1,"far","fa-user-circle"],["alt","image",3,"src"],[1,"img-container"],["class","divdiv",4,"ngFor","ngForOf"],[1,"divdiv"],[2,"color","#00000099","margin","200px"]],template:function(t,e){if(1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"div",3),r.yc(4,OT,1,0,"i",4),r.yc(5,CT,1,1,"img",5),r.Vb(),r.Wb(6,"div",6),r.Sb(7,"br"),r.Wb(8,"span",7),r.Ac(9),r.Vb(),r.Sb(10,"br"),r.Wb(11,"span",8),r.Ac(12,"Joined August 2010"),r.Vb(),r.Vb(),r.Wb(13,"div",9),r.Wb(14,"div",10),r.Wb(15,"div",11),r.Sb(16,"i",12),r.Wb(17,"h3"),r.Ac(18,"Request"),r.Vb(),r.Wb(19,"h2",13),r.yc(20,kT,2,1,"div",14),r.yc(21,ST,2,0,"ng-template",null,15,r.zc),r.Vb(),r.Vb(),r.Vb(),r.Wb(23,"div",16),r.dc("click",(function(){return e.messageworker(null==e.workerdetails.user||null==e.workerdetails.user.skill?null:e.workerdetails.user.skill.phoneNumber)})),r.Wb(24,"button"),r.Ac(25,"message"),r.Vb(),r.Vb(),r.Vb(),r.Wb(26,"div",17),r.Wb(27,"span"),r.Ac(28,"Profession"),r.Vb(),r.Wb(29,"p"),r.Ac(30),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(31,"div",18),r.Wb(32,"ul"),r.Wb(33,"li"),r.Wb(34,"h4",19),r.dc("click",(function(){return e.onReviews()})),r.Wb(35,"a",20),r.Ac(36,"REVIEWS"),r.Vb(),r.Vb(),r.Vb(),r.Wb(37,"li"),r.Wb(38,"h4",21),r.dc("click",(function(){return e.ontimeline()})),r.Wb(39,"a",22),r.Ac(40,"MEDIA"),r.Vb(),r.Vb(),r.Vb(),r.Wb(41,"li"),r.Wb(42,"h4",23),r.dc("click",(function(){return e.onAbout()})),r.Wb(43,"a",24),r.Ac(44,"ABOUT"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(45,"div",25),r.yc(46,TT,21,5,"div",26),r.Wb(47,"div",27),r.Sb(48,"img",28),r.Wb(49,"span",29),r.Wb(50,"span",7),r.Ac(51,"John James"),r.Vb(),r.Ac(52,"\u2022"),r.Wb(53,"span",30),r.Ac(54,"@JohnJames"),r.Vb(),r.Wb(55,"span",31),r.Ac(56,"5s"),r.Vb(),r.Sb(57,"br"),r.Ac(58,"Going to church together is the most beautiful and unspoken form of intimacy"),r.Vb(),r.Wb(59,"div",32),r.Wb(60,"span",33),r.Wb(61,"a",34),r.Sb(62,"img",35),r.Vb(),r.Vb(),r.Wb(63,"span",36),r.Wb(64,"a",34),r.Sb(65,"img",37),r.Vb(),r.Vb(),r.Wb(66,"span",38),r.Wb(67,"a",34),r.Sb(68,"img",39),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(69,"div",40),r.Sb(70,"img",41),r.Wb(71,"form",42),r.dc("ngSubmit",(function(){return e.onsend()})),r.Sb(72,"input",43),r.Wb(73,"i",44),r.dc("click",(function(){return e.onsend()})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(74,"div",45),r.Wb(75,"h3",46),r.Ac(76,"Timeline Photos"),r.Vb(),r.yc(77,AT,2,1,"div",47),r.yc(78,jT,2,0,"ng-template",null,48,r.zc),r.Vb(),r.Wb(80,"div",49),r.Wb(81,"h3"),r.Ac(82,"Contact info"),r.Vb(),r.Wb(83,"div"),r.Wb(84,"div",50),r.Wb(85,"h4"),r.Ac(86,"Phone:"),r.Vb(),r.Wb(87,"span"),r.Ac(88),r.Vb(),r.Vb(),r.Wb(89,"div",50),r.Wb(90,"h4"),r.Ac(91,"Email:"),r.Vb(),r.Wb(92,"span"),r.Ac(93),r.Vb(),r.Vb(),r.Vb(),r.Wb(94,"h3"),r.Ac(95,"Other information"),r.Vb(),r.Wb(96,"div"),r.Wb(97,"div",50),r.Wb(98,"h4"),r.Ac(99,"Gender:"),r.Vb(),r.Wb(100,"span"),r.Ac(101),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.sc(22),n=r.sc(79);r.Hb(4),r.mc("ngIf",!(null!=e.workerdetails.user&&e.workerdetails.user.photo)),r.Hb(1),r.mc("ngIf",null==e.workerdetails.user?null:e.workerdetails.user.photo),r.Hb(4),r.Bc(null==e.workerdetails.user||null==e.workerdetails.user.skill?null:e.workerdetails.user.skill.name),r.Hb(11),r.mc("ngIf",0!=e.projects)("ngIfElse",t),r.Hb(10),r.Bc(e.workerdetails.user.skill.profession),r.Hb(16),r.mc("ngForOf",e.workerdetails.user.skill.reviews),r.Hb(24),r.mc("src",e.reviewimage,r.uc),r.Hb(1),r.mc("formGroup",e.ReviewForm),r.Hb(6),r.mc("ngIf",e.workerdetails.user.skill.Wokerimages.length>0)("ngIfElse",n),r.Hb(11),r.Cc("0",null==e.workerdetails.user||null==e.workerdetails.user.skill?null:e.workerdetails.user.skill.phoneNumber,""),r.Hb(5),r.Bc(null==e.workerdetails.user||null==e.workerdetails.user.skill?null:e.workerdetails.user.skill.email),r.Hb(8),r.Bc(null==e.workerdetails.user||null==e.workerdetails.user.skill?null:e.workerdetails.user.skill.gender)}},directives:[U,qb,V,Sw,R_,Tw,E_,M_,Aw],styles:['@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=PT+Sans:400,700");*[_ngcontent-%COMP%]{box-sizing:border-box!important}body[_ngcontent-%COMP%]{font-family:PT Sans,sans-serif}#requests[_ngcontent-%COMP%]{width:116px;background-color:#d8dadb;color:#121216;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#requests[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}#requests[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:#1a1964}#requests[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:5px;font-size:14px}#requests[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:5px}.top-bar[_ngcontent-%COMP%]{margin:10px 0 5px;height:65px}.top-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left;vertical-align:middle;line-height:65px}.control[_ngcontent-%COMP%]{display:flex;grid-gap:10px;align-items:flex-end;color:#fff;align-items:center;width:115px;padding:16px 5px}.control[_ngcontent-%COMP%]:hover{cursor:pointer;color:#08df28}.message_worker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#323186;padding:8px 15px}.message_worker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1a1964}.search-container[_ngcontent-%COMP%]{width:20%;display:inline-block;text-align:center}.search-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;vertical-align:middle;position:relative;bottom:2px}.logo-container[_ngcontent-%COMP%]{width:60%;display:inline-block;text-align:center}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;vertical-align:middle}.mobile-toggle-container[_ngcontent-%COMP%]{width:20%;display:inline-block;text-align:center}.mobile-toggle-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;vertical-align:middle}.profile-container[_ngcontent-%COMP%]{background:url(https://res.cloudinary.com/jorpdesigns/image/upload/v1533123741/profile-header.jpg)}.profile-container-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);padding:35px 60px 15px;position:relative}.profile-photo[_ngcontent-%COMP%]{height:150px;width:150px;margin:-15px auto}.profile-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-info[_ngcontent-%COMP%]{display:block;text-align:center;margin:17px 25px 0;color:#fff}.profile-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:5px;font-size:13px;letter-spacing:.7px}.profile-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{letter-spacing:3px}.profile-info[_ngcontent-%COMP%]   span.username[_ngcontent-%COMP%]:before, .profile-info[_ngcontent-%COMP%]   span.website[_ngcontent-%COMP%]:before{content:"\u2022";margin:0 10px 0 0}span.join-date[_ngcontent-%COMP%]{display:inline-block;margin:10px 0 0;text-transform:uppercase;font-size:13px;letter-spacing:.5px}.profile-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.profile-bio[_ngcontent-%COMP%]{display:block;float:none;text-align:center}.profile-bio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;text-decoration:none;font-size:12px;font-weight:600;color:#fff;letter-spacing:1.5px}.profile-bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:7px 0;color:#fff;font-size:13px;letter-spacing:.7px}.profile-links-container[_ngcontent-%COMP%]{padding:0;border:1px solid #ddd;border-bottom:none}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;border:1px solid #ddd;border-right:none;border-left:none}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;width:32%;margin:0;border-right:1px solid #ddd;text-align:center}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-right:none}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:20px 0}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;letter-spacing:1.5px;transition:all .2s ease}.profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .profile-links-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#000}.tweets[_ngcontent-%COMP%]{background:#f7f7f7;padding:4% 10%;width:80%;margin:0 auto 50px}.tweet-block[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #ddd;line-height:60px;margin:0 auto;padding:2%}.tweet-block[_ngcontent-%COMP%]:last-child{border-bottom:none}.tweet-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;width:45px;margin:6px 0;padding:0 1%;border-radius:50%}.tweet-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], span.tweet-content[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}span.tweet-content[_ngcontent-%COMP%]{width:calc(100% - 98px);margin-left:3%;margin-right:0;font-size:14px;line-height:22px;letter-spacing:.3px}span.display-name[_ngcontent-%COMP%]{margin-right:7px;font-size:13px;font-weight:600}span.username[_ngcontent-%COMP%]{margin-left:7px;font-size:13px}span.timestamp[_ngcontent-%COMP%]{float:right;font-size:12px}.tweet-links[_ngcontent-%COMP%]{line-height:15px;text-align:right}span.like-tweet-link[_ngcontent-%COMP%], span.reply-tweet-link[_ngcontent-%COMP%], span.retweet-tweet-link[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}span.like-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], span.reply-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], span.retweet-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;margin:0 15px 0 0;width:15px;border-radius:0;opacity:0;transition:all .2s ease}.tweet-block[_ngcontent-%COMP%]:hover   span.like-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .tweet-block[_ngcontent-%COMP%]:hover   span.reply-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .tweet-block[_ngcontent-%COMP%]:hover   span.retweet-tweet-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:1}.add-comment[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #ddd;line-height:60px;margin:0 auto;padding:2%;display:flex;grid-gap:20px}.add-comment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50px}.add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:13px;margin-right:18px;height:15px}.timeline[_ngcontent-%COMP%]{display:none;width:90%;background:#fff;margin:0 auto}.timeline[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;grid-gap:20px;height:324px;flex-wrap:wrap;overflow:auto}.timeline[_ngcontent-%COMP%]   .divdiv[_ngcontent-%COMP%]{height:200px;width:300px}.timeline[_ngcontent-%COMP%]   .divdiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:3px 6px 14px -8px #000;width:100%;height:100%}.about[_ngcontent-%COMP%]{display:none;margin:0 auto;width:70%;padding:2%;background-color:hsla(0,0%,81.6%,.23137254901960785)}.about[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:15px 0;font-family:Roboto;font-weight:500;color:rgba(0,0,0,.47058823529411764)}.qqqq[_ngcontent-%COMP%]{display:flex;grid-gap:30px;align-items:center;padding:5px 0}.qqqq[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-family:Roboto;font-weight:500;color:#312d2d}.qqqq[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize;font-size:17px}.controlqwee[_ngcontent-%COMP%]{float:none;text-align:center;margin-left:38%;color:#fff;display:flex;align-items:center}@media screen and (max-width:800px){.controlqwee[_ngcontent-%COMP%]{margin-left:32%}}@media screen and (max-width:600px){.controlqwee[_ngcontent-%COMP%]{margin-left:25%}.add-comment[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:20%;background-color:#00f}}@media screen and (max-width:500px){.controlqwee[_ngcontent-%COMP%]{margin:0}}']}),t})();function RT(t,e){if(1&t&&(r.Wb(0,"span",11),r.Ac(1),r.Vb()),2&t){const t=e.$implicit;r.Hb(1),r.Bc(t.project.name)}}function NT(t,e){if(1&t&&(r.Wb(0,"div",3),r.Wb(1,"div",4),r.Sb(2,"img",5),r.Vb(),r.Wb(3,"h4"),r.Ac(4),r.Sb(5,"span",6),r.Vb(),r.Wb(6,"div",7),r.Wb(7,"h3"),r.Ac(8," Name: "),r.Wb(9,"span"),r.Ac(10),r.Vb(),r.Vb(),r.Wb(11,"h3"),r.Ac(12," Profession: "),r.Wb(13,"span"),r.Ac(14),r.Vb(),r.Vb(),r.Vb(),r.Wb(15,"button",8),r.Ac(16," Add "),r.yc(17,RT,2,1,"span",9),r.Vb(),r.Wb(18,"button",10),r.Ac(19," View Profile "),r.Vb(),r.Vb()),2&t){const t=e.$implicit,n=r.hc();r.Hb(2),r.mc("src",t.user.photo,r.uc),r.Hb(2),r.Cc("",t.user.skill.ratings," "),r.Hb(6),r.Bc(t.user.skill.name),r.Hb(4),r.Bc(t.user.skill.profession),r.Hb(3),r.mc("ngForOf",n.projects)}}function DT(t,e){1&t&&(r.Wb(0,"div",12),r.Wb(1,"p"),r.Ac(2,"No matched item found"),r.Vb(),r.Vb())}let LT=(()=>{class t{constructor(t,e){this.data=t,this.worker=e,this.listwokers=[]}ngOnInit(){this.data.searchItem.subscribe(t=>{console.log("the search param",t),t?this.worker.getallwokers().subscribe(e=>{this.listwokers=[],console.log(e," THIS IS THE ACCESS LIST"),e.forEach(e=>{e.user.skill.name.toLowerCase().includes(t.toLowerCase())&&this.listwokers.push(e),console.log("the lsit of woker",this.listwokers)})}):this.listwokers=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zx),r.Rb(bI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-search"]],decls:3,vars:2,consts:[["id","workers",1,"workers-container"],["class","worker",4,"ngFor","ngForOf"],["style","padding-top: 50px; margin: auto; font-size: 20px; color: #006bd8",4,"ngIf"],[1,"worker"],[1,"img-container"],["alt","",3,"src"],[1,"fa","fa-star"],[1,"details"],["smart-tooltip-container","",2,"background-color","#006bd8","width","80%","height","36px","margin-left","20px","border-radius","5px","color","white"],["class","smart-tooltip stay-buttom stick-300 stayonhover",4,"ngFor","ngForOf"],[2,"background-color","#003366","height","36px","width","80%","margin-left","20px","border-radius","5px","color","white","margin-bottom","10px"],[1,"smart-tooltip","stay-buttom","stick-300","stayonhover"],[2,"padding-top","50px","margin","auto","font-size","20px","color","#006bd8"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.yc(1,NT,20,5,"div",1),r.yc(2,DT,3,0,"div",2),r.Vb()),2&t&&(r.Hb(1),r.mc("ngForOf",e.listwokers),r.Hb(1),r.mc("ngIf",0==e.listwokers.length))},directives:[V,U,qb],styles:[".workers-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:20px;padding:150px 25px;position:relative}.workers-container[_ngcontent-%COMP%]   .worker[_ngcontent-%COMP%]{background:#fff;position:relative;display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));flex-direction:column;border:1px solid #ccc;box-shadow:2px 2px 6px 0 rgba(0,0,0,.8)}.workers-container[_ngcontent-%COMP%]   .worker[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:40px;background-color:#006bd8;text-align:center;color:#fff;padding:3px 4px;font-size:14px}.workers-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:200px;width:220px;background-color:hsla(0,0%,82.7%,.7411764705882353)}.workers-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.workers-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:2px;margin-left:21px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:196px;color:#000}.workers-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-family:Poppins;text-transform:capitalize}.worker[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.04)}"]}),t})();const VT=["Listname"],FT=["Cardname"],UT=["changeListname"];function WT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",12),r.dc("click",(function(){return r.tc(t),r.hc().toggle()})),r.Wb(1,"h3"),r.Ac(2),r.Vb(),r.Vb()}if(2&t){const t=r.hc();r.Hb(2),r.Bc(t.Tittle)}}function qT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",13),r.Wb(1,"input",14,15),r.dc("keydown.enter",(function(){return r.tc(t),r.hc().onaddlistname()})),r.Vb(),r.Vb()}}function BT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",22),r.Wb(1,"h3",23),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().toggle3(e)})),r.Ac(2),r.Vb(),r.Sb(3,"div",24),r.Wb(4,"div",25),r.Sb(5,"i",26),r.Wb(6,"h3",27),r.Wb(7,"span",12),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().deletelist(e)})),r.Ac(8,"Delete List"),r.Vb(),r.Sb(9,"hr"),r.Wb(10,"span",12),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().toggle3(e)})),r.Ac(11,"Rename"),r.Vb(),r.Sb(12,"hr"),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.hc().$implicit;r.Hb(2),r.Bc(t.taskname)}}function HT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",13),r.Wb(1,"input",28,29),r.dc("keydown.enter",(function(){r.tc(t);const e=r.hc().index;return r.hc().onlistname(e)})),r.Vb(),r.Vb()}}function zT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",30),r.dc("click",(function(){r.tc(t);const e=r.hc().index;return r.hc().Addcard(e)})),r.Wb(1,"h3"),r.Ac(2,"Add card"),r.Vb(),r.Sb(3,"i",5),r.Vb()}}function KT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",31),r.Wb(1,"input",32,33),r.dc("keydown.enter",(function(){r.tc(t);const e=r.hc().index;return r.hc().oncardname(e)})),r.Vb(),r.Vb()}}function GT(t,e){if(1&t&&(r.Wb(0,"div",49),r.Sb(1,"img",50),r.Wb(2,"a",51),r.Sb(3,"i",52),r.Vb(),r.Vb()),2&t){const t=r.hc().$implicit,e=r.hc(3);r.Hb(1),r.mc("src",t.img,r.uc),r.Hb(1),r.mc("href",t.img,r.uc)("download",e.filename)}}function $T(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",37),r.Wb(1,"div",38),r.Wb(2,"div",39),r.Wb(3,"span"),r.Ac(4),r.Vb(),r.Wb(5,"div",25),r.Sb(6,"i",40),r.Wb(7,"h3",41),r.Wb(8,"span",12),r.dc("click",(function(){r.tc(t);const n=e.$implicit,i=e.index,o=r.hc(2).index;return r.hc().deletecard(n,i,o)})),r.Ac(9,"Delete card"),r.Sb(10,"i",42),r.Vb(),r.Sb(11,"hr"),r.Wb(12,"span",12),r.dc("click",(function(){r.tc(t);const n=e.index,i=r.hc(2).index;return r.hc().uploadimage(n,i)})),r.Ac(13,"Add Image "),r.Sb(14,"i",43),r.Vb(),r.Wb(15,"input",44),r.dc("change",(function(e){return r.tc(t),r.hc(3).onChange(e)})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.yc(16,GT,4,3,"div",45),r.Wb(17,"div",46),r.Wb(18,"h4"),r.Ac(19," IB: "),r.Wb(20,"span"),r.Ac(21),r.Vb(),r.Vb(),r.Wb(22,"h4",47),r.Ac(23,"AT: "),r.Wb(24,"h5",48),r.Ac(25),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(4),r.Bc(t.task),r.Hb(12),r.mc("ngIf",0!=t.img),r.Hb(5),r.Cc("",t.issuedby," "),r.Hb(4),r.Cc("",t.assignedto," ")}}function QT(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",34,35),r.dc("cdkDropListDropped",(function(e){r.tc(t);const n=r.hc().index;return r.hc().drop(e,n)})),r.Wb(2,"div"),r.yc(3,$T,26,4,"div",36),r.Vb(),r.Vb()}if(2&t){const t=r.hc().$implicit;r.mc("cdkDropListData",t.taskname),r.Hb(3),r.mc("ngForOf",t.task)}}function YT(t,e){if(1&t&&(r.Wb(0,"div",16),r.Wb(1,"div"),r.Wb(2,"div"),r.yc(3,BT,13,1,"div",17),r.Vb(),r.yc(4,HT,3,0,"ng-template",null,18,r.zc),r.Vb(),r.Wb(6,"div"),r.yc(7,zT,4,0,"div",19),r.yc(8,KT,3,0,"ng-template",null,20,r.zc),r.Vb(),r.yc(10,QT,4,2,"div",21),r.Vb()),2&t){const t=e.$implicit,n=e.index,i=r.sc(5),o=r.sc(9),s=r.hc();r.Hb(3),r.mc("ngIf",!s.hooks[n])("ngIfElse",i),r.Hb(4),r.mc("ngIf",!s.hooks2[n])("ngIfElse",o),r.Hb(3),r.mc("ngIf",0!=t.task)}}const XT=function(){return{"background-size":"cover","background-repeat":"repeat"}};let JT=(()=>{class t{constructor(t,e,n){this.projectservice=t,this.activatedroute=e,this.workerservice=n,this.listname=!0,this.Tittle="tittle",this.card="",this.listoftasks=[],this.workerservice.useridproject.subscribe(t=>{console.log("user id of the viewed project",t),this.useridproject=t})}ngOnInit(){this.activatedroute.params.subscribe(t=>{console.log("these are the activated route",t),this._projectid=t.projectId,this.useridproject=t.userid,console.log("projectId",t),this.projectservice.userproject(this._projectid,this.useridproject).subscribe(t=>{console.log("these are the results",t),this._projects=t,this.listoftasks=this._projects.Tasks,console.log("list of tasks",this.listoftasks)})}),this.hooks=this.listoftasks.map(t=>!0),this.hooks2=this.listoftasks.map(t=>!0)}Addlist(){document.getElementById("newTasklist").style.display="block",console.log("clicked")}toggle(){this.listname=!this.listname,console.log("clicked")}onaddlistname(){console.log("title",this.nameInputRef.nativeElement.value),this.Tittle=this.nameInputRef.nativeElement.value,this.projectservice.newtask(this.Tittle,this._projectid),document.getElementById("newTasklist").style.display="none",this.toggle()}onlistname(t){console.log(" change title",this.changeListname.nativeElement.value);for(let e=0;e<this.listoftasks.length;e++)e==t&&(this.listoftasks[t].taskname=this.changeListname.nativeElement.value,console.log("new name",this.listoftasks[t].taskname),console.log("entire list",this.listoftasks),this.projectservice.UpdateTasksworkers(this.listoftasks,this._projectid,this.useridproject),this.hooks[e]=!1)}deletecard(t,e,n){this.projectservice.deletecardonlistworker(t,e,n,this.listoftasks,this._projectid,this.useridproject)}toggle3(t){console.log(t);for(let e=0;e<this.hooks.length;e++)e==t?(this.hooks[t]=!0,this.hooks2[e]=!1):(this.hooks[e]=!1,this.hooks2[e]=!1);this.hooks[t]=!0,console.log("add tittle",this.hooks[t]),console.log("index of the titl",t)}deletelist(t){for(let e=0;e<this.listoftasks.length;e++)t==e&&(console.log("index of the item to be deleted",t),this.listoftasks.splice(t,1),this.projectservice.UpdateTasksworkers(this.listoftasks,this._projectid,this.useridproject))}Addcard(t){console.log("index of the card",t);for(let e=0;e<this.hooks2.length;e++)e==t?(this.hooks[e]=!1,this.hooks2[e]=!0):(this.hooks2[e]=!1,this.hooks[e]=!1);this.hooks2[t]=!0}oncardname(t){console.log(" change card",t,this.CardName.nativeElement.value),this.projectservice.onaddcardworker(this.listoftasks,t,this._projectid,this.CardName.nativeElement.value,this.useridproject),this.hooks2[t]=!1}uploadimage(t,e){this.MainTaskindex=e,this.Subtaskindex=t;for(let n=0;n<this.listoftasks[e].task.length;n++)n==t&&(console.log("you clicking ",t),document.getElementById("file-upload5").click())}onChange(t){let e=t.target.files[0];e&&this.projectservice.workerImageUpload(e,this.useridproject,this._projectid,this.MainTaskindex,this.Subtaskindex,this.listoftasks)}drop(t,e){t.previousContainer===t.container?(console.log("event container",t.container),Kv(this.listoftasks[e].task,t.previousIndex,t.currentIndex),this.projectservice.UpdateTasksworkers(this.listoftasks,this._projectid,this.useridproject)):(Gv(this.listoftasks[e-1].task,this.listoftasks[e].task,t.previousIndex,t.currentIndex),this.projectservice.UpdateTasksworkers(this.listoftasks,this._projectid,this.useridproject),console.log("event previous container",t.previousContainer.data))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(vI),r.Rb(rC),r.Rb(bI))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-viewboard"]],viewQuery:function(t,e){var n;1&t&&(r.Ec(VT,!0),r.Ec(FT,!0),r.Ec(UT,!0)),2&t&&(r.rc(n=r.ec())&&(e.nameInputRef=n.first),r.rc(n=r.ec())&&(e.CardName=n.first),r.rc(n=r.ec())&&(e.changeListname=n.first))},decls:19,vars:8,consts:[[1,"content",3,"ngStyle"],[1,"container"],[1,"container_top"],[1,"workarea"],[1,"add",3,"click"],[1,"fas","fa-plus"],["id","newTasklist",1,"Taskadd"],[3,"click",4,"ngIf","ngIfElse"],["listdata",""],["cdkDropListGroup","",2,"display","flex","grid-gap","10px"],["class","list",4,"ngFor","ngForOf"],[1,"smallscrren"],[3,"click"],[1,"Listname"],["type","text","placeholder","Title",3,"keydown.enter"],["Listname",""],[1,"list"],["class","control-button",4,"ngIf","ngIfElse"],["Data",""],["class","add1",3,"click",4,"ngIf","ngIfElse"],["carddata",""],["cdkDropList","","class","example-list",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],[1,"control-button"],[2,"width","90%",3,"click"],["id","elemtrack",2,"height","15px","width","15px","background-color","rgb(17 117 10)","border-radius","50%","display","none"],["smart-tooltip-container","",1,"clicktoshow"],[1,"fas","fa-ellipsis-v"],["id","tts",1,"smart-tooltip","stay-buttom","stick-300","stayonhover"],["type","text","placeholder","New title",3,"keydown.enter"],["changeListname",""],[1,"add1",3,"click"],[1,"cardname"],["type","text","placeholder","Add a text",3,"keydown.enter"],["Cardname",""],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["task.taskname","cdkDropList"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[1,"example-box1",2,"margin-bottom","5px"],[1,"example-box"],[1,"fas","fa-ellipsis-v",2,"padding","5px","cursor","pointer"],["id","tts",1,"smart-tooltip","stay-left","stick-300","stayonhover"],[1,"fas","fa-trash"],[1,"fas","fa-camera"],["id","file-upload5","type","file","accept","image/*",2,"display","none",3,"change"],["class","img-container",4,"ngIf"],[1,"example-box2"],[2,"display","flex","align-items","center"],[2,"white-space","nowrap","text-overflow","ellipsis","overflow","hidden","width","65px"],[1,"img-container"],["alt","",3,"src"],[3,"href","download"],[1,"fas","fa-download"]],template:function(t,e){if(1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"h1"),r.Ac(4),r.Vb(),r.Vb(),r.Wb(5,"div",3),r.Wb(6,"div",4),r.dc("click",(function(){return e.Addlist()})),r.Wb(7,"h3"),r.Ac(8,"Add list"),r.Vb(),r.Sb(9,"i",5),r.Vb(),r.Wb(10,"div",6),r.yc(11,WT,3,1,"div",7),r.yc(12,qT,3,0,"ng-template",null,8,r.zc),r.Vb(),r.Wb(14,"div",9),r.yc(15,YT,11,5,"div",10),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(16,"div",11),r.Wb(17,"h2"),r.Ac(18,"Use a computer or a devive with a wider screen for great user experience."),r.Vb(),r.Vb()),2&t){const t=r.sc(13);r.xc("background-image","url(/img/"+(null==e._projects?null:e._projects.backgroundImage)+")"),r.mc("ngStyle",r.oc(7,XT)),r.Hb(4),r.Bc(null==e._projects||null==e._projects.project?null:e._projects.project.name),r.Hb(7),r.mc("ngIf",e.listname)("ngIfElse",t),r.Hb(4),r.mc("ngForOf",e.listoftasks)}},directives:[B,U,ay,V,qb,hy,gy],styles:[".content[_ngcontent-%COMP%]{height:92.8vh;margin-top:10px;overflow:hidden}.container[_ngcontent-%COMP%]{padding:30px 0 0 40px}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]{display:flex;grid-gap:22px;align-items:center}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:19px;color:rgba(17,16,16,.7803921568627451);background:hsla(0,0%,100%,.6509803921568628);padding:10px;font-weight:700;font-family:sans-serif}.container[_ngcontent-%COMP%]   .container_top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#111010;background:hsla(0,0%,100%,.6392156862745098);padding:10px;font-size:13px;font-family:fangsong;font-weight:600}.teamcontainer[_ngcontent-%COMP%]{display:flex;position:relative}.teamcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;width:40px;overflow:hidden;top:14px;margin-left:12px!important}.teamcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]:first-letter{color:#fff;overflow:hidden;width:40px;font-size:200%;padding:6px 3px;margin-right:6px}.team[_ngcontent-%COMP%]{height:48px;border-radius:50%;width:50px;margin-right:-11px;border:1px solid #fff}.workarea[_ngcontent-%COMP%]{display:flex;grid-gap:10px;margin-top:20px;width:94%;overflow:auto;height:80vh}.workarea[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;cursor:pointer;grid-gap:5px;align-items:center;background:#c4c4c4;padding:5px 15px;border-radius:10px 10px 0 0;height:30px;width:180px;justify-content:space-between}.workarea[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(0,0,0,.788);padding:10px;border-radius:50%}.newlist-container[_ngcontent-%COMP%]{display:none;background:#c4c4c4;padding:5px 15px;border-radius:10px 10px 0 0;width:130px}.newlist-container[_ngcontent-%COMP%]   .newlist[_ngcontent-%COMP%]{display:flex;cursor:pointer;grid-gap:5px;align-items:center;justify-content:space-between}.newlist-container[_ngcontent-%COMP%]   .newlist[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(0,0,0,.788);padding:10px;border-radius:50%}.newlist-container[_ngcontent-%COMP%]   .cardname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:45px;padding:5px;width:96%}.list[_ngcontent-%COMP%]{background-color:#c4c4c4;min-width:250px;padding:10px 15px;border-radius:10px 10px 0 0;height:-webkit-max-content;height:max-content}.list[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.Listname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:26px;border-radius:7px;padding:5px;width:96%}.cardname[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;height:45px;padding:5px;width:96%}.Taskadd[_ngcontent-%COMP%]{display:none;grid-gap:5px;padding:5px 15px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:130px}.add1[_ngcontent-%COMP%], .Taskadd[_ngcontent-%COMP%]{cursor:pointer;align-items:center;background:#c4c4c4;border-radius:10px 10px 0 0;justify-content:space-between}.add1[_ngcontent-%COMP%]{display:flex;color:rgba(0,0,0,.7019607843137254)}#tts[_ngcontent-%COMP%]{width:105px;background-color:#fcfafa;color:#000;font-size:14px}#tts[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5b5b94}#tts[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;border-radius:4px;overflow:hidden;display:block}.img-container[_ngcontent-%COMP%]{height:160px;width:248px}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;background-size:cover;border-radius:1px;background-position:45%}.img-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{top:-36px;left:204px;position:relative;padding:5px;background:#c4b5b5}.img-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fff}.example-box2[_ngcontent-%COMP%]{padding:13px 10px;color:rgba(0,0,0,.58);font-size:4px;height:0;border-radius:0 0 10px 10px}.example-box[_ngcontent-%COMP%], .example-box2[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);font-size:14px;border-radius:10px 10px 0 0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.Modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:200px auto;padding:20px;border:1px solid #888;width:30%;border-radius:10px}.woker-content[_ngcontent-%COMP%]{background:rgba(0,0,255,.25098039215686274);display:flex;justify-content:space-between;align-items:center;padding:10px 15px}.woker-content[_ngcontent-%COMP%]:hover{background:#484877;cursor:pointer}.woker-content[_ngcontent-%COMP%]   .nameworker[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto;font-size:16px;font-weight:500;line-height:1}.woker-content[_ngcontent-%COMP%]   .nameworker[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{color:orange}.woker-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{background:rgba(216,214,214,.9607843137254902);padding:11px;border-radius:50%}.woker-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fff}.smallscrren[_ngcontent-%COMP%]{display:none}@media screen and (max-width:750px){.content[_ngcontent-%COMP%]{display:none}.smallscrren[_ngcontent-%COMP%]{display:block;padding:200px 10px}}"]}),t})();var ZT=n("9a8T");let tP=(()=>{class t{constructor(t){this.http=t,this.WorkwithusForm=new xw({name:new Cw("",[U_.required,U_.minLength(3)]),email:new Cw("",[U_.required,U_.email]),message:new Cw})}ngOnInit(){ZT.init({delay:200,duration:500,once:!1,mirror:!1})}onsubmit(){console.log(this.WorkwithusForm.value);const t=new Hy({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mbjqzjvo",{name:this.WorkwithusForm.value.name,replyto:this.WorkwithusForm.value.email,message:this.WorkwithusForm.value.message},{headers:t}).subscribe(t=>{console.log(t)}),this.WorkwithusForm.reset()}toggleNavbar(t){document.getElementById(t).classList.toggle("hidden"),document.getElementById(t).classList.toggle("block")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i_))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-landing-page"]],decls:301,vars:1,consts:[[1,"text-gray-800","antialiased"],[1,"top-0","absolute","z-50","w-full","flex","flex-wrap","items-center","justify-between","px-2","py-3","navbar-expand-lg"],[1,"container","px-4","mx-auto","flex","flex-wrap","items-center","justify-between"],[1,"w-full","relative","flex","justify-between","lg:w-auto","lg:static","lg:block","lg:justify-start"],[1,"text-sm","font-bold","leading-relaxed","inline-block","mr-4","py-2","whitespace-no-wrap","uppercase","text-white"],["type","button",1,"cursor-pointer","text-xl","leading-none","px-3","py-1","border","border-solid","border-transparent","rounded","bg-transparent","block","lg:hidden","outline-none","focus:outline-none",3,"click"],[1,"text-white","fas","fa-bars"],["id","example-collapse-navbar",1,"lg:flex","flex-grow","items-center","lg:bg-transparent","lg:shadow-none","hidden"],[1,"flex","flex-col","lg:flex-row","list-none","lg:ml-auto"],[1,"flex","items-center"],[1,"lg:text-white","lg:hover:text-gray-300","text-gray-800","px-3","py-4","lg:py-2","flex","items-center","text-xs","uppercase","font-bold"],["routerLink","/login",1,"inline-block","ml-2",2,"color","white"],["routerLink","/sign-up",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded"],[1,"relative","pt-16","pb-32","flex","content-center","items-center","justify-center",2,"min-height","75vh"],[1,"absolute","top-0","w-full","h-full","bg-center","bg-cover",2,"background-image",'url("../../assets/dashboard.jpg")'],["id","blackOverlay",1,"w-full","h-full","absolute","opacity-75","bg-black"],[1,"container","relative","mx-auto"],[1,"items-center","flex","flex-wrap"],[1,"w-full","lg:w-6/12","px-4","ml-auto","mr-auto","text-center"],[1,"pr-12"],["data-aos","fade-up",1,"text-white","font-semibold","text-5xl"],["data-aos","fade-right","data-aos-delay","1000",1,"mt-4","text-lg","text-gray-300"],[1,"top-auto","bottom-0","left-0","right-0","w-full","absolute","pointer-events-none","overflow-hidden",2,"height","70px","transform","translateZ(0)"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","none","version","1.1","viewBox","0 0 2560 100","x","0","y","0",1,"absolute","bottom-0","overflow-hidden"],["points","2560 0 2560 100 0 100",1,"text-gray-300","fill-current"],[1,"pb-20","bg-gray-300","-mt-24"],[1,"container","mx-auto","px-4"],[1,"flex","flex-wrap"],["data-aos","fade-right","data-aos-delay","1200",1,"lg:pt-12","pt-6","w-full","md:w-4/12","px-4","text-center"],[1,"relative","flex","flex-col","min-w-0","break-words","bg-white","w-full","mb-8","shadow-lg","rounded-lg"],[1,"px-4","py-5","flex-auto"],[1,"text-white","p-3","text-center","inline-flex","items-center","justify-center","w-12","h-12","mb-5","shadow-lg","rounded-full","bg-red-400"],[1,"fas","fa-robot"],[1,"text-xl","font-bold"],[1,"mt-2","mb-4","text-gray-600"],["data-aos","fade-up","data-aos-delay","1400",1,"w-full","md:w-4/12","px-4","text-center"],[1,"text-white","p-3","text-center","inline-flex","items-center","justify-center","w-12","h-12","mb-5","shadow-lg","rounded-full","bg-blue-400"],[1,"fas","fa-atom"],[1,"text-xl","font-semibold"],["data-aos","fade-left","data-aos-delay","1600",1,"pt-6","w-full","md:w-4/12","px-4","text-center"],[1,"text-white","p-3","text-center","inline-flex","items-center","justify-center","w-12","h-12","mb-5","shadow-lg","rounded-full","bg-green-400"],[1,"fas","fa-bolt"],[1,"flex","flex-wrap","items-center","mt-32"],["data-aos","zoom-in-right",1,"w-full","md:w-5/12","px-4","mr-auto","ml-auto"],[1,"text-gray-600","p-3","text-center","inline-flex","items-center","justify-center","w-16","h-16","mb-6","shadow-lg","rounded-full","bg-gray-100"],[1,"fas","fa-star","text-xl"],[1,"text-3xl","mb-2","font-semibold","leading-normal"],[1,"text-lg","font-light","leading-relaxed","mt-4","mb-4","text-gray-700"],[1,"text-lg","font-light","leading-relaxed","mt-0","mb-4","text-gray-700"],["href","https://www.creative-tim.com/framework/tailwind-starter-kit",1,"font-bold","text-gray-800","mt-8"],["data-aos","flip-left","data-aos-delay","1000",1,"w-full","md:w-4/12","px-4","mr-auto","ml-auto"],[1,"relative","flex","flex-col","min-w-0","break-words","bg-white","w-full","mb-6","shadow-lg","rounded-lg","bg-orange-500"],["alt","...","src","https://images.unsplash.com/photo-1512572525676-f9b59951929e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1252&q=80",1,"w-full","align-middle","rounded-t-lg"],[1,"relative","p-8","mb-4"],["preserveAspectRatio","none","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 583 95",1,"absolute","left-0","w-full","block",2,"height","95px","top","-94px"],["points","-30,95 583,95 583,65",1,"text-orange-500","fill-current"],[1,"text-xl","font-bold","text-white"],[1,"text-md","font-light","mt-2","text-white"],[1,"relative","py-20"],[1,"bottom-auto","top-0","left-0","right-0","w-full","absolute","pointer-events-none","overflow-hidden","-mt-20",2,"height","80px","transform","translateZ(0)"],["points","2560 0 2560 100 0 100",1,"text-white","fill-current"],["data-aos","flip-right","data-aos-delay","1000",1,"w-full","md:w-4/12","ml-auto","mr-auto","px-4"],["alt","...","src","https://images.unsplash.com/photo-1553678324-f84674bd7b24?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80",1,"max-w-full","rounded-lg","shadow-lg"],["data-aos","zoom-in-left",1,"w-full","md:w-5/12","ml-auto","mr-auto","px-4"],[1,"md:pr-12"],[1,"text-pink-600","p-3","text-center","inline-flex","items-center","justify-center","w-16","h-16","mb-6","shadow-lg","rounded-full","bg-pink-300"],[1,"fas","fa-rocket","text-xl"],[1,"text-3xl","font-semibold"],[1,"mt-4","text-lg","leading-relaxed","text-gray-600"],[1,"list-none","mt-6"],[1,"py-2"],[1,"text-xs","font-semibold","inline-block","py-1","px-2","uppercase","rounded-full","text-pink-600","bg-pink-200","mr-3"],[1,"fas","fa-fingerprint"],[1,"text-gray-600"],[1,"fab","fa-html5"],[1,"far","fa-paper-plane"],[1,"pt-20","pb-48"],[1,"flex","flex-wrap","justify-center","text-center","mb-24"],[1,"w-full","lg:w-6/12","px-4"],[1,"text-4xl","font-semibold"],[1,"text-lg","leading-relaxed","m-4","text-gray-600"],[1,"flex","flex-wrap","justify-center"],["data-aos","fade-in",1,"w-full","md:w-6/12","lg:w-3/12","lg:mb-0","mb-12","px-4"],[1,"px-6"],["alt","...","src","assets/emma.jpg",1,"shadow-lg","rounded-full","max-w-full","mx-auto",2,"max-width","120px"],[1,"pt-6","text-center"],[1,"mt-1","text-sm","text-gray-500","uppercase","font-semibold"],[1,"mt-6"],["type","button",1,"bg-blue-400","text-white","w-8","h-8","rounded-full","outline-none","focus:outline-none","mr-1","mb-1"],[1,"fab","fa-twitter"],["type","button",1,"bg-red-600","text-white","w-8","h-8","rounded-full","outline-none","focus:outline-none","mr-1","mb-1"],[1,"fa","fa-envelope"],["type","button",1,"bg-black","text-white","w-8","h-8","rounded-full","outline-none","focus:outline-none","mr-1","mb-1"],[1,"fab","fa-github"],["data-aos","fade-in","data-aos-delay","400",1,"w-full","md:w-6/12","lg:w-3/12","lg:mb-0","mb-12","px-4"],["alt","...","src","assets/andy.jpg",1,"shadow-lg","rounded-full","max-w-full","mx-auto",2,"max-width","120px"],["data-aos","fade-in","data-aos-delay","600",1,"w-full","md:w-6/12","lg:w-3/12","lg:mb-0","mb-12","px-4"],["alt","...","src","assets/ernest.jpg",1,"shadow-lg","rounded-full","max-w-full","mx-auto",2,"max-width","120px"],[1,"pb-20","relative","block","bg-gray-900"],["points","2560 0 2560 100 0 100",1,"text-gray-900","fill-current"],[1,"container","mx-auto","px-4","lg:pt-24","lg:pb-64"],[1,"flex","flex-wrap","text-center","justify-center"],[1,"text-4xl","font-semibold","text-white"],[1,"text-lg","leading-relaxed","mt-4","mb-4","text-gray-500"],[1,"flex","flex-wrap","mt-12","justify-center"],["data-aos","fade-in","data-aos-delay","600",1,"w-full","lg:w-3/12","px-4","text-center"],[1,"text-gray-900","p-3","w-12","h-12","shadow-lg","rounded-full","bg-white","inline-flex","items-center","justify-center"],[1,"fas","fa-medal","text-xl"],[1,"text-xl","mt-5","font-semibold","text-white"],[1,"mt-2","mb-4","text-gray-500"],["data-aos","fade-in","data-aos-delay","400",1,"w-full","lg:w-3/12","px-4","text-center"],[1,"fas","fa-poll","text-xl"],["data-aos","fade-in",1,"w-full","lg:w-3/12","px-4","text-center"],[1,"fas","fa-lightbulb","text-xl"],[1,"relative","block","py-24","lg:pt-0","bg-gray-900"],["data-aos","fade-in",1,"container","mx-auto","px-4"],[1,"flex","flex-wrap","justify-center","lg:-mt-64","-mt-48"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-gray-300"],[1,"flex-auto","p-5","lg:p-10"],[1,"text-2xl","font-semibold"],[1,"leading-relaxed","mt-1","mb-4","text-gray-600"],[3,"formGroup","ngSubmit"],[1,"relative","w-full","mb-3","mt-8"],["for","full-name",1,"block","uppercase","text-gray-700","text-xs","font-bold","mb-2"],["type","text","placeholder","Full Name","formControlName","name",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full",2,"transition","all 0.15s ease 0s"],[1,"relative","w-full","mb-3"],["for","email",1,"block","uppercase","text-gray-700","text-xs","font-bold","mb-2"],["type","email","placeholder","Email","formControlName","email",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full",2,"transition","all 0.15s ease 0s"],["for","message",1,"block","uppercase","text-gray-700","text-xs","font-bold","mb-2"],["rows","4","cols","80","placeholder","Type a message...","formControlName","message",1,"px-3","py-3","placeholder-gray-400","text-gray-700","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:shadow-outline","w-full"],[1,"text-center","mt-6"],["type","submit",1,"bg-gray-900","text-white","active:bg-gray-700","text-sm","font-bold","uppercase","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1",2,"transition","all 0.15s ease 0s"],[1,"relative","bg-gray-300","pt-8","pb-6"],[1,"text-lg","mt-0","mb-2","text-gray-700"],["href","https://www.twitter.com/creativetim","target","_blank"],[1,"fab","fa-twitter","bg-white","text-blue-400","shadow-lg","font-lg","p-3","items-center","justify-center","align-center","rounded-full","outline-none","focus:outline-none","mr-2","inline-block","text-center"],["href","https://www.facebook.com/creativetim","target","_blank"],[1,"fab","fa-facebook-square","bg-white","text-blue-600","shadow-lg","font-lg","p-3","items-center","justify-center","align-center","rounded-full","outline-none","focus:outline-none","mr-2","inline-block","text-center"],["href","https://www.dribbble.com/creativetim","target","_blank"],[1,"fab","fa-dribbble","bg-white","text-pink-400","shadow-lg","font-lg","p-3","items-center","justify-center","align-center","rounded-full","outline-none","focus:outline-none","mr-2","inline-block","text-center"],["href","https://www.github.com/creativetimofficial","target","_blank"],[1,"fab","fa-github","bg-white","text-gray-900","shadow-lg","font-lg","p-3","items-center","justify-center","align-center","rounded-full","outline-none","focus:outline-none","mr-2","inline-block","text-center"],[1,"flex","flex-wrap","items-top","mb-6"],[1,"w-full","lg:w-4/12","px-4","ml-auto"],[1,"block","uppercase","text-gray-600","text-sm","font-semibold","mb-2"],[1,"list-unstyled"],["href","https://www.creative-tim.com/presentation",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://blog.creative-tim.com",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://www.github.com/creativetimofficial",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://www.creative-tim.com/bootstrap-themes/free",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],[1,"w-full","lg:w-4/12","px-4"],["href","https://github.com/creativetimofficial/argon-design-system/blob/master/LICENSE.md",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://creative-tim.com/terms",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://creative-tim.com/privacy",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],["href","https://creative-tim.com/contact-us",1,"text-gray-700","hover:text-gray-900","font-semibold","block","pb-2","text-sm"],[1,"my-6","border-gray-400"],[1,"flex","flex-wrap","items-center","md:justify-between","justify-center"],[1,"w-full","md:w-4/12","px-4","mx-auto","text-center"],[1,"text-sm","text-gray-600","font-semibold","py-1"],["href","https://www.creative-tim.com",1,"text-gray-600","hover:text-gray-900"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"nav",1),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Wb(4,"a",4),r.Ac(5," Construction-Tek "),r.Vb(),r.Wb(6,"button",5),r.dc("click",(function(){return e.toggleNavbar("example-collapse-navbar")})),r.Sb(7,"i",6),r.Vb(),r.Vb(),r.Wb(8,"div",7),r.Wb(9,"ul",8),r.Wb(10,"li",9),r.Wb(11,"a",10),r.Wb(12,"span",11),r.Ac(13,"Login"),r.Vb(),r.Vb(),r.Vb(),r.Wb(14,"li",9),r.Wb(15,"a"),r.Wb(16,"button",12),r.Ac(17,"Sign up"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(18,"main"),r.Wb(19,"div",13),r.Wb(20,"div",14),r.Sb(21,"span",15),r.Vb(),r.Wb(22,"div",16),r.Wb(23,"div",17),r.Wb(24,"div",18),r.Wb(25,"div",19),r.Wb(26,"h1",20),r.Ac(27," Welcome to Construction Tek "),r.Vb(),r.Wb(28,"p",21),r.Ac(29," Are you a constructor, a forman or an individual looking for atisians with the requsite skills to work on your Project(s)? Then you are at the right place"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(30,"div",22),r.gc(),r.Wb(31,"svg",23),r.Sb(32,"polygon",24),r.Vb(),r.Vb(),r.Vb(),r.fc(),r.Wb(33,"section",25),r.Wb(34,"div",26),r.Wb(35,"div",27),r.Wb(36,"div",28),r.Wb(37,"div",29),r.Wb(38,"div",30),r.Wb(39,"div",31),r.Sb(40,"i",32),r.Vb(),r.Wb(41,"h6",33),r.Ac(42,"Artisans"),r.Vb(),r.Wb(43,"p",34),r.Ac(44," Easily search for artisans within a specific category. "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(45,"div",35),r.Wb(46,"div",29),r.Wb(47,"div",30),r.Wb(48,"div",36),r.Sb(49,"i",37),r.Vb(),r.Wb(50,"h6",38),r.Ac(51,"Create a Project"),r.Vb(),r.Wb(52,"p",34),r.Ac(53," Create a project as many as you want and send invite to the artisans you are willing to work it. "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(54,"div",39),r.Wb(55,"div",29),r.Wb(56,"div",30),r.Wb(57,"div",40),r.Sb(58,"i",41),r.Vb(),r.Wb(59,"h6",38),r.Ac(60,"Manage Project"),r.Vb(),r.Wb(61,"p",34),r.Ac(62," A simple project tracker where the foreman can track all the artisans tasks assiged to them. "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(63,"div",42),r.Wb(64,"div",43),r.Wb(65,"div",44),r.Sb(66,"i",45),r.Vb(),r.Wb(67,"h3",46),r.Ac(68," Trying New Things is Great! "),r.Vb(),r.Wb(69,"p",47),r.Ac(70," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officiis, dolores? Saepe aspernatur necessitatibus explicabo. "),r.Vb(),r.Wb(71,"p",48),r.Ac(72," Lorem, ipsum dolor sit amet consectetur adipisicing elit. At repellat obcaecati tenetur officia distinctio! A voluptates numquam, neque libero molestiae natus facere temporibus! "),r.Vb(),r.Wb(73,"a",49),r.Ac(74,"Check Tailwind Starter Kit! "),r.Vb(),r.Vb(),r.Wb(75,"div",50),r.Wb(76,"div",51),r.Sb(77,"img",52),r.Wb(78,"blockquote",53),r.gc(),r.Wb(79,"svg",54),r.Sb(80,"polygon",55),r.Vb(),r.fc(),r.Wb(81,"h4",56),r.Ac(82," More Than Meets The Eye "),r.Vb(),r.Wb(83,"p",57),r.Ac(84," I feel like I've mentioned before that I'm a robot and that continues to be true, even to this day. "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(85,"section",58),r.Wb(86,"div",59),r.gc(),r.Wb(87,"svg",23),r.Sb(88,"polygon",60),r.Vb(),r.Vb(),r.fc(),r.Wb(89,"div",26),r.Wb(90,"div",17),r.Wb(91,"div",61),r.Sb(92,"img",62),r.Vb(),r.Wb(93,"div",63),r.Wb(94,"div",64),r.Wb(95,"div",65),r.Sb(96,"i",66),r.Vb(),r.Wb(97,"h3",67),r.Ac(98,"A growing company"),r.Vb(),r.Wb(99,"p",68),r.Ac(100," The extension comes with three pre-built pages to help you get started faster. You can change the text and images and you're good to go. "),r.Vb(),r.Wb(101,"ul",69),r.Wb(102,"li",70),r.Wb(103,"div",9),r.Wb(104,"div"),r.Wb(105,"span",71),r.Sb(106,"i",72),r.Vb(),r.Vb(),r.Wb(107,"div"),r.Wb(108,"h4",73),r.Ac(109," Carefully crafted components "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(110,"li",70),r.Wb(111,"div",9),r.Wb(112,"div"),r.Wb(113,"span",71),r.Sb(114,"i",74),r.Vb(),r.Vb(),r.Wb(115,"div"),r.Wb(116,"h4",73),r.Ac(117,"Amazing page examples"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(118,"li",70),r.Wb(119,"div",9),r.Wb(120,"div"),r.Wb(121,"span",71),r.Sb(122,"i",75),r.Vb(),r.Vb(),r.Wb(123,"div"),r.Wb(124,"h4",73),r.Ac(125,"Dynamic components"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(126,"section",76),r.Wb(127,"div",26),r.Wb(128,"div",77),r.Wb(129,"div",78),r.Wb(130,"h2",79),r.Ac(131,"Here are the brains behind Construct-Tek"),r.Vb(),r.Wb(132,"p",80),r.Ac(133," This software is built by Final year Computer Engineering students of Kwame Nkrumah University of Science and Technology (KNUST) as their final year project "),r.Vb(),r.Vb(),r.Vb(),r.Wb(134,"div",81),r.Wb(135,"div",82),r.Wb(136,"div",83),r.Sb(137,"img",84),r.Wb(138,"div",85),r.Wb(139,"h5",33),r.Ac(140,"Emmanuel Ofori"),r.Vb(),r.Wb(141,"p",86),r.Ac(142," Backend Developer "),r.Vb(),r.Wb(143,"div",87),r.Wb(144,"button",88),r.Sb(145,"i",89),r.Vb(),r.Wb(146,"button",90),r.Sb(147,"i",91),r.Vb(),r.Wb(148,"button",92),r.Sb(149,"i",93),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(150,"div",94),r.Wb(151,"div",83),r.Sb(152,"img",95),r.Wb(153,"div",85),r.Wb(154,"h5",33),r.Ac(155,"Asamoah Andrews"),r.Vb(),r.Wb(156,"p",86),r.Ac(157," Frontend Developer "),r.Vb(),r.Wb(158,"div",87),r.Wb(159,"button",88),r.Sb(160,"i",89),r.Vb(),r.Wb(161,"button",90),r.Sb(162,"i",91),r.Vb(),r.Wb(163,"button",92),r.Sb(164,"i",93),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(165,"div",96),r.Wb(166,"div",83),r.Sb(167,"img",97),r.Wb(168,"div",85),r.Wb(169,"h5",33),r.Ac(170,"Ernest Apauh"),r.Vb(),r.Wb(171,"p",86),r.Ac(172," UI/UX Designer "),r.Vb(),r.Wb(173,"div",87),r.Wb(174,"button",88),r.Sb(175,"i",89),r.Vb(),r.Wb(176,"button",90),r.Sb(177,"i",91),r.Vb(),r.Wb(178,"button",92),r.Sb(179,"i",93),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(180,"section",98),r.Wb(181,"div",59),r.gc(),r.Wb(182,"svg",23),r.Sb(183,"polygon",99),r.Vb(),r.Vb(),r.fc(),r.Wb(184,"div",100),r.Wb(185,"div",101),r.Wb(186,"div",78),r.Wb(187,"h2",102),r.Ac(188,"Build something"),r.Vb(),r.Wb(189,"p",103),r.Ac(190," Put the potentially record low maximum sea ice extent tihs year down to low ice. According to the National Oceanic and Atmospheric Administration, Ted, Scambos. "),r.Vb(),r.Vb(),r.Vb(),r.Wb(191,"div",104),r.Wb(192,"div",105),r.Wb(193,"div",106),r.Sb(194,"i",107),r.Vb(),r.Wb(195,"h5",108),r.Ac(196," Excelent Services "),r.Vb(),r.Wb(197,"p",109),r.Ac(198," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.Vb(),r.Vb(),r.Wb(199,"div",110),r.Wb(200,"div",106),r.Sb(201,"i",111),r.Vb(),r.Wb(202,"h5",108),r.Ac(203," Grow your market "),r.Vb(),r.Wb(204,"p",109),r.Ac(205," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.Vb(),r.Vb(),r.Wb(206,"div",112),r.Wb(207,"div",106),r.Sb(208,"i",113),r.Vb(),r.Wb(209,"h5",108),r.Ac(210,"Launch time"),r.Vb(),r.Wb(211,"p",109),r.Ac(212," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(213,"section",114),r.Wb(214,"div",115),r.Wb(215,"div",116),r.Wb(216,"div",78),r.Wb(217,"div",117),r.Wb(218,"div",118),r.Wb(219,"h4",119),r.Ac(220,"Want to work with us?"),r.Vb(),r.Wb(221,"p",120),r.Ac(222," Complete this form and we will get back to you in 24 hours. "),r.Vb(),r.Wb(223,"form",121),r.dc("ngSubmit",(function(){return e.onsubmit()})),r.Wb(224,"div",122),r.Wb(225,"label",123),r.Ac(226," Full Name "),r.Vb(),r.Sb(227,"input",124),r.Vb(),r.Wb(228,"div",125),r.Wb(229,"label",126),r.Ac(230," Email "),r.Vb(),r.Sb(231,"input",127),r.Vb(),r.Wb(232,"div",125),r.Wb(233,"label",128),r.Ac(234," Message "),r.Vb(),r.Sb(235,"textarea",129),r.Vb(),r.Wb(236,"div",130),r.Wb(237,"button",131),r.Ac(238," Send Message "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(239,"footer",132),r.Wb(240,"div",59),r.gc(),r.Wb(241,"svg",23),r.Sb(242,"polygon",24),r.Vb(),r.Vb(),r.fc(),r.Wb(243,"div",26),r.Wb(244,"div",27),r.Wb(245,"div",78),r.Wb(246,"h4",67),r.Ac(247,"Let's keep in touch!"),r.Vb(),r.Wb(248,"h5",133),r.Ac(249," Find us on any of these platforms, we respond 1-2 business days. "),r.Vb(),r.Wb(250,"div",87),r.Wb(251,"a",134),r.Sb(252,"i",135),r.Vb(),r.Wb(253,"a",136),r.Sb(254,"i",137),r.Vb(),r.Wb(255,"a",138),r.Sb(256,"i",139),r.Vb(),r.Wb(257,"a",140),r.Sb(258,"i",141),r.Vb(),r.Vb(),r.Vb(),r.Wb(259,"div",78),r.Wb(260,"div",142),r.Wb(261,"div",143),r.Wb(262,"span",144),r.Ac(263,"Useful Links"),r.Vb(),r.Wb(264,"ul",145),r.Wb(265,"li"),r.Wb(266,"a",146),r.Ac(267,"About Us"),r.Vb(),r.Vb(),r.Wb(268,"li"),r.Wb(269,"a",147),r.Ac(270,"Blog"),r.Vb(),r.Vb(),r.Wb(271,"li"),r.Wb(272,"a",148),r.Ac(273,"Github"),r.Vb(),r.Vb(),r.Wb(274,"li"),r.Wb(275,"a",149),r.Ac(276,"Free Products"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(277,"div",150),r.Wb(278,"span",144),r.Ac(279,"Other Resources"),r.Vb(),r.Wb(280,"ul",145),r.Wb(281,"li"),r.Wb(282,"a",151),r.Ac(283,"MIT License"),r.Vb(),r.Vb(),r.Wb(284,"li"),r.Wb(285,"a",152),r.Ac(286,"Terms & Conditions"),r.Vb(),r.Vb(),r.Wb(287,"li"),r.Wb(288,"a",153),r.Ac(289,"Privacy Policy"),r.Vb(),r.Vb(),r.Wb(290,"li"),r.Wb(291,"a",154),r.Ac(292,"Contact Us"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Sb(293,"hr",155),r.Wb(294,"div",156),r.Wb(295,"div",157),r.Wb(296,"div",158),r.Ac(297," Copyright \xa9 2019 Tailwind Starter Kit by "),r.Wb(298,"a",159),r.Ac(299,"Creative Tim"),r.Vb(),r.Ac(300,". "),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(223),r.mc("formGroup",e.WorkwithusForm))},directives:[yx,Sw,R_,Tw,E_,M_,Aw],styles:["@tailwind base;@tailwind components;@tailwind utilities;*{box-sizing:border-box!important}"],encapsulation:2}),t})();function eP(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"img",32),r.Vb())}function nP(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"img",33),r.Vb())}function rP(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"img",34),r.Vb())}function iP(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"img",35),r.Vb())}function oP(t,e){1&t&&(r.Wb(0,"div"),r.Sb(1,"img",36),r.Vb())}function sP(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",28),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc().opencategory(n.name)})),r.yc(1,eP,2,0,"div",29),r.yc(2,nP,2,0,"div",29),r.yc(3,rP,2,0,"div",29),r.yc(4,iP,2,0,"div",29),r.yc(5,oP,2,0,"div",29),r.Wb(6,"div",30),r.Wb(7,"div",31),r.Ac(8),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(1),r.mc("ngIf","Carpenter"==t.name),r.Hb(1),r.mc("ngIf","Plumber"==t.name),r.Hb(1),r.mc("ngIf","Bricklayer"==t.name),r.Hb(1),r.mc("ngIf","Acoustics consultant"==t.name),r.Hb(1),r.mc("ngIf","Stonemason"==t.name),r.Hb(3),r.Bc(t.name)}}function aP(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",28),r.dc("click",(function(){r.tc(t);const n=e.$implicit;return r.hc().openWorker(n)})),r.Wb(1,"div"),r.Sb(2,"img",37),r.Vb(),r.Wb(3,"h4",38),r.Ac(4),r.Sb(5,"span",39),r.Vb(),r.Wb(6,"div",30),r.Wb(7,"div",31),r.Ac(8),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Hb(2),r.mc("src",t.user.photo,r.uc),r.Hb(2),r.Cc("",null==t.user?null:t.user.skill.ratings," "),r.Hb(4),r.Bc(t.user.skill.name)}}const cP=function(t,e){return{itemsPerPage:t,currentPage:e}},uP=[{path:"dashboard",component:II,children:[{path:"content",component:TI,children:[{path:"home-page",component:(()=>{class t{constructor(t,e,n,r){this.worker=t,this.loaderService=e,this.data=n,this.router=r,this.images=["../../assets/slide1.jpg","../../assets/image1.jpg","../../assets/image2.jpg","../../assets/image3.jpg"],this.employeedata=[],this.p=1,this.c=1,this.count=4,this.selectedindex=0}ngOnInit(){this.getallwokers(),this.Highglyratedworkers(),this.showSlides()}getallwokers(){try{this.loaderService.setHttpProgressStatus(!0),this.worker.getallwokers().subscribe(t=>{console.log("all the workers response",t);let e=this.groupBy(t,t=>t.user.skill.profession);console.log("final",e),[...e].map(([t,e])=>({name:t,value:e})),this.allProfessionCategory=Array.from(e,([t,e])=>({name:t,value:e})),this.loaderService.setHttpProgressStatus(!1)})}catch(t){this.loaderService.setHttpProgressStatus(!1),console.log(t.message)}}Highglyratedworkers(){this.worker.highratingworkers().subscribe(t=>{console.log("hightly rated worlers",t),this.highlyratedworkers=t})}groupBy(t,e){const n=new Map;return t.forEach(t=>{const r=e(t),i=n.get(r);i?i.push(t):n.set(r,[t])}),n}openWorker(t){console.log("worker",t),this.router.navigate(["dashboard/content/worker",t.id])}opencategory(t){this.worker.getcategoryworkers(t),console.log("data 2",t),this.router.navigate(["dashboard/content/homepage",t])}updateSearch(t){t?(document.getElementById("workers").style.display="none",document.getElementById("searchResults").style.display="flex",this.data.search(t),console.log(t)):(document.getElementById("workers").style.display="flex",document.getElementById("searchResults").style.display="none")}selectImage(t){console.log("Index: "+t),this.selectedindex=t,console.log("Selected Index: "+this.selectedindex)}showSlides(){let t,e=document.getElementsByClassName("mySlides"),n=document.getElementsByClassName("dot");for(t=0;t<e.length;t++)e[t].style.display="none";for(this.selectedindex++,this.selectedindex>e.length&&(this.selectedindex=1),t=0;t<n.length;t++)n[t].className=n[t].className.replace(" active","");e[this.selectedindex-1].style.display="block",n[this.selectedindex-1].className+=" active",setTimeout(()=>this.showSlides(),2e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(bI),r.Rb(qx),r.Rb(zx),r.Rb(vx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-categories"]],decls:95,vars:14,consts:[[2,"background-image","url(assets/backgroundslide.jpg)",";\n    background-size","cover","background-repeat","no-repeat","background-position","47%","background-color","#e7e7e7","height","430px","padding","60px 0px"],[1,"slideshow-container"],[1,"mySlides"],[1,"author"],["onclick","plusSlides(-1)",1,"prev"],["onclick","plusSlides(1)",1,"next"],[1,"dot-container"],["onclick","currentSlide(1)",1,"dot"],["onclick","currentSlide(2)",1,"dot"],["onclick","currentSlide(3)",1,"dot"],[1,"displayworkers"],[1,"theworkers"],[1,"worker-con"],["class","worker",3,"click",4,"ngFor","ngForOf"],[2,"float","right","margin-bottom","16px","margin-top","10px",3,"pageChange"],[1,"tra"],[2,"float","right","margin-bottom","16px","margin-top","5px",3,"pageChange"],[1,"footer-clean"],[1,"container"],[1,"row","justify-content-center"],[1,"col-sm-4","col-md-3","item"],["href","#"],[1,"col-lg-3","item","social"],[1,"icon","ion-social-facebook"],[1,"icon","ion-social-twitter"],[1,"icon","ion-social-snapchat"],[1,"icon","ion-social-instagram"],[1,"copyright"],[1,"worker",3,"click"],[4,"ngIf"],[1,"overlay"],[1,"text"],["src","assets/carpenter.jpg","alt","Avatar",1,"image"],["src","assets/plumber.jpg","alt","Avatar",1,"image"],["src","assets/bricklayer.jpg","alt","Avatar",1,"image"],["src","assets/consultant.jpg","alt","Avatar",1,"image"],["src","assets/stone.jpg","alt","Avatar",1,"image"],["alt","Avatar",1,"image",3,"src"],[2,"position","absolute","top","0px","right","0px","width","63px","background-color","#006bd8","text-align","center","color","white","padding","3px 4px","font-size","14px"],[1,"fa","fa-star"]],template:function(t,e){1&t&&(r.Wb(0,"div"),r.Wb(1,"div",0),r.Wb(2,"div",1),r.Wb(3,"div",2),r.Wb(4,"q"),r.Ac(5,"I love you the more in that I believe you had liked me for my own sake and for nothing else"),r.Vb(),r.Wb(6,"p",3),r.Ac(7,"- John Keats"),r.Vb(),r.Vb(),r.Wb(8,"div",2),r.Wb(9,"q"),r.Ac(10,"But man is not made for defeat. A man can be destroyed but not defeated."),r.Vb(),r.Wb(11,"p",3),r.Ac(12,"- Ernest Hemingway"),r.Vb(),r.Vb(),r.Wb(13,"div",2),r.Wb(14,"q"),r.Ac(15,"I have not failed. I've just found 10,000 ways that won't work."),r.Vb(),r.Wb(16,"p",3),r.Ac(17,"- Thomas A. Edison"),r.Vb(),r.Vb(),r.Wb(18,"a",4),r.Ac(19,"\u276e"),r.Vb(),r.Wb(20,"a",5),r.Ac(21,"\u276f"),r.Vb(),r.Vb(),r.Wb(22,"div",6),r.Sb(23,"span",7),r.Sb(24,"span",8),r.Sb(25,"span",9),r.Vb(),r.Vb(),r.Wb(26,"div",10),r.Wb(27,"h1"),r.Ac(28,"Categories"),r.Vb(),r.Wb(29,"div",11),r.Wb(30,"div",12),r.yc(31,sP,9,6,"div",13),r.ic(32,"paginate"),r.Vb(),r.Wb(33,"pagination-controls",14),r.dc("pageChange",(function(t){return e.c=t})),r.Vb(),r.Vb(),r.Wb(34,"h1",15),r.Ac(35,"Top rated Artisans"),r.Vb(),r.Wb(36,"div",11),r.Wb(37,"div",12),r.yc(38,aP,9,3,"div",13),r.ic(39,"paginate"),r.Vb(),r.Wb(40,"pagination-controls",16),r.dc("pageChange",(function(t){return e.p=t})),r.Vb(),r.Vb(),r.Vb(),r.Wb(41,"div",17),r.Wb(42,"footer"),r.Wb(43,"div",18),r.Wb(44,"div",19),r.Wb(45,"div",20),r.Wb(46,"h3"),r.Ac(47,"Services"),r.Vb(),r.Wb(48,"ul"),r.Wb(49,"li"),r.Wb(50,"a",21),r.Ac(51,"Manage workers"),r.Vb(),r.Vb(),r.Wb(52,"li"),r.Wb(53,"a",21),r.Ac(54,"Create Project"),r.Vb(),r.Vb(),r.Wb(55,"li"),r.Wb(56,"a",21),r.Ac(57,"Find skilled personnels"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(58,"div",20),r.Wb(59,"h3"),r.Ac(60,"About"),r.Vb(),r.Wb(61,"ul"),r.Wb(62,"li"),r.Wb(63,"a",21),r.Ac(64,"Company"),r.Vb(),r.Vb(),r.Wb(65,"li"),r.Wb(66,"a",21),r.Ac(67,"Team"),r.Vb(),r.Vb(),r.Wb(68,"li"),r.Wb(69,"a",21),r.Ac(70,"Legacy"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(71,"div",20),r.Wb(72,"h3"),r.Ac(73,"Careers"),r.Vb(),r.Wb(74,"ul"),r.Wb(75,"li"),r.Wb(76,"a",21),r.Ac(77,"Job openings"),r.Vb(),r.Vb(),r.Wb(78,"li"),r.Wb(79,"a",21),r.Ac(80,"Employee success"),r.Vb(),r.Vb(),r.Wb(81,"li"),r.Wb(82,"a",21),r.Ac(83,"Benefits"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(84,"div",22),r.Wb(85,"a",21),r.Sb(86,"i",23),r.Vb(),r.Wb(87,"a",21),r.Sb(88,"i",24),r.Vb(),r.Wb(89,"a",21),r.Sb(90,"i",25),r.Vb(),r.Wb(91,"a",21),r.Sb(92,"i",26),r.Vb(),r.Wb(93,"p",27),r.Ac(94,"Construct-Tek \xa9 2018"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Hb(31),r.mc("ngForOf",r.jc(32,2,e.allProfessionCategory,r.qc(8,cP,e.count,e.c))),r.Hb(7),r.mc("ngForOf",r.jc(39,5,e.highlyratedworkers,r.qc(11,cP,e.count,e.p))))},directives:[V,Ny,U],pipes:[Ay],styles:[".displayworkers[_ngcontent-%COMP%]{width:92%;margin:-69px 48px;border:1px solid #ccc;background-color:#d0e6fa;padding:10px 0;height:-webkit-max-content;height:max-content;z-index:1}.displayworkers[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:1.7em;font-family:Lato,sans-serif;font-weight:600;text-align:center;text-transform:uppercase}.displayworkers[_ngcontent-%COMP%]   .theworkers[_ngcontent-%COMP%]{width:90%;margin:30px 53px}.slideshow-container[_ngcontent-%COMP%]{position:relative;background:rgba(0,0,0,.5803921568627451);margin-top:80px}.mySlides[_ngcontent-%COMP%]{display:none;padding:80px;text-align:center}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{cursor:pointer;top:50%;width:auto;margin-top:-30px;padding:16px;font-size:20px;border-radius:0 3px 3px 0;-webkit-user-select:none;user-select:none}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{position:absolute;font-weight:700}.next[_ngcontent-%COMP%]{right:0;border-radius:3px 0 0 3px}.next[_ngcontent-%COMP%]:hover, .prev[_ngcontent-%COMP%]:hover{color:#fff}.dot-container[_ngcontent-%COMP%]{text-align:center}.dot[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px;margin:0 2px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color .6s ease}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{background-color:#717171}q[_ngcontent-%COMP%]{font-style:italic;font-size:19px;color:#fff}.author[_ngcontent-%COMP%]{color:#6495ed}.tra[_ngcontent-%COMP%]{margin:26px 0 20px 260px!important}.worker-con[_ngcontent-%COMP%]{display:flex;grid-gap:10px}.worker[_ngcontent-%COMP%]{position:relative;width:220px;height:300px}.image[_ngcontent-%COMP%]{display:block;width:100%;height:300px;object-fit:cover}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;transition:.5s ease;background-color:rgba(36,34,34,.4666666666666667)}.overlay[_ngcontent-%COMP%], .worker[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.text[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:500;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.footer-clean[_ngcontent-%COMP%]{padding:50px 0;background-color:#fff;color:#4b4c4d;box-shadow:0 5px 10px rgba(0,0,0,.8)}.footer-clean[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px;font-weight:700;font-size:16px;color:#000}.footer-clean[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;line-height:1.6;font-size:14px;margin-bottom:0;color:#000}.footer-clean[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;opacity:.8}.footer-clean[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.footer-clean[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%]{text-align:right}@media (max-width:767px){.footer-clean[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-align:center;padding-bottom:20px}}@media (max-width:768px){.footer-clean[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%]{text-align:center}}.footer-clean[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:24px;width:40px;height:40px;line-height:40px;display:inline-block;text-align:center;border-radius:50%;border:1px solid #ccc;margin-left:10px;margin-top:22px;color:inherit;opacity:.75}.footer-clean[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width:991px){.footer-clean[_ngcontent-%COMP%]   .item.social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-top:40px}.worker-con[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:10px;height:-webkit-max-content;height:max-content}.displayworkers[_ngcontent-%COMP%]{margin:-70px 15px}}@media (max-width:500px){.tra[_ngcontent-%COMP%]{margin:-1px -2px 0 0!important;text-align:initial;padding-top:40px}}"]}),t})()},{path:"homepage/:name",component:OI},{path:"worker/:id",component:MT},{path:"projects",component:FI},{path:"worker",component:nT},{path:"projectboard/:projectId",component:wT},{path:"viewboard/:projectId/:userid",component:JT},{path:"search",component:LT}]}]},{path:"",redirectTo:"/welcome",pathMatch:"full"},{path:"welcome",component:tP},{path:"login",component:Yx},{path:"sign-up",component:Xx}];let lP=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Mx.forRoot(uP)],Mx]}),t})(),hP=(()=>{class t{constructor(t,e,n,r){this.loaderService=t,this.renderer=e,this.router=n,this.dataservice=r,this.title="construct-tek",this.loaderService.httpProgress().subscribe(t=>{t?this.renderer.addClass(document.body,"busy"):this.renderer.removeClass(document.body,"busy")}),this.CheckingUser()}CheckingUser(){return Object(Zi.b)(this,void 0,void 0,(function*(){let t=localStorage.getItem("user");t?this.dataservice.setuserid(t):(window.location.href.includes("not-found")||!window.location.href.includes("login")&&!window.location.href.includes("SignUp")||console.log("user",t),this.router.navigate(["welcome"]),console.log("no user"))}))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qx),r.Rb(r.K),r.Rb(vx),r.Rb(zx))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:[Cx],styles:[""]}),t})(),dP=(()=>{class t{constructor(t){this.loaderService=t,this.count=0}intercept(t,e){return 0===this.count&&this.loaderService.setHttpProgressStatus(!0),this.count++,e.handle(t).pipe(Jw(()=>{this.count--,0===this.count&&this.loaderService.setHttpProgressStatus(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(qx))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class fP{}const pP="*";function gP(t,e=null){return{type:2,steps:t,options:e}}function mP(t){return{type:6,styles:t,offset:null}}function bP(t){Promise.resolve(null).then(t)}class vP{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?bP(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function _P(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wP(t){switch(t.length){case 0:return new vP;case 1:return t[0];default:return new yP(t)}}function OP(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case pP:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function CP(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&xP(n,"start",t)));break;case"done":t.onDone(()=>r(n&&xP(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&xP(n,"destroy",t)))}}function xP(t,e,n){const r=n.totalTime,i=kP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function kP(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function SP(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function EP(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let IP=(t,e)=>!1,TP=(t,e)=>!1,PP=(t,e,n)=>[];const AP=_P();(AP||"undefined"!=typeof Element)&&(IP=(t,e)=>t.contains(e),TP=(()=>{if(AP||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):TP}})(),PP=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let jP=null,MP=!1;function RP(t){jP||(jP=("undefined"!=typeof document?document.body:null)||{},MP=!!jP.style&&"WebkitAppearance"in jP.style);let e=!0;return jP.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in jP.style,!e&&MP)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in jP.style),e}const NP=TP,DP=IP,LP=PP;function VP(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let FP=(()=>{class t{validateStyleProperty(t){return RP(t)}matchesElement(t,e){return NP(t,e)}containsElement(t,e){return DP(t,e)}query(t,e,n){return LP(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new vP(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),UP=(()=>{class t{}return t.NOOP=new FP,t})();const WP="ng-enter",qP="ng-leave",BP="ng-trigger",HP=".ng-trigger",zP="ng-animating",KP=".ng-animating";function GP(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$P(parseFloat(e[1]),e[2])}function $P(t,e){switch(e){case"s":return 1e3*t;default:return t}}function QP(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$P(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=$P(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function YP(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function XP(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else YP(t,n);return n}function JP(t,e,n){return n?e+":"+n+";":""}function ZP(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=JP(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=JP(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function tA(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=cA(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),_P()&&ZP(t))}function eA(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=cA(e);t.style[n]=""}),_P()&&ZP(t))}function nA(t){return Array.isArray(t)?1==t.length?t[0]:gP(t):t}const rA=new RegExp("{{\\s*(.+?)\\s*}}","g");function iA(t){let e=[];if("string"==typeof t){let n;for(;n=rA.exec(t);)e.push(n[1]);rA.lastIndex=0}return e}function oA(t,e,n){const r=t.toString(),i=r.replace(rA,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function sA(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const aA=/-+([a-z0-9])/g;function cA(t){return t.replace(aA,(...t)=>t[1].toUpperCase())}function uA(t,e){return 0===t||0===e}function lA(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=dA(t,e)}))}}return e}function hA(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function dA(t,e){return window.getComputedStyle(t)[e]}const fA="*";function pA(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(bA(i,s)),"<"!=o[0]||i==fA&&s==fA||e.push(bA(s,i))}(t,n,e)):n.push(t),n}const gA=new Set(["true","1"]),mA=new Set(["false","0"]);function bA(t,e){const n=gA.has(t)||mA.has(t),r=gA.has(e)||mA.has(e);return(i,o)=>{let s=t==fA||t==i,a=e==fA||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?gA.has(t):mA.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?gA.has(e):mA.has(e)),s&&a}}const vA=new RegExp("s*:selfs*,?","g");function yA(t,e,n){return new _A(t).build(e,n)}class _A{constructor(t){this._driver=t}build(t,e){const n=new wA(e);return this._resetContextStyleTimingState(n),hA(this,nA(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(OA(t)){const e=t;Object.keys(e).forEach(t=>{iA(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=sA(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=hA(this,nA(t.animation),e);return{type:1,matchers:pA(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:CA(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>hA(this,t,e)),options:CA(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=hA(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:CA(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return xA(QP(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=xA(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||QP(r,e),xA(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:mP({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=mP(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==pP?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(OA(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=iA(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(OA(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(OA(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:hA(this,nA(t.animation),e),options:CA(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:CA(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:CA(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(vA,"")),[t=t.replace(/@\*/g,HP).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,KP),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,SP(e.collectedStyles,e.currentQuerySelector,{});const s=hA(this,nA(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:CA(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:QP(t.timings,e.errors,!0);return{type:12,animation:hA(this,nA(t.animation),e),timings:n,options:null}}}class wA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function OA(t){return!Array.isArray(t)&&"object"==typeof t}function CA(t){var e;return t?(t=YP(t)).params&&(t.params=(e=t.params)?YP(e):null):t={},t}function xA(t,e,n){return{duration:t,delay:e,easing:n}}function kA(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class SA{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const EA=new RegExp(":enter","g"),IA=new RegExp(":leave","g");function TA(t,e,n,r,i,o={},s={},a,c,u=[]){return(new PA).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class PA{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new SA;const l=new jA(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),hA(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[kA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?GP(n.duration):null,o=null!=n.delay?GP(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),hA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=AA);const t=GP(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>hA(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?GP(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),hA(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return QP(e.params?oA(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?GP(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=AA);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),hA(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;hA(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const AA={};class jA{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new MA(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=GP(n.duration)),null!=n.delay&&(r.delay=GP(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=oA(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new jA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=AA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new RA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(EA,"."+this._enterClassName)).replace(IA,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class MA{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new MA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pP,this._currentKeyframe[t]=pP}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=pP})):XP(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=oA(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:pP),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=XP(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==pP&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?sA(t.values()):[],o=e.size?sA(e.values()):[];if(n){const t=r[0],e=YP(t);t.offset=0,e.offset=1,r=[t,e]}return kA(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class RA extends MA{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=XP(t[0],!1);a.offset=0,i.push(a);const c=XP(t[0],!1);c.offset=NA(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=XP(t[r],!1);s.offset=NA((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return kA(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function NA(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class DA{}class LA extends DA{normalizePropertyName(t,e){return cA(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(VA[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const VA=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FA(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const UA={};class WA{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||UA,d=this.buildStyles(n,s&&s.params||UA,l),f=a&&a.params||UA,p=this.buildStyles(r,f,l),g=new Set,m=new Map,b=new Map,v="void"===r,y={params:Object.assign(Object.assign({},h),f)},_=u?[]:TA(t,e,this.ast.animation,i,o,d,p,y,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return FA(e,this._triggerName,n,r,v,d,p,[],[],m,b,w,l);_.forEach(t=>{const n=t.element,r=SP(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=SP(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=sA(g.values());return FA(e,this._triggerName,n,r,v,d,p,_,O,m,b,w)}}class qA{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=YP(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=oA(o,r,e)),n[t]=o})}}),n}}class BA{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new qA(t.style,t.options&&t.options.params||{})}),HA(this.states,"true","1"),HA(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WA(t,e,this.states))}),this.fallbackTransition=new WA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function HA(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const zA=new SA;class KA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=yA(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=OP(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=TA(this._driver,e,i,WP,qP,{},{},n,zA,r),o.forEach(t=>{const e=SP(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,pP)})});const a=wP(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=kP(e,"","","");return CP(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const GA="ng-animate-queued",$A="ng-animate-disabled",QA=".ng-animate-disabled",YA=[],XA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ZA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=YP(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const tj="void",ej=new ZA(tj);class nj{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uj(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=SP(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=SP(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(uj(t,BP),uj(t,"ng-trigger-"+e),a[e]=ej),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new ij(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(uj(t,BP),uj(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new ZA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=ej),c.value!==tj&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{eA(t,n),tA(t,r)})}return}const u=SP(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(uj(t,GA),o.onStart(()=>{lj(t,GA)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,HP,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,tj,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&wP(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||ej,s=new ZA(tj),a=new ij(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==XA||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){uj(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=kP(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,CP(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class rj{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new nj(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(oj(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!oj(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uj(t,$A)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lj(t,$A))}removeNode(t,e,n,r){if(oj(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return oj(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,HP,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,KP,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wP(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=XA,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,QA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,QA,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)uj(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?wP(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new SA,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=cj(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=WP+p++;f.set(e,n),t.forEach(t=>uj(t,n))});const g=[],m=new Set,b=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const v=new Map,y=cj(h,Array.from(m));y.forEach((t,e)=>{const n=qP+p++;v.set(e,n),t.forEach(t=>uj(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>lj(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>lj(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>eA(i,p.fromStyles)),e.onDestroy(()=>tA(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>eA(i,p.fromStyles)),e.onDestroy(()=>tA(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>SP(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{SP(O,e,[]).push(t),t.destroy()})});const x=g.filter(t=>dj(t,a,c)),k=new Map;aj(k,this.driver,b,c,pP).forEach(t=>{dj(t,a,c)&&x.push(t)});const S=new Map;d.forEach((t,e)=>{aj(S,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=k.get(t),n=S.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const E=[],I=[],T={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>tA(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=T;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,O,i,S,k);if(o.setRealPlayer(n),t===T)E.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=wP(e)),r.push(o)}}else eA(e,s.fromStyles),o.onDestroy(()=>tA(e,s.toStyles)),I.push(o),u.has(e)&&r.push(o)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=wP(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(lj(t,qP),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,KP,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?hj(this,t,r):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==tj;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=SP(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}eA(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new vP(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof yP?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||YA).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),b=OP(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new ij(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{SP(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>uj(t,zP));const d=wP(h);return d.onDestroy(()=>{u.forEach(t=>lj(t,zP)),tA(a,e.toStyles)}),l.forEach(t=>{SP(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new vP(t.duration,t.delay)}}class ij{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new vP,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>CP(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){SP(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function oj(t){return t&&1===t.nodeType}function sj(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function aj(t,e,n,r,i){const o=[];n.forEach(t=>o.push(sj(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=JA,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>sj(t,o[a++])),s}function cj(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function uj(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function lj(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function hj(t,e,n){wP(n).onDone(()=>t.processLeaveNode(e))}function dj(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class fj{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new rj(t,e,n),this._timelineEngine=new KA(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=yA(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new BA(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=EP(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=EP(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pj(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=mj(e[0]),e.length>1&&(r=mj(e[e.length-1]))):e&&(n=mj(e)),n||r?new gj(t,n,r):null}let gj=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&tA(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tA(this._element,this._initialStyles),this._endStyles&&(tA(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(eA(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eA(this._element,this._endStyles),this._endStyles=null),tA(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function mj(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];bj(i)&&(e=e||{},e[i]=t[i])}return e}function bj(t){return"display"===t||"position"===t}const vj="animation",yj="animationend";class _j{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Sj(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),kj(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),xj(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wj(this._element,this._name,"paused")}resume(){wj(this._element,this._name,"running")}setPosition(t){const e=Oj(this._element,this._name);this._position=t*this._duration,kj(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),xj(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Sj(t,"").split(","),r=Cj(n,e);r>=0&&(n.splice(r,1),kj(t,"",n.join(",")))}(this._element,this._name))}}function wj(t,e,n){kj(t,"PlayState",n,Oj(t,e))}function Oj(t,e){const n=Sj(t,"");return n.indexOf(",")>0?Cj(n.split(","),e):Cj([n],e)}function Cj(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function xj(t,e,n){n?t.removeEventListener(yj,e):t.addEventListener(yj,e)}function kj(t,e,n,r){const i=vj+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Sj(t,e){return t.style[vj+e]}class Ej{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _j(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:dA(this.element,n))})}this.currentSnapshot=t}}class Ij extends vP{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=VP(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Tj{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return RP(t)}matchesElement(t,e){return NP(t,e)}containsElement(t,e){return DP(t,e)}query(t,e,n){return LP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>VP(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Ej),c={};uA(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=lA(t,e,c));if(0==n)return new Ij(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=pj(t,e),f=new Ej(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Pj{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:dA(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Aj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jj().toString()),this._cssKeyframesDriver=new Tj}validateStyleProperty(t){return RP(t)}matchesElement(t,e){return NP(t,e)}containsElement(t,e){return DP(t,e)}query(t,e,n){return LP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof Pj);uA(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=pj(t,e=lA(t,e=e.map(t=>XP(t,!1)),c));return new Pj(t,e,a,l)}}function jj(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Mj=(()=>{class t extends fP{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.X.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?gP(t):t;return Dj(this._renderer,null,e,"register",[n]),new Rj(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.L),r.ac(a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Rj extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nj(this._id,t,e||{},this._renderer)}}class Nj{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Dj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Dj(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Lj="@",Vj="@.disabled";let Fj=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Uj("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Wj(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.L),r.ac(fj),r.ac(r.E))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Uj{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Lj&&e==Vj?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Wj extends Uj{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Lj?"."==e.charAt(1)&&e==Vj?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Lj){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Lj&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qj=(()=>{class t extends fj{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(a),r.ac(UP),r.ac(DA))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Bj=[{provide:UP,useFactory:function(){return"function"==typeof jj()?new Aj:new Tj}},{provide:new r.t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:fP,useClass:Mj},{provide:DA,useFactory:function(){return new LA}},{provide:fj,useClass:qj},{provide:r.L,useFactory:function(t,e,n){return new Fj(t,e,n)},deps:[ht,fj,r.E]}];let Hj=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:Bj,imports:[xt]}),t})(),zj=(()=>{class t{}return t.\u0275mod=r.Pb({type:t,bootstrap:[hP]}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[{provide:s_,useClass:dP,multi:!0},qx],imports:[[xt,lP,kt.a.initializeApp(i),pm,Jg,Wb,Nw,Rw,Bb,Hj,by,y_,Fy]]}),t})();Object(r.Z)(),Ot().bootstrapModule(zj).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);